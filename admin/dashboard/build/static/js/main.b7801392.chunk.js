(this.webpackJsonpvuthy_dashboard=this.webpackJsonpvuthy_dashboard||[]).push([[0],{112:function(e,a,t){e.exports=t.p+"static/media/three-dots-black.9f3b0075.svg"},19:function(e,a,t){e.exports=t.p+"static/media/three-dots.7627bc82.svg"},405:function(e,a,t){e.exports=t(821)},410:function(e,a,t){},412:function(e,a,t){},558:function(e,a){},560:function(e,a){},572:function(e,a){},574:function(e,a){},602:function(e,a){},604:function(e,a){},605:function(e,a){},611:function(e,a){},613:function(e,a){},631:function(e,a){},634:function(e,a){},650:function(e,a){},653:function(e,a){},821:function(e,a,t){"use strict";t.r(a);var n=t(18),r=t(0),l=t.n(r),i=t(11),c=t.n(i),o=(t(410),t(411),t(412),t(21)),s=t(37),m=t(6),u=t.n(m),d=t(10),g=t(4),p=t(824),E=t(825),b=t(834),f=t(835),h=t(9),y=t(128),v=t(49),O=t(76),j=t.n(O),k=t(19),w=t.n(k),x=t(61),_=t.n(x),S=t(181),N=t.n(S);var $=b.a.create()((function(e){var a=Object(r.useState)(!1),t=Object(g.a)(a,2),i=t[0],c=t[1],s=e.form.getFieldDecorator;return l.a.createElement("div",null,l.a.createElement(N.a,{className:"loginBackground",params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),l.a.createElement("div",{className:"loginContainer"},l.a.createElement("h1",{className:"loginTitle"},"Login"),l.a.createElement(b.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(e,a){e?console.log(e):(console.log(a.remember),j.a.post("https://admin.koompi.com/login",Object(n.a)({},a)).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),_.a.set("token",t.data.token,a.remember?{expires:7}:null),e.next=5,E.a.success("Login successfully.",3);case 5:window.location.replace("/admin/dashboard");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){var a;c(!0),setTimeout((function(){c(!1)}),3e3),"You don't have a permission to access it"===e.response.data.message?(a="info",p.a[a]({message:"Hello there!",description:"You don't permission to access it yet. Please ask the admin to approve your user.",closeIcon:!0,duration:10})):E.a.error(e.response.data.message,10)})))}))},className:"login-form"},l.a.createElement(b.a.Item,null,s("email",{rules:[{required:!0,message:"Please input your Email!"}]})(l.a.createElement(f.a,{size:"large",prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),l.a.createElement(b.a.Item,null,s("password",{rules:[{required:!0,message:"Please input your Password!"}]})(l.a.createElement(f.a,{size:"large",prefix:l.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),l.a.createElement(b.a.Item,null,s("remember",{valuePropName:"checked",initialValue:!0})(l.a.createElement(y.a,null,"Remember me")),l.a.createElement("br",null),l.a.createElement(v.a,{size:"small",type:"primary",htmlType:"submit",className:"login-form-button",disabled:!!i},i?l.a.createElement("img",{src:w.a,alt:"koompi-steam-loading",height:"10"}):"Login"),l.a.createElement("br",null),"Or ",l.a.createElement(o.b,{to:"/register"},"register now!")))))})),q=t(5),T=t(13),C=t(14),I=t.n(C);function D(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $name: String!\n    $title: String!\n    $image: String!\n    $desc: String!\n    $date: String!\n    $url: String!\n    $category: String!\n  ) {\n    update_ama(\n      id: $id\n      name: $name\n      title: $title\n      image: $image\n      desc: $desc\n      date: $date\n      url: $url\n      category: $category\n    ) {\n      message\n    }\n  }\n"]);return D=function(){return e},e}function z(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_ama(id: $id) {\n      message\n    }\n  }\n"]);return z=function(){return e},e}function A(){var e=Object(T.a)(["\n  mutation(\n    $name: String!\n    $title: String!\n    $image: String!\n    $desc: String!\n    $date: String!\n    $url: String!\n    $category: String!\n    $created_by: String!\n    $created_at: String!\n  ) {\n    create_ama(\n      name: $name\n      title: $title\n      image: $image\n      desc: $desc\n      date: $date\n      url: $url\n      category: $category\n      created_by: $created_by\n      created_at: $created_at\n    ) {\n      message\n    }\n  }\n"]);return A=function(){return e},e}function L(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_customer(id: $id) {\n      message\n    }\n  }\n"]);return L=function(){return e},e}function P(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_software(id: $id) {\n      message\n    }\n  }\n"]);return P=function(){return e},e}function F(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $description: String!\n    $logo: String!\n    $image: String!\n  ) {\n    edit_software(\n      id: $id\n      title: $title\n      description: $description\n      logo: $logo\n      image: $image\n    ) {\n      message\n    }\n  }\n"]);return F=function(){return e},e}function V(){var e=Object(T.a)(["\n  mutation(\n    $title: String!\n    $description: String!\n    $logo: String!\n    $image: String!\n    $created_by: String!\n  ) {\n    create_software(\n      title: $title\n      description: $description\n      logo: $logo\n      image: $image\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return V=function(){return e},e}function M(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_legal(id: $id) {\n      message\n    }\n  }\n"]);return M=function(){return e},e}function Y(){var e=Object(T.a)(["\n  mutation($id: String!, $title: String!, $description: String!) {\n    edit_legal(id: $id, title: $title, description: $description) {\n      message\n    }\n  }\n"]);return Y=function(){return e},e}function R(){var e=Object(T.a)(["\n  mutation($title: String!, $description: String!, $created_by: String!) {\n    create_legal(title: $title, description: $description, created_by: $created_by) {\n      message\n    }\n  }\n"]);return R=function(){return e},e}function H(){var e=Object(T.a)(["\n  mutation($id: String!, $name: String!, $link: String!, $logo: String!) {\n    update_social_media(id: $id, name: $name, link: $link, logo: $logo) {\n      message\n    }\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_social_media(id: $id) {\n      message\n    }\n  }\n"]);return U=function(){return e},e}function B(){var e=Object(T.a)(["\n  mutation($name: String!, $link: String!, $logo: String!, $created_by: String!) {\n    add_social_media(\n      name: $name\n      link: $link\n      logo: $logo\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return B=function(){return e},e}function K(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $name: String!\n    $location: String!\n    $logo: String!\n    $phoneNumber: String\n    $email: String\n  ) {\n    update_retailer(\n      id: $id\n      name: $name\n      location: $location\n      logo: $logo\n      phoneNumber: $phoneNumber\n      email: $email\n    ) {\n      message\n    }\n  }\n"]);return K=function(){return e},e}function J(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_retailer(id: $id) {\n      message\n    }\n  }\n"]);return J=function(){return e},e}function G(){var e=Object(T.a)(["\n  mutation(\n    $name: String!\n    $location: String!\n    $logo: String!\n    $phoneNumber: String\n    $email: String\n    $created_by: String!\n  ) {\n    add_retailer(\n      name: $name\n      location: $location\n      logo: $logo\n      phoneNumber: $phoneNumber\n      email: $email\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return G=function(){return e},e}function W(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $fullname: String!\n    $department: String!\n    $position: String!\n    $phoneNumber: String!\n    $email: String\n    $photo: String!\n    $created_by: String!\n  ) {\n    update_member(\n      id: $id\n      fullname: $fullname\n      department: $department\n      position: $position\n      phoneNumber: $phoneNumber\n      email: $email\n      photo: $photo\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return W=function(){return e},e}function Q(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_member(id: $id) {\n      message\n    }\n  }\n"]);return Q=function(){return e},e}function X(){var e=Object(T.a)(["\n  mutation(\n    $fullname: String!\n    $department: String!\n    $position: String!\n    $phoneNumber: String!\n    $email: String\n    $photo: String!\n    $created_by: String!\n  ) {\n    add_member(\n      fullname: $fullname\n      department: $department\n      position: $position\n      phoneNumber: $phoneNumber\n      email: $email\n      photo: $photo\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $subTitle: String\n    $description: String\n    $image: String\n    $category: String!\n    $sectionNumber: String!\n    $keywords: [String]!\n    $meta_desc: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_page(\n      id: $id\n      title: $title\n      subTitle: $subTitle\n      description: $description\n      image: $image\n      category: $category\n      sectionNumber: $sectionNumber\n      keywords: $keywords\n      meta_desc: $meta_desc\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      message\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_page(id: $id) {\n      message\n    }\n  }\n"]);return ee=function(){return e},e}function ae(){var e=Object(T.a)(["\n  mutation(\n    $title: String!\n    $lang: String!\n    $subTitle: String\n    $created_by: String!\n    $description: String\n    $image: String\n    $category: String!\n    $sectionNumber: String\n    $keywords: [String]!\n    $meta_desc: String!\n  ) {\n    create_page(\n      title: $title\n      lang: $lang\n      subTitle: $subTitle\n      created_by: $created_by\n      description: $description\n      sectionNumber: $sectionNumber\n      image: $image\n      category: $category\n      keywords: $keywords\n      meta_desc: $meta_desc\n    ) {\n      message\n    }\n  }\n"]);return ae=function(){return e},e}function te(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $slug: String!\n    $title: String!\n    $category: String!\n    $description: String!\n    $thumnail: String\n    $tags: [String]!\n    $keywords: [String]!\n    $meta_desc: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_post(\n      id: $id\n      title: $title\n      slug: $slug\n      category: $category\n      description: $description\n      thumnail: $thumnail\n      tags: $tags\n      keywords: $keywords\n      meta_desc: $meta_desc\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      message\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_post(id: $id) {\n      message\n    }\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(T.a)(["\n  mutation(\n    $title: String!\n    $slug: String!\n    $category: String!\n    $created_by: String!\n    $description: String!\n    $thumnail: String\n    $tags: [String]!\n    $keywords: [String]!\n    $meta_desc: String!\n  ) {\n    create_post(\n      title: $title\n      slug: $slug\n      category: $category\n      created_by: $created_by\n      description: $description\n      thumnail: $thumnail\n      tags: $tags\n      keywords: $keywords\n      meta_desc: $meta_desc\n    ) {\n      message\n    }\n  }\n"]);return re=function(){return e},e}function le(){var e=Object(T.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $slug: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_category(\n      id: $id\n      title: $title\n      slug: $slug\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      id\n      title\n      slug\n    }\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_category(id: $id) {\n      title\n    }\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(T.a)(["\n  mutation($title: String!, $slug: String!, $created_by: String!) {\n    create_category(title: $title, slug: $slug, created_by: $created_by) {\n      id\n      title\n      slug\n      created_by\n      created_at\n    }\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(T.a)(["\n  mutation($id: String!) {\n    delete_user(id: $id) {\n      fullname\n    }\n  }\n"]);return oe=function(){return e},e}function se(){var e=Object(T.a)(["\n  mutation($id: String!, $isAdmin: Boolean!) {\n    isAdmin(id: $id, isAdmin: $isAdmin) {\n      fullname\n      email\n      isAdmin\n    }\n  }\n"]);return se=function(){return e},e}function me(){var e=Object(T.a)(["\n  mutation($id: String!, $approve: Boolean!) {\n    approve_user(id: $id, approve: $approve) {\n      fullname\n      email\n      approved\n    }\n  }\n"]);return me=function(){return e},e}function ue(){var e=Object(T.a)(["\n  mutation(\n    $fullname: String!\n    $email: String!\n    $avatar: String!\n    $oldPassword: String\n    $newPassword: String\n  ) {\n    update_user(\n      fullname: $fullname\n      email: $email\n      avatar: $avatar\n      oldPassword: $oldPassword\n      newPassword: $newPassword\n    ) {\n      fullname\n      email\n    }\n  }\n"]);return ue=function(){return e},e}function de(){var e=Object(T.a)(["\n  mutation($fullname: String!, $email: String!, $password: String!) {\n    create_user(fullname: $fullname, email: $email, password: $password) {\n      fullname\n      email\n      password\n    }\n  }\n"]);return de=function(){return e},e}var ge=I()(de()),pe=I()(ue()),Ee=I()(me()),be=I()(se()),fe=I()(oe()),he=I()(ce()),ye=I()(ie()),ve=I()(le()),Oe=I()(re()),je=I()(ne()),ke=I()(te()),we=I()(ae()),xe=I()(ee()),_e=I()(Z()),Se=I()(X()),Ne=I()(Q()),$e=I()(W()),qe=I()(G()),Te=I()(J()),Ce=I()(K()),Ie=I()(B()),De=I()(U()),ze=I()(H()),Ae=I()(R()),Le=I()(Y()),Pe=I()(M()),Fe=I()(V()),Ve=I()(F()),Me=I()(P()),Ye=I()(L()),Re=I()(A()),He=I()(z()),Ue=I()(D());var Be=b.a.create()((function(e){var a=Object(q.a)(ge),t=Object(g.a)(a,1)[0],n=Object(r.useState)(!1),i=Object(g.a)(n,2),c=i[0],s=i[1],m=e.form.getFieldDecorator;return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{className:"loginBackground",params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),l.a.createElement("div",{className:"loginContainer"},l.a.createElement("h1",{className:"loginTitle"},"Register"),l.a.createElement(b.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields(function(){var e=Object(d.a)(u.a.mark((function e(a,n){var r,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=6;break}return r=n.fullname,l=n.email,i=n.password,e.next=4,t({variables:{fullname:r,email:l,password:i}}).then(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,E.a.success("Register Successfully.",3);case 3:return e.next=5,window.location.replace("/login");case 5:case"end":return e.stop()}}),e)})))).catch((function(e){s(!0),setTimeout((function(){s(!1)}),3e3);var a=JSON.parse(JSON.stringify(e));E.a.error(a.graphQLErrors[0].message)}));case 4:e.next=7;break;case 6:console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}())},className:"login-form"},l.a.createElement(b.a.Item,null,m("fullname",{rules:[{required:!0,message:"Please input your Full Name!"}]})(l.a.createElement(f.a,{size:"large",prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Full Name"}))),l.a.createElement(b.a.Item,null,m("email",{rules:[{required:!0,message:"Please input your Email!"}]})(l.a.createElement(f.a,{size:"large",prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),l.a.createElement(b.a.Item,null,m("password",{rules:[{required:!0,message:"Please input your Password!"}]})(l.a.createElement(f.a,{size:"large",prefix:l.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),l.a.createElement(b.a.Item,null,l.a.createElement(v.a,{size:"small",type:"primary",htmlType:"submit",className:"login-form-button",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"koompi-steam-loading",height:"10"}):"Sign Up"),l.a.createElement("br",null),"Have an account? ",l.a.createElement(o.b,{to:"/login"},"Login")))))})),Ke=t(194),Je=t(127),Ge=t.n(Je),We=_.a.get("token"),Qe=Ge.a.decode(We),Xe=function(e){var a=e.component,t=Object(Ke.a)(e,["component"]);return l.a.createElement(s.b,Object.assign({},t,{render:function(e){return Qe?l.a.createElement(a,e):l.a.createElement(s.a,{to:"/login"})}}))},Ze=function(e){var a=e.component,t=e.restricted,n=Object(Ke.a)(e,["component","restricted"]),r=_.a.get("token"),i=Ge.a.decode(r);return l.a.createElement(s.b,Object.assign({},n,{render:function(e){return i&&t?l.a.createElement(s.a,{to:"/admin/dashboard"}):l.a.createElement(a,e)}}))},ea=Object(r.createContext)(),aa=function(e){var a=Object(r.useState)({fullname:"",email:"",avatar:""}),t=Object(g.a)(a,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){var e=_.a.get("token"),a=Ge.a.decode(e);i(a)}),[]),l.a.createElement(ea.Provider,{value:{user:n}},e.children)},ta=t(826),na=t(828),ra=t(829),la=t(252),ia=t(67),ca=ta.a.Sider,oa=la.a.SubMenu;var sa=function(){var e=Object(r.useContext)(ea),a=Object(r.useState)(!0),t=Object(g.a)(a,2),n=t[0],i=t[1],c=window.location.pathname,s=e.user,m=s.fullname,u=s.isAdmin;if(""===m)return null;var d=JSON.parse(localStorage.getItem("isLight"));return l.a.createElement(ca,{style:d?{backgroundColor:"rgb(30, 39, 46)"}:{backgroundColor:"#fff"}},l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("img",{src:d?"/images/KOOMPI_Logo.svg":"/images/KOOMPI_Logo_dark.svg",alt:"",className:"KOOMPI_LOGO"})),l.a.createElement("div",{className:"themeChange",onClick:function(){i(!n),localStorage.setItem("isLight",!n)}},d?l.a.createElement("img",{src:"/images/day.svg",alt:"koompi day",height:"25px"}):l.a.createElement("img",{src:"/images/night.svg",alt:"koompi night",height:"25px"}))),l.a.createElement(la.a,{theme:d?"dark":"light",defaultSelectedKeys:[c],defaultOpenKeys:[c],mode:"inline"},l.a.createElement(la.a.Item,{key:"/admin/dashboard"},l.a.createElement(o.b,{to:"/admin/dashboard",className:"nav-text"},l.a.createElement(ia.a,null),l.a.createElement("span",null,"Dashboard"))),l.a.createElement(la.a.ItemGroup,{key:"site-management",title:"Site Management"},l.a.createElement(oa,{key:"/admin/add-ama"===c?"/admin/add-ama":"/admin/all-amas",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(ia.d,null),l.a.createElement("span",null,"AMA"))},l.a.createElement(la.a.Item,{key:"/admin/add-ama"},l.a.createElement(o.b,{to:"/admin/add-ama"},"Add AMA")),l.a.createElement(la.a.Item,{key:"/admin/all-amas"},l.a.createElement(o.b,{to:"/admin/all-amas"},"All AMA"))),l.a.createElement(oa,{key:"/admin/new-post"===c?"/admin/new-post":"/admin/all-posts",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(ia.d,null),l.a.createElement("span",null,"Posts"))},l.a.createElement(la.a.Item,{key:"/admin/new-post"},l.a.createElement(o.b,{to:"/admin/new-post"},"New Post")),l.a.createElement(la.a.Item,{key:"/admin/all-posts"},l.a.createElement(o.b,{to:"/admin/all-posts"},"All Posts"))),l.a.createElement(oa,{key:"/admin/new-page"===c?"/admin/new-page":"/admin/all-pages",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(ia.c,null),l.a.createElement("span",null,"Pages"))},l.a.createElement(la.a.Item,{key:"/admin/new-page"},l.a.createElement(o.b,{to:"/admin/new-page"},"New Page")),l.a.createElement(la.a.Item,{key:"/admin/all-pages"},l.a.createElement(o.b,{to:"/admin/all-pages"},"All Pages"))),l.a.createElement(la.a.Item,{key:"/admin/categories"},l.a.createElement(o.b,{to:"/admin/categories",className:"nav-text"},l.a.createElement(ia.e,null),l.a.createElement("span",null,"Categories"))),l.a.createElement(oa,{key:"/admin/new-member"===c?"/admin/new-member":"/admin/members",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(ia.j,null),l.a.createElement("span",null,"Members"))},l.a.createElement(la.a.Item,{key:"/admin/new-member"},l.a.createElement(o.b,{to:"/admin/new-member"},"New Member")),l.a.createElement(la.a.Item,{key:"/admin/members"},l.a.createElement(o.b,{to:"/admin/members"},"All Members"))),l.a.createElement(oa,{key:"/admin/add-social-media"===c?"/admin/add-social-media":"/admin/social-media",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(ia.g,null),l.a.createElement("span",null,"Socail media"))},l.a.createElement(la.a.Item,{key:"/admin/add-social-media"},l.a.createElement(o.b,{to:"/admin/add-social-media"},"Add Social Media")),l.a.createElement(la.a.Item,{key:"/admin/social-media"},l.a.createElement(o.b,{to:"/admin/social-media"},"Social Media"))),u&&l.a.createElement(oa,{key:"/admin/new-legal"===c?"/admin/new-legal":"/admin/all-legals",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(ia.i,null),l.a.createElement("span",null,"Legals"))},l.a.createElement(la.a.Item,{key:"/admin/new-legal"},l.a.createElement(o.b,{to:"/admin/new-legal"},"New Legal")),l.a.createElement(la.a.Item,{key:"/admin/all-legals"},l.a.createElement(o.b,{to:"/admin/all-legals"},"All Legals"))),l.a.createElement(la.a.Item,{key:"/admin/users"},l.a.createElement(o.b,{to:"/admin/users",className:"nav-text"},l.a.createElement(ia.h,null),l.a.createElement("span",null,"Users")))),l.a.createElement(la.a.ItemGroup,{key:"payment-management",title:"Payment Management"},u&&l.a.createElement(la.a.Item,{key:"/admin/user/payments"},l.a.createElement(o.b,{to:"/admin/user/payments",className:"nav-text"},l.a.createElement(ia.b,null),l.a.createElement("span",null,"User Payment")))),l.a.createElement(la.a.ItemGroup,{key:"telegram-bot",title:"Bot System"},u&&l.a.createElement(la.a.Item,{key:"/admin/telegram-bot"},l.a.createElement(o.b,{to:"/admin/telegram-bot",className:"nav-text"},l.a.createElement(ia.f,null),l.a.createElement("span",null,"Telegram"))))))},ma=t(827);function ua(){var e=Object(T.a)(["\n  query($id: String!) {\n    ama(id: $id) {\n      id\n      name\n      title\n      image\n      desc\n      date\n      category\n      created_at\n      url\n      user {\n        fullname\n      }\n    }\n  }\n"]);return ua=function(){return e},e}function da(){var e=Object(T.a)(["\n  query {\n    amas {\n      id\n      name\n      title\n      image\n      desc\n      date\n      category\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return da=function(){return e},e}function ga(){var e=Object(T.a)(["\n  query($id: String!) {\n    product(id: $id) {\n      id\n      name\n      price\n      purchasingType\n    }\n  }\n"]);return ga=function(){return e},e}function pa(){var e=Object(T.a)(["\n  query($id: String!) {\n    software(id: $id) {\n      id\n      title\n      description\n      logo\n      image\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return pa=function(){return e},e}function Ea(){var e=Object(T.a)(["\n  query {\n    softwares {\n      id\n      title\n      description\n      logo\n      image\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return Ea=function(){return e},e}function ba(){var e=Object(T.a)(["\n  query {\n    customers {\n      id\n      firstname\n      lastname\n      email\n      phone\n      payBy\n      products\n      created_at\n    }\n  }\n"]);return ba=function(){return e},e}function fa(){var e=Object(T.a)(["\n  query($id: String!) {\n    legal(id: $id) {\n      id\n      title\n      description\n      created_by\n      created_at\n    }\n  }\n"]);return fa=function(){return e},e}function ha(){var e=Object(T.a)(["\n  query {\n    legals {\n      id\n      title\n      description\n      created_by\n      created_at\n    }\n  }\n"]);return ha=function(){return e},e}function ya(){var e=Object(T.a)(["\n  query($id: String!) {\n    oneSocialMedia(id: $id) {\n      id\n      name\n      logo\n      link\n      created_by\n      created_at\n    }\n  }\n"]);return ya=function(){return e},e}function va(){var e=Object(T.a)(["\n  query {\n    socialMedia {\n      id\n      name\n      logo\n      link\n      created_by\n      created_at\n    }\n  }\n"]);return va=function(){return e},e}function Oa(){var e=Object(T.a)(["\n  query($id: String!) {\n    retailer(id: $id) {\n      name\n      id\n      email\n      logo\n      location\n      created_by\n      phoneNumber\n      created_at\n    }\n  }\n"]);return Oa=function(){return e},e}function ja(){var e=Object(T.a)(["\n  query {\n    retailers {\n      name\n      id\n      email\n      logo\n      location\n      created_by\n      phoneNumber\n      created_at\n    }\n  }\n"]);return ja=function(){return e},e}function ka(){var e=Object(T.a)(["\n  query($id: String!) {\n    member(id: $id) {\n      id\n      fullname\n      phoneNumber\n      email\n      created_by\n      position\n      photo\n      department\n      created_at\n    }\n  }\n"]);return ka=function(){return e},e}function wa(){var e=Object(T.a)(["\n  query {\n    members {\n      id\n      fullname\n      phoneNumber\n      email\n      created_by\n      position\n      photo\n      department\n      created_at\n    }\n  }\n"]);return wa=function(){return e},e}function xa(){var e=Object(T.a)(["\n  query($id: String!) {\n    page(id: $id) {\n      id\n      title\n      subTitle\n      category {\n        title\n        slug\n      }\n      sectionNumber\n      created_by\n      description\n      meta_desc\n      keywords\n      image\n      updated_at\n      updated_by\n      created_at\n    }\n  }\n"]);return xa=function(){return e},e}function _a(){var e=Object(T.a)(["\n  query {\n    pages {\n      id\n      title\n      subTitle\n      category {\n        title\n      }\n      lang {\n        lang\n      }\n      sectionNumber\n      created_by\n      description\n      meta_desc\n      keywords\n      image\n      updated_at\n      updated_by\n      created_at\n    }\n  }\n"]);return _a=function(){return e},e}function Sa(){var e=Object(T.a)(["\n  query($id: String!) {\n    post(id: $id) {\n      id\n      title\n      slug\n      created_by\n      description\n      category {\n        title\n      }\n      meta_desc\n      keywords\n      tags\n      updated_at\n      updated_by\n      created_at\n      thumnail\n    }\n  }\n"]);return Sa=function(){return e},e}function Na(){var e=Object(T.a)(["\n  query {\n    posts {\n      id\n      title\n      slug\n      description\n      category {\n        title\n      }\n      user {\n        fullname\n      }\n      meta_desc\n      keywords\n      tags\n      updated_at\n      updated_by\n      created_at\n      thumnail\n    }\n  }\n"]);return Na=function(){return e},e}function $a(){var e=Object(T.a)(["\n  query($id: String!) {\n    category(id: $id) {\n      id\n      title\n      created_by\n    }\n  }\n"]);return $a=function(){return e},e}function qa(){var e=Object(T.a)(["\n  query {\n    categories {\n      id\n      title\n      slug\n      created_by\n      updated_by\n      created_at\n      updated_at\n    }\n  }\n"]);return qa=function(){return e},e}function Ta(){var e=Object(T.a)(["\n  query($email: String!) {\n    user(email: $email) {\n      fullname\n      email\n      avatar\n      isAdmin\n      id\n      approved\n    }\n  }\n"]);return Ta=function(){return e},e}function Ca(){var e=Object(T.a)(["\n  query {\n    users {\n      fullname\n      email\n      avatar\n      isAdmin\n      id\n      approved\n      created_at\n    }\n  }\n"]);return Ca=function(){return e},e}var Ia=I()(Ca()),Da=I()(Ta()),za=I()(qa()),Aa=I()($a()),La=I()(Na()),Pa=I()(Sa()),Fa=I()(_a()),Va=I()(xa()),Ma=I()(wa()),Ya=I()(ka()),Ra=I()(ja()),Ha=I()(Oa()),Ua=I()(va()),Ba=I()(ya()),Ka=I()(ha()),Ja=I()(fa()),Ga=I()(ba()),Wa=I()(Ea()),Qa=I()(pa()),Xa=(I()(ga()),I()(da())),Za=I()(ua()),et=ta.a.Header;var at=function(){var e=Object(r.useContext)(ea).user.email,a=l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/user/settings"},"Settings"),l.a.createElement("p",null,l.a.createElement("a",{href:"/logout"},"Logout"))),t=function(){var t=Object(q.b)(Da,{variables:{email:e}}),n=t.error,r=t.loading,i=t.data;if(n&&console.log(n),r)return"Loading ...";if(i){var c=i.user,o=c.fullname,s=c.avatar,m=c.email;return l.a.createElement(ma.a,{placement:"bottomRight",title:l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,o)),l.a.createElement("p",null,m)),content:a},l.a.createElement("img",{src:"https://admin.koompi.com"+s,alt:o,className:"avatar"}))}};return l.a.createElement(et,{style:{background:"#fff",padding:0}},l.a.createElement(t,null))},tt=ta.a.Footer;var nt=function(){return l.a.createElement(tt,{style:{textAlign:"center"}},"Copyright \xa9 2020 Created by ",l.a.createElement("b",null,"KOOMPI"),l.a.createElement("p",null,"A brainchild of ",l.a.createElement("b",null,"SmallWorld Venture")))},rt=t(112),lt=t.n(rt),it=function(){var e=Object(q.b)(La),a=e.error,t=e.loading,n=e.data;return t?l.a.createElement("center",null,l.a.createElement("img",{src:lt.a,alt:"btn-loading",height:"12"})):(a&&console.log(a),n?(console.log("data",n.posts.created_at),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.posts.length)," posts")))):void 0)},ct=function(){var e=Object(q.b)(Fa),a=e.error,t=e.loading,n=e.data;return t?l.a.createElement("center",null,l.a.createElement("img",{src:lt.a,alt:"btn-loading",height:"12"})):(a&&console.log(a),n?l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.pages.length)," pages"))):void 0)},ot=function(){var e=Object(q.b)(Ra),a=e.error,t=e.loading,n=e.data;return t?l.a.createElement("center",null,l.a.createElement("img",{src:lt.a,alt:"btn-loading",height:"12"})):(a&&console.log(a),n?l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.retailers.length)," retailers"))):void 0)},st=(t(677),t(33)),mt=t.n(st),ut=ta.a.Content;var dt=function(){var e=Object(r.useState)({options:{chart:{id:"basic-bar"},xaxis:{categories:[1580871334388,1580799414274,1580377941997]}},series:[{name:"series-1",data:[30,40,45]}]}),a=Object(g.a)(e,2),t=(a[0],a[1],function(){var e=Object(q.b)(Ia),a=e.error,t=e.loading,n=e.data;return t?l.a.createElement("center",null,l.a.createElement("img",{src:lt.a,alt:"btn-loading",height:"12"})):(a&&console.log(a),n?(console.log("Data",n.users.sort((function(e){return mt()(e.created_at).unix()}))),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.users.length)," users")))):void 0)});return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(ut,null,l.a.createElement(at,null),l.a.createElement("div",{style:{padding:"0px 50px "}},l.a.createElement(na.a,{gutter:[16,16]},l.a.createElement(ra.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/User.svg",alt:"user",className:"card_icon"})),l.a.createElement(t,null))),l.a.createElement(ra.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/Post.svg",alt:"user",className:"card_icon"})),l.a.createElement(it,null))),l.a.createElement(ra.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/Page.svg",alt:"user",className:"card_icon"})),l.a.createElement(ct,null))),l.a.createElement(ra.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/Retailers.svg",alt:"user",className:"card_icon"})),l.a.createElement(ot,null)))),l.a.createElement(na.a,{gutter:[16,16]},l.a.createElement(ra.a,{span:24},l.a.createElement("div",{className:"card_back_content"},l.a.createElement("center",null,l.a.createElement("img",{src:"/images/coursenotfound.gif",height:"400px",alt:""})))))),l.a.createElement("div",null)),l.a.createElement(nt,null)))},gt=t(390),pt=t.n(gt);t(75);var Et=function(e){return l.a.createElement(pt.a,{formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link"],modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},onChange:e.handleDescChange,defaultValue:e.defaultValue,preserveWhitespace:!0})},bt=t(60),ft=t(85),ht=t.n(ft),yt=t(86),vt=t.n(yt),Ot=t(87),jt=t.n(Ot),kt=t(88),wt=t.n(kt),xt=t(89),_t=t.n(xt),St=t(90),Nt=t.n(St),$t=t(91),qt=t.n($t),Tt=t(92),Ct=t.n(Tt),It=t(93),Dt=t.n(It),zt=t(94),At=t.n(zt),Lt=t(95),Pt=t.n(Lt),Ft=t(96),Vt=t.n(Ft),Mt=t(97),Yt=t.n(Mt),Rt=t(98),Ht=t.n(Rt),Ut=t(99),Bt=t.n(Ut),Kt=(ht.a,vt.a,jt.a,wt.a,_t.a,Nt.a,qt.a,Ct.a,Dt.a,At.a,Pt.a,Vt.a,Yt.a,Ht.a,Bt.a,t(62)),Jt=t.n(Kt),Gt=t(130),Wt=t.n(Gt),Qt=t(152),Xt=t(833),Zt=b.a.Item,en=ta.a.Content,an=f.a.TextArea,tn=Qt.a.Option,nn=[];var rn=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(""),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(r.useState)(""),O=Object(g.a)(y,2),j=O[0],k=O[1],x=Object(r.useContext)(ea),_=Object(q.b)(za).refetch,S=Object(q.b)(La).refetch,N=Object(q.a)(Oe),$=Object(g.a)(N,1)[0],T=function(){var e=Object(q.b)(za),t=e.error,n=e.loading,r=e.data;if(t&&console.log(t),n)return"Loading ...";if(0===r.categories.length)return E.a.error("Please create a category.",5),l.a.createElement(b.a.Item,{label:"Categories"},a("category",{rules:[{required:!0,message:"Please select your category!"}]})(l.a.createElement(Qt.a,{placeholder:"No Category"})));var i=Wt.a.filter(r.categories,(function(e){return Wt.a.includes(["news","events"],e.slug)}));return l.a.createElement(b.a.Item,{label:"Categories"},a("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i[0].title})(l.a.createElement(Qt.a,{placeholder:"Please select the category",size:"large"},i.map((function(e){return l.a.createElement(tn,{value:e.title,key:e.id},e.title)})))))},C={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return l.a.useRef(null),l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(en,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"New Post"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Zt,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Zt,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:x.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement(Zt,{label:"Description: "},l.a.createElement(Et,{handleDescChange:function(e){k(e)},defaultValue:j}))),l.a.createElement(ra.a,{span:8},l.a.createElement(Zt,{label:"Thumnail"},l.a.createElement(Xt.a.Dragger,C,p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(p)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("thumnail",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(T,null),l.a.createElement(Zt,{label:"Tags"},a("tags",{rules:[{required:!0,message:"The tags is required"}]})(l.a.createElement(Qt.a,{mode:"tags",style:{width:"100%"},size:"large"},nn))),l.a.createElement(Zt,{label:"SEO or Keywords"},a("keywords",{rules:[{required:!0,message:"The keywords is required"}]})(l.a.createElement(Qt.a,{mode:"tags",style:{width:"100%"},size:"large"},nn))),l.a.createElement(Zt,{label:"Meta Description: "},a("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}]})(l.a.createElement(an,{rows:4}))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c,onClick:function(){e.form.validateFieldsAndScroll((function(a,t){a||$({variables:Object(n.a)(Object(n.a)({},t),{},{slug:Jt()(t.title,{lower:!0}),description:""===j?null:j})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),k(""),_(),S(),e.form.resetFields(),a.next=8,E.a.success(t.data.create_post.message,3);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit")))))))),l.a.createElement(nt,null)))})),ln=t(838),cn=t(830),on=t(831),sn=t(832),mn=ta.a.Content;var un=function(){var e=Object(q.a)(je),a=Object(g.a)(e,1)[0],t=Object(q.b)(La).refetch,n=[{title:"Image",dataIndex:"thumnail",render:function(e){return l.a.createElement("img",{src:"https://admin.koompi.com"+e,alt:"post",height:"40px",width:"40px",style:{borderRadius:"8px"}})}},{title:"Title",dataIndex:"title",render:function(e){return e.length<=25?e:e.substring(0,25)+" ..."},key:"title"},{title:"Slug",dataIndex:"slug",key:"slug",render:function(e){return e.length<=25?e:e.substring(0,25)+" ..."}},{title:"Category",dataIndex:"category",key:"category",render:function(e){return l.a.createElement(ln.a,{color:"green"},null===e?"No category":e.title)}},{title:"Author",dataIndex:"user",key:"created_by",render:function(e){return null===e?"Null":e.fullname}},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e){return mt.a.unix(e/1e3).format("YYYY-MM-DD")}},{title:"Actions",dataIndex:"action",render:function(e,n){var r=n.id;return l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/post/edit/".concat(r)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this Post?",okText:"Yes",cancelText:"No",onConfirm:function(){a({variables:{id:"".concat(r)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_post.message);case 2:return e.next=4,t();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}}],r=function(){var e=Object(q.b)(La),a=e.error,t=e.loading,r=e.data;if(a&&console.log(a),t)return l.a.createElement(sn.a,{loading:!0});if(r){var i=function(){return l.a.createElement(sn.a,{columns:n,dataSource:r.posts,pagination:{defaultCurrent:1,total:r.posts.length,showTotal:function(e,a){return"".concat(a[0],"-").concat(a[1]," of ").concat(e," items")},pageSize:20}})};return l.a.createElement("div",null,l.a.createElement(i,null))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(mn,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"All Posts"),l.a.createElement(r,null)))),l.a.createElement(nt,null)))},dn=(ht.a,vt.a,jt.a,wt.a,_t.a,Nt.a,qt.a,Ct.a,Dt.a,At.a,Pt.a,Vt.a,Yt.a,Ht.a,Bt.a,t(837)),gn=b.a.Item,pn=ta.a.Content,En=f.a.TextArea,bn=Qt.a.Option,fn=[];var hn=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(q.a)(we),i=Object(g.a)(t,1)[0],c=Object(r.useState)(""),o=Object(g.a)(c,2),s=o[0],m=o[1],p=Object(r.useState)(!1),h=Object(g.a)(p,2),y=h[0],O=h[1],j=Object(r.useState)(""),k=Object(g.a)(j,2),x=k[0],_=k[1],S=Object(q.b)(Fa).refetch,N=Object(r.useContext)(ea),$=function(e){_(e)},T={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:s,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(m(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}},C=function(){var e=Object(q.b)(za),t=e.error,n=e.loading,r=e.data;return t&&console.log(t),n?"Loading ...":0===r.categories.length?(E.a.error("Please create a category.",5),l.a.createElement(b.a.Item,{label:"Categories"},a("category",{rules:[{required:!0,message:"Please select your category!"}]})(l.a.createElement(Qt.a,{placeholder:"No Category"})))):l.a.createElement(b.a.Item,{label:"Page"},a("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:r.categories[0].title})(l.a.createElement(Qt.a,{placeholder:"Please select the category",size:"large"},r.categories.map((function(e){return l.a.createElement(bn,{value:e.title,key:e.id},e.title)})))))};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(pn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"New Page"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(na.a,{gutter:[24]},l.a.createElement(ra.a,{span:8},l.a.createElement(gn,{label:"Language: "},a("lang",{rules:[{required:!0,message:"The Langauge is required"}],initialValue:"en"})(l.a.createElement(Qt.a,{placeholder:"Please select the category",size:"large"},l.a.createElement(bn,{value:"en",key:"en"},"English"),l.a.createElement(bn,{value:"kh",key:"en"},"Khmer"))))),l.a.createElement(ra.a,{span:8},l.a.createElement(gn,{label:"Title: "},a("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(ra.a,{span:8},l.a.createElement(gn,{label:"SubTitle: "},a("subTitle")(l.a.createElement(f.a,{size:"large"}))))),l.a.createElement(gn,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:N.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement(gn,{label:"Description: "},l.a.createElement(Et,{handleDescChange:$,defaultValue:x}))),l.a.createElement(ra.a,{span:8},l.a.createElement(gn,{label:"Image"},l.a.createElement(Xt.a.Dragger,T,s?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(s)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("image",{rules:[{required:!0,message:"Image is required"}],initialValue:"/public/uploads/"+s})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(na.a,{gutter:16},l.a.createElement(ra.a,{span:12},l.a.createElement(gn,{label:"Section Number: "},a("sectionNumber",{rules:[{required:!0,message:"The Section Number is required"}],initialValue:1})(l.a.createElement(dn.a,{min:1,size:"large",style:{width:"100%"}})))),l.a.createElement(ra.a,{span:12},l.a.createElement(C,null))),l.a.createElement(gn,{label:"SEO or Keywords"},a("keywords",{rules:[{required:!0,message:"The keywords is required"}]})(l.a.createElement(Qt.a,{mode:"tags",style:{width:"100%"},size:"large"},fn))),l.a.createElement(gn,{label:"Meta Description: "},a("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}]})(l.a.createElement(En,{rows:4}))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!y,onClick:function(){e.form.validateFieldsAndScroll((function(a,t){a||(console.log(t),i({variables:Object(n.a)(Object(n.a)({},t),{},{description:""===x?null:x,sectionNumber:t.sectionNumber.toString()})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return O(!0),setTimeout((function(){O(!1)}),3e3),$(""),e.form.resetFields(),S(),a.next=7,E.a.success(t.data.create_page.message,3);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},y?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit")))))))),l.a.createElement(nt,null)))})),yn=t(148),vn=t.n(yn),On=t(839),jn=ta.a.Content;var kn=function(){var e=Object(r.useState)(!1),a=Object(g.a)(e,2),t=(a[0],a[1],Object(q.a)(xe)),n=Object(g.a)(t,1)[0],i=Object(q.b)(Fa).refetch,c=[{key:"".concat(Object(On.a)()),title:"Image",dataIndex:"image",render:function(e){return l.a.createElement("img",{src:"/public/uploads/"===e?"/images/Error-01.png":"https://admin.koompi.com"+e,alt:"post",width:"50px"})}},{key:"".concat(Object(On.a)()),title:"Title",dataIndex:"title",render:function(e){return e.length<=25?e:e.substring(0,25)+" ..."}},{key:"".concat(Object(On.a)()),title:"SubTitle",dataIndex:"subTitle",render:function(e){return null===e?l.a.createElement(ln.a,{color:"red"},"N/A"):l.a.createElement(ln.a,{color:"green"},e)}},{key:"".concat(Object(On.a)()),title:"Page",dataIndex:"category",sorter:function(e,a){return e.category.title.length-a.category.title.length},render:function(e){return null===e?"No category":e.title}},{key:"".concat(Object(On.a)()),title:"Author",dataIndex:"created_by",render:function(e){return e}},{key:"".concat(Object(On.a)()),title:"Date",dataIndex:"created_at",render:function(e){return mt.a.unix(e/1e3).format("DD, MMM YYYY")}},{key:"".concat(Object(On.a)()),title:"Updated By",dataIndex:"updated_by",render:function(e){return null===e?"No Update":e}},{key:"".concat(Object(On.a)()),title:"Actions",dataIndex:"action",render:function(e,a){var t=a.id;return l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/page/edit/".concat(t)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this Page?",okText:"Yes",cancelText:"No",onConfirm:function(){n({variables:{id:"".concat(t)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_page.message);case 2:return e.next=4,i();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}}],s=function(){var e=Object(q.b)(Fa),a=e.error,t=e.loading,n=e.data;return a&&console.log(a),t?l.a.createElement(sn.a,{loading:!0}):n?l.a.createElement("div",null,l.a.createElement(sn.a,{rowKey:function(){return Object(On.a)()},columns:c,dataSource:n.pages,pagination:{defaultCurrent:1,total:n.pages.length,showTotal:function(e,a){return"".concat(a[0],"-").concat(a[1]," of ").concat(e," items")},pageSize:20}})):void 0};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(jn,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"All Pages"),l.a.createElement(s,null)))),l.a.createElement(nt,null)))},wn=ta.a.Content;var xn=function(){var e=Object(q.a)(Ee),a=Object(g.a)(e,1)[0],t=Object(q.a)(fe),n=Object(g.a)(t,1)[0],i=Object(q.a)(be),c=Object(g.a)(i,1)[0],o=Object(r.useContext)(ea).user.isAdmin,s=[{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",key:"admin",dataIndex:"admin"},{title:"Approved",key:"approved",dataIndex:"approved"}],m=[{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",key:"admin",dataIndex:"admin"},{title:"Approved",key:"approved",dataIndex:"approved"},{title:"Action",dataIndex:"action"}],u=function(){var e=Object(q.b)(Ia),t=e.error,r=e.loading,i=e.data,o=e.refetch;return r?"Loading ...":(t&&console.log(t),i?(o(),l.a.createElement(sn.a,{dataSource:i.users.map((function(e,t){var r=e.id,i=e.fullname,s=e.email,m=e.isAdmin,u=e.approved;return{key:t,fullname:i,email:s,admin:m?l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to make this user a normal user?",onConfirm:function(){c({variables:{id:"".concat(r),isAdmin:!1}}),E.a.success("".concat(i," updated successfully "))},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"green",key:r,style:{cursor:"pointer"}},"Yes")):l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to approve this user as Admin?",onConfirm:function(){c({variables:{id:"".concat(r),isAdmin:!0}}),E.a.success("".concat(i," has been aprroved as admin successfully "))},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"red",key:r,style:{cursor:"pointer"}},"No")),approved:u?l.a.createElement(on.a,{disabled:!!m,placement:"topRight",title:"Are you sure disable this user?",onConfirm:function(){a({variables:{id:"".concat(r),approve:!1}}),E.a.success("".concat(i," is disable "))},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"green",key:r,style:{cursor:"pointer"}},"Approved")):l.a.createElement(on.a,{disabled:!!m,placement:"topRight",title:"Are you sure to approve this user?",onConfirm:function(){a({variables:{id:"".concat(r),approve:!0}}),E.a.success("".concat(i," has been aprroved successfully ")),o()},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"orange",key:r,style:{cursor:"pointer"}},"Pending")),action:l.a.createElement("div",null,l.a.createElement(on.a,{disabled:!!m,placement:"topRight",title:"Are you sure to delete this user?",onConfirm:function(){n({variables:{id:r}}),E.a.success("".concat(i," Has been deleted "))},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}})),columns:m})):void 0)},d=function(){var e=Object(q.b)(Ia),a=e.error,t=e.loading,n=e.data;return t?"Loading ...":(a&&console.log(a),n?l.a.createElement(sn.a,{dataSource:n.users.map((function(e,a){var t=e.id,n=e.fullname,r=e.email,i=e.isAdmin,c=e.approved;return{key:a,fullname:n,email:r,admin:i?l.a.createElement(ln.a,{color:"green",key:t},"Yes"):l.a.createElement(ln.a,{color:"red",key:t},"No"),approved:c?l.a.createElement(ln.a,{color:"green",key:t},"Approved"):l.a.createElement(ln.a,{color:"orange",key:t},"Pending")}})),columns:s}):void 0)};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(wn,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Users"),o?l.a.createElement(u,null):l.a.createElement(d,null)))),l.a.createElement(nt,null)))},_n=function(){return Object(r.useEffect)((function(){_.a.set("token",""),window.location.replace("/login")})),null},Sn=b.a.Item,Nn=ta.a.Content;var $n=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],s=i[1],m=Object(r.useContext)(ea),p=Object(q.a)(he),y=Object(g.a)(p,1)[0],O=Object(q.a)(ye),j=Object(g.a)(O,1)[0],k=Object(q.b)(za).refetch,x=[{title:"Title",dataIndex:"title",onFilter:function(e,a){return 0===a.title.indexOf(e)},sorter:function(e,a){return e.title.length-a.title.length}},{title:"Slug",dataIndex:"slug",onFilter:function(e,a){return 0===a.title.indexOf(e)},sorter:function(e,a){return e.title.length-a.title.length}},{title:"Author",dataIndex:"created_by",sorter:function(e,a){return e.created_by.length-a.created_by.length}},{title:"Date",dataIndex:"created_at"},{title:"Updated By",dataIndex:"updated_by"},{title:"Updated At",dataIndex:"updated_at"},{title:"Actions",dataIndex:"action"}],_=function(){var e=Object(q.b)(za),a=e.error,t=e.loading,n=e.data;return a&&console.log(a),t?l.a.createElement(sn.a,{loading:!0}):n?l.a.createElement(sn.a,{columns:x,dataSource:n.categories.map((function(e){return{key:e.id,title:e.title,slug:e.slug,created_by:e.created_by,updated_by:""===e.updated_by?"No Update":e.updated_by,created_at:mt.a.unix(e.created_at/1e3).format("YYYY-MM-DD"),updated_at:null===e.updated_at?"No Update":mt.a.unix(e.updated_at/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/category/edit/".concat(e.id)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this category?",onConfirm:function(){j({variables:{id:"".concat(e.id)}}),E.a.success("The Category has been Deleted"),k()},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}}))}):void 0};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Nn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Category"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||y({variables:Object(n.a)(Object(n.a)({},t),{},{slug:Jt()(t.title,{lower:!0})})}).then(Object(d.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),setTimeout((function(){s(!1)}),3e3),k(),e.form.resetFields(),a.next=6,E.a.success("The Category created successfully.",3);case 6:case"end":return a.stop()}}),a)})))).catch((function(e){E.a.error(e.graphQLErrors[0].message,5)}))}))}},l.a.createElement(na.a,{gutter:[16,16]},l.a.createElement(ra.a,{span:24},l.a.createElement(Sn,null,a("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"})))),l.a.createElement(ra.a,{span:4,style:{display:"none"}},l.a.createElement(Sn,null,a("created_by",{initialValue:m.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),l.a.createElement(ra.a,{span:24,style:{marginTop:"-10px",marginBottom:"10px"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit")))),l.a.createElement("br",null),l.a.createElement("h1",{className:"title_new_post"},"Categories"),l.a.createElement(_,null)))),l.a.createElement(nt,null)))})),qn=(t(798),b.a.Item),Tn=ta.a.Content;var Cn=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useContext)(ea),m=Object(q.a)(ve),p=Object(g.a)(m,1)[0],h=Object(q.b)(Aa,{variables:{id:window.location.pathname.split("/")[4]}}),y=h.loading,O=h.data;return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Tn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},y?"loading ...":"Update ".concat(O.category.title)),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||p({variables:Object(n.a)(Object(n.a)({id:window.location.pathname.split("/")[4]},t),{},{slug:Jt()(t.title,{lower:!0})})}).then(Object(d.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),a.next=4,E.a.success("The Category update successfully.",3);case 4:return a.next=6,e.history.push("/admin/categories");case 6:case"end":return a.stop()}}),a)})))).catch((function(e){E.a.error(e)}))}))}},l.a.createElement(na.a,{gutter:[16,16]},l.a.createElement(ra.a,{span:16},l.a.createElement(qn,null,a("title",{initialValue:y?"loading ...":O.category.title})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(qn,null,a("updated_at",{rules:[{required:!0,message:"The title is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(f.a,{style:{display:"none"},size:"large"})))),l.a.createElement(ra.a,{span:4},l.a.createElement(qn,null,a("updated_by",{initialValue:s.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(f.a,{size:"large",disabled:!0})))),l.a.createElement(ra.a,{span:4},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))))))),l.a.createElement(nt,null)))})),In=b.a.Item,Dn=ta.a.Content,zn=f.a.TextArea,An=Qt.a.Option,Ln=[];var Pn=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(q.b)(Pa,{variables:{id:window.location.pathname.split("/")[4]}}),i=t.loading,c=t.data,o=Object(r.useState)(!1),s=Object(g.a)(o,2),m=s[0],p=s[1],h=Object(r.useState)(null),y=Object(g.a)(h,2),O=y[0],j=y[1],k=Object(r.useState)(""),x=Object(g.a)(k,2),_=x[0],S=x[1],N=Object(r.useContext)(ea),$=(l.a.useRef(null),Object(q.b)(La).refetch),T=Object(q.a)(ke),C=Object(g.a)(T,1)[0],I=function(){var e=Object(q.b)(za),t=e.error,n=e.loading,r=e.data;if(t&&console.log(t),n)return"Loading ...";var i=Wt.a.filter(r.categories,(function(e){return Wt.a.includes(["news","events"],e.slug)}));return l.a.createElement(b.a.Item,{label:"Categories"},a("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:c.post.category.title})(l.a.createElement(Qt.a,{placeholder:"Please select the category",size:"large"},i.map((function(e){return l.a.createElement(An,{value:e.title,key:e.id},e.title)})))))},D={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:O,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(j(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return i?"Loading...":(console.log("Result",c.post.description),l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Dn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Post"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(In,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}],initialValue:c.post.title})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(In,{label:"Updated By: ",style:{display:"none"}},a("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:N.user.fullname})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(In,{label:"update at: ",style:{display:"none"}},a("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(In,{label:"Description: "},l.a.createElement(Et,{handleDescChange:function(e){console.log(e),S(e)},defaultValue:""===_?c.post.description:_}))),l.a.createElement(ra.a,{span:8},l.a.createElement(In,{label:"Thumnail"},l.a.createElement(Xt.a.Dragger,D,null===O?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+c.post.thumnail),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+O),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},a("thumnail",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===O?c.post.thumnail:"/public/uploads/"+O})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(I,null),l.a.createElement(In,{label:"Tags"},a("tags",{rules:[{required:!0,message:"The tags is required"}],initialValue:i?"":c.post.tags})(l.a.createElement(Qt.a,{mode:"tags",style:{width:"100%"},size:"large"},Ln))),l.a.createElement(In,{label:"SEO or Keywords"},a("keywords",{rules:[{required:!0,message:"The keywords is required"}],initialValue:i?"":c.post.keywords})(l.a.createElement(Qt.a,{mode:"tags",style:{width:"100%"},size:"large"},Ln))),l.a.createElement(In,{label:"Meta Description: "},a("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}],initialValue:i?"":c.post.meta_desc})(l.a.createElement(zn,{rows:4}))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){e.form.validateFieldsAndScroll((function(a,t){console.log(Jt()(t.title,{lower:!0})),a||C({variables:Object(n.a)(Object(n.a)({id:window.location.pathname.split("/")[4]},t),{},{slug:Jt()(t.title,{lower:!0}),description:""===_?c.post.description:_})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p(!0),setTimeout((function(){p(!1)}),3e3),$(),a.next=5,E.a.success(t.data.update_post.message,3);case 5:return a.next=7,e.history.push("/admin/all-posts");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},m?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update")))))))),l.a.createElement(nt,null))))})),Fn=b.a.Item,Vn=ta.a.Content,Mn=f.a.TextArea,Yn=Qt.a.Option,Rn=[];var Hn=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(q.b)(Va,{variables:{id:window.location.pathname.split("/")[4]}}),i=t.loading,c=t.data,o=Object(r.useState)(!1),s=Object(g.a)(o,2),m=s[0],p=s[1],h=Object(r.useState)(null),y=Object(g.a)(h,2),O=y[0],j=y[1],k=Object(r.useState)(""),x=Object(g.a)(k,2),_=x[0],S=x[1],N=Object(r.useContext)(ea),$=Object(q.b)(Fa).refetch,T=Object(q.a)(_e),C=Object(g.a)(T,1)[0],I=(l.a.useRef(null),{name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:O,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(j(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}}),D=function(){var e=Object(q.b)(za),t=e.error,n=e.loading,r=e.data;return t&&console.log(t),n?"Loading ...":0===r.categories.length?(E.a.error("Please create a category.",5),l.a.createElement(b.a.Item,{label:"Categories"},a("category",{rules:[{required:!0,message:"Please select your category!"}]})(l.a.createElement(Qt.a,{placeholder:"No Category"})))):l.a.createElement(b.a.Item,{label:"Categories"},a("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:c.page.category.title})(l.a.createElement(Qt.a,{placeholder:"Please select the category",size:"large"},r.categories.map((function(e){return l.a.createElement(Yn,{value:e.title,key:e.id},e.title)})))))};return i?"Loading...":l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Vn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Page"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Fn,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}],initialValue:c.page.title})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Fn,{label:"SubTitle"},a("subTitle",{initialValue:c.page.subTitle})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Fn,{label:"Updated By: ",style:{display:"none"}},a("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:N.user.fullname})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Fn,{label:"update at: ",style:{display:"none"}},a("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Fn,{label:"Description: "},l.a.createElement(Et,{handleDescChange:function(e){console.log(e),S(e)},defaultValue:""===_?c.page.description:_})),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return e.form.validateFieldsAndScroll((function(a,t){a||C({variables:Object(n.a)(Object(n.a)({id:window.location.pathname.split("/")[4]},t),{},{description:""===_?c.page.description:_,sectionNumber:t.sectionNumber.toString()})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p(!0),setTimeout((function(){p(!1)}),3e3),a.next=4,E.a.success(t.data.update_page.message,3);case 4:return a.next=6,$();case 6:return a.next=8,e.history.push("/admin/all-pages");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},m?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(ra.a,{span:8},l.a.createElement(Fn,{label:"Image"},l.a.createElement(Xt.a.Dragger,I,null===O?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+c.page.image),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+O),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},a("image",{rules:[{required:!0,message:"Imae is required"}],initialValue:null===O?c.page.image:"/public/uploads/"+O})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(na.a,{gutter:16},l.a.createElement(ra.a,{span:12},l.a.createElement(Fn,{label:"Section Number: "},a("sectionNumber",{rules:[{required:!0,message:"The Section Number is required"}],initialValue:c.page.sectionNumber})(l.a.createElement(dn.a,{min:1,size:"large",style:{width:"100%"}})))),l.a.createElement(ra.a,{span:12},l.a.createElement(D,null))),l.a.createElement(Fn,{label:"SEO or Keywords"},a("keywords",{rules:[{required:!0,message:"The keywords is required"}],initialValue:i?"":c.page.keywords})(l.a.createElement(Qt.a,{mode:"tags",style:{width:"100%"},size:"large"},Rn))),l.a.createElement(Fn,{label:"Meta Description: "},a("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}],initialValue:i?"":c.page.meta_desc})(l.a.createElement(Mn,{rows:4}))))))))),l.a.createElement(nt,null)))})),Un=b.a.Item,Bn=ta.a.Content,Kn=Qt.a.Option;var Jn=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(""),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(r.useContext)(ea),O=Object(q.b)(Ma).refetch,j=Object(q.a)(Se),k=Object(g.a)(j,1)[0],x={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Bn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Member"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||k({variables:Object(n.a)({},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),O(),e.form.resetFields(),a.next=6,E.a.success(t.data.add_member.message);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Un,{label:"Full Name"},a("fullname",{rules:[{required:!0,message:"The fullname is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(b.a.Item,{label:"Department"},a("department",{rules:[{required:!0,message:"Please select member department!"}],initialValue:"software-team"})(l.a.createElement(Qt.a,{size:"large"},l.a.createElement(Kn,{value:"business-development"},"Business Development"),l.a.createElement(Kn,{value:"hardware-team"},"KOOMPI Hardware Team"),l.a.createElement(Kn,{value:"academy"},"KOOMPI ACADEMY"),l.a.createElement(Kn,{value:"sales-and-supplier-relation"},"Sales and Supplier Relation"),l.a.createElement(Kn,{value:"communication-and-marketing"},"Communication and Marketing"),l.a.createElement(Kn,{value:"software-team"},"Software Teams")))),l.a.createElement(Un,{label:"Postion: "},a("position",{rules:[{required:!0,message:"Position is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Un,{label:"Phone Number: "},a("phoneNumber",{rules:[{required:!0,message:"Phone Number is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Un,{label:"Email: "},a("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Email is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Un,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(ra.a,{span:8},l.a.createElement(Un,{label:"Photo"},l.a.createElement(Xt.a.Dragger,x,p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(p)),alt:"avatar",style:{width:"250px",height:"250px"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("photo",{rules:[{required:!0,message:"Photo is required"}],initialValue:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),Gn=t(836),Wn=ta.a.Content;var Qn=function(){var e=Object(r.useState)(!1),a=Object(g.a)(e,2),t=a[0],n=a[1],i=Object(q.a)(Ne),c=Object(g.a)(i,1)[0],s=Object(q.b)(Ma).refetch,m=[{title:"Photo",dataIndex:"photo"},{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Department",dataIndex:"department",key:"department"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],p=function(){n(!1)},b=function(){var e=Object(q.b)(Ma),a=e.error,n=e.loading,r=e.data;if(a&&console.log(a),n)return l.a.createElement(sn.a,{loading:!0});if(r){var i=function(){return l.a.createElement(sn.a,{columns:m,dataSource:r.members.map((function(e){var a=e.id,t=e.fullname,n=e.phoneNumber,r=e.email,i=e.created_by,m=e.photo,g=e.department,p=e.created_at;return{key:a,photo:l.a.createElement("img",{src:"https://admin.koompi.com".concat(m),alt:"post",height:"50px",width:"50px",style:{borderRadius:"50%"}}),fullname:t,department:g,email:r,phoneNumber:n,created_by:i,created_at:mt.a.unix(p/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/member/edit/".concat(a)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this member?",okText:"Yes",cancelText:"No",onConfirm:function(){c({variables:{id:"".concat(a)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_member.message);case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!t})};return l.a.createElement("div",null,l.a.createElement(Gn.a,{title:"Details Informtion",visible:t,onOk:p,onCancel:p,footer:null,width:"98%"},l.a.createElement(i,null)),l.a.createElement(i,null))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(Wn,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Members"),l.a.createElement(b,null)))),l.a.createElement(nt,null)))},Xn=b.a.Item,Zn=ta.a.Content,er=Qt.a.Option;var ar=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(null),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(q.b)(Ya,{variables:{id:window.location.pathname.split("/")[4]}}),O=y.loading,j=y.data,k=Object(r.useContext)(ea),x=Object(q.b)(Ma).refetch,_=Object(q.a)($e),S=Object(g.a)(_,1)[0],N={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return O?"Loading...":l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Zn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Member"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||(console.log(t),S({variables:Object(n.a)({id:window.location.pathname.split("/")[4]},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),e.form.resetFields(),x(),a.next=6,E.a.success(t.data.update_member.message);case 6:return a.next=8,e.history.push("/admin/members");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Xn,{label:"Full Name"},a("fullname",{rules:[{required:!0,message:"The fullname is required"}],initialValue:j.member.fullname})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(b.a.Item,{label:"Department"},a("department",{rules:[{required:!0,message:"Please select member department!"}],initialValue:j.member.department})(l.a.createElement(Qt.a,null,l.a.createElement(er,{value:"business-development"},"Business Development"),l.a.createElement(er,{value:"hardware-team"},"KOOMPI Hardware Team"),l.a.createElement(er,{value:"academy"},"KOOMPI ACADEMY"),l.a.createElement(er,{value:"sales-and-supplier-relation"},"Sales and Supplier Relation"),l.a.createElement(er,{value:"communication-and-marketing"},"Communication and Marketing"),l.a.createElement(er,{value:"software-team"},"Software Teams")))),l.a.createElement(Xn,{label:"Postion: "},a("position",{rules:[{required:!0,message:"Position is required"}],initialValue:j.member.position})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Xn,{label:"Phone Number: "},a("phoneNumber",{rules:[{required:!0,message:"Phone Number is required"}],initialValue:j.member.phoneNumber})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Xn,{label:"Email: "},a("email",{rules:[{required:!0,message:"Email is required"}],initialValue:j.member.email})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Xn,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:k.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(ra.a,{span:8},l.a.createElement(Xn,{label:"Photo"},l.a.createElement(Xt.a.Dragger,N,null===p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+j.member.photo),alt:"avatar",style:{width:"250px",height:"250px"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+p),alt:"avatar",style:{width:"250px",height:"250px"}})),l.a.createElement("div",{style:{display:"none"}},a("photo",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===p?j.member.photo:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),tr=b.a.Item,nr=ta.a.Content;var rr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(""),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(r.useContext)(ea),O=Object(q.b)(Ra).refetch,j=Object(q.a)(qe),k=Object(g.a)(j,1)[0],x={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(nr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"New Retailer"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||(console.log(t),k({variables:Object(n.a)({},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),O(),e.form.resetFields(),a.next=6,E.a.success(t.data.add_retailer.message,3);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(tr,{label:"Name"},a("name",{rules:[{required:!0,message:"The name is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(tr,{label:"Email"},a("email",{})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(tr,{label:"Phone Number"},a("phoneNumber",{})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(tr,{label:"Link Location: "},a("location",{rules:[{required:!0,message:"Link Location is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(tr,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(ra.a,{span:8},l.a.createElement(tr,{label:"Logo"},l.a.createElement(Xt.a.Dragger,x,p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(p)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("logo",{rules:[{required:!0,message:"logo is required"}],initialValue:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),lr=ta.a.Content;var ir=function(){var e=Object(r.useState)(!1),a=Object(g.a)(e,2),t=a[0],n=a[1],i=Object(q.a)(Te),c=Object(g.a)(i,1)[0],s=Object(q.b)(Ra).refetch,m=[{title:"Logo",dataIndex:"logo"},{title:"Name",dataIndex:"name",key:"name"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Email",dataIndex:"email",key:"email"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],p=function(){n(!1)},b=function(){var e=Object(q.b)(Ra),a=e.error,n=e.loading,r=e.data;if(a&&console.log(a),n)return l.a.createElement(sn.a,{loading:!0});if(r){var i=function(){return l.a.createElement(sn.a,{columns:m,dataSource:r.retailers.map((function(e){var a=e.id,t=e.name,n=e.phoneNumber,r=e.email,i=e.created_by,m=e.logo,g=e.created_at;return{key:vn()(t),logo:l.a.createElement("img",{src:"https://admin.koompi.com".concat(m),alt:t,height:"30px",width:"auto"}),name:t,email:null===r?"Null":r,phoneNumber:null===n?"Null":n,created_by:i,created_at:mt.a.unix(g/1e3).format("YYYY-MM-DD HH:mm:ss"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/retailer/edit/".concat(a)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this retailer?",okText:"Yes",cancelText:"No",onConfirm:function(){c({variables:{id:"".concat(a)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_retailer.message);case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!t})};return l.a.createElement("div",null,l.a.createElement(Gn.a,{title:"Details Informtion",visible:t,onOk:p,onCancel:p,footer:null,width:"98%"},l.a.createElement(i,null)),l.a.createElement(i,null))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(lr,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Retailers"),l.a.createElement(b,null)))),l.a.createElement(nt,null)))},cr=b.a.Item,or=ta.a.Content;var sr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(null),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(q.b)(Ha,{variables:{id:window.location.pathname.split("/")[4]}}),O=y.loading,j=y.data,k=Object(q.b)(Ra).refetch,x=Object(q.a)(Ce),_=Object(g.a)(x,1)[0],S={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return O?"Loading...":l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(or,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Retailer"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||(console.log(t),_({variables:Object(n.a)({id:window.location.pathname.split("/")[4]},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),e.form.resetFields(),a.next=5,E.a.success(t.data.update_retailer.message,3);case 5:return k(),a.next=8,e.history.push("/admin/retailers");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(cr,{label:"Full Name"},a("name",{rules:[{required:!0,message:"The name is required"}],initialValue:j.retailer.name})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(cr,{label:"Email"},a("email",{initialValue:j.retailer.email})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(cr,{label:"Phone Number"},a("phoneNumber",{initialValue:j.retailer.phoneNumber})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(cr,{label:"Link Location: "},a("location",{rules:[{required:!0,message:"Link Location is required"}],initialValue:j.retailer.location})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(ra.a,{span:8},l.a.createElement(cr,{label:"Photo"},l.a.createElement(Xt.a.Dragger,S,null===p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+j.retailer.logo),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+p),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},a("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===p?j.retailer.logo:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),mr=b.a.Item,ur=ta.a.Content;var dr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(""),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(r.useContext)(ea),O=Object(q.b)(Ra).refetch,j=Object(q.a)(Ie),k=Object(g.a)(j,1)[0],x={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(ur,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Social Media"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||k({variables:Object(n.a)({},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),a.next=4,E.a.success(t.data.add_social_media.message,3);case 4:return a.next=6,O();case 6:return a.next=8,e.form.resetFields();case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(mr,{label:"Name"},a("name",{rules:[{required:!0,message:"The name is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(mr,{label:"Link: "},a("link",{rules:[{required:!0,message:"Link is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(mr,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(ra.a,{span:8},l.a.createElement(mr,{label:"Logo"},l.a.createElement(Xt.a.Dragger,x,p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(p)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("logo",{rules:[{required:!0,message:"logo is required"}],initialValue:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),gr=ta.a.Content;var pr=function(){var e=Object(r.useState)(!1),a=Object(g.a)(e,2),t=a[0],n=a[1],i=Object(q.a)(De),c=Object(g.a)(i,1)[0],s=Object(q.b)(Ua).refetch,m=[{title:"Logo",dataIndex:"logo"},{title:"Name",dataIndex:"name",key:"name"},{title:"Link",dataIndex:"link",key:"link"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],p=function(){n(!1)},b=function(){var e=Object(q.b)(Ua),a=e.error,n=e.loading,r=e.data,i=e.refetch;if(a&&console.log(a),n)return l.a.createElement(sn.a,{loading:!0});if(r){i();var g=function(){return l.a.createElement(sn.a,{columns:m,dataSource:r.socialMedia.map((function(e){var a=e.id,t=e.name,n=e.created_by,r=e.link,i=e.logo,m=e.created_at;return{key:vn()(t),logo:l.a.createElement("img",{src:"https://admin.koompi.com".concat(i),alt:t,height:"40px",width:"40px"}),name:t,link:r,created_by:n,created_at:mt.a.unix(m/1e3).format("YYYY-MM-DD HH:mm:ss"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/social-media/edit/".concat(a)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete ".concat(t,"?"),okText:"Yes",cancelText:"No",onConfirm:function(){c({variables:{id:"".concat(a)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_social_media.message);case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!t})};return l.a.createElement("div",null,l.a.createElement(Gn.a,{title:"Details Informtion",visible:t,onOk:p,onCancel:p,footer:null,width:"98%"},l.a.createElement(g,null)),l.a.createElement(g,null))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(gr,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Social Media"),l.a.createElement(b,null)))),l.a.createElement(nt,null)))},Er=b.a.Item,br=ta.a.Content;var fr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(null),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(q.b)(Ba,{variables:{id:window.location.pathname.split("/")[4]}}),O=y.loading,j=y.data,k=Object(q.b)(Ua).refetch,x=Object(q.a)(ze),_=Object(g.a)(x,1)[0],S={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return O?"Loading...":l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(br,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Member"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||(console.log(t),_({variables:Object(n.a)({id:window.location.pathname.split("/")[4]},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),a.next=4,E.a.success(t.data.update_social_media.message,3);case 4:return a.next=6,e.form.resetFields();case 6:return a.next=8,k();case 8:return a.next=10,e.history.push("/admin/social-media");case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Er,{label:"Full Name"},a("name",{rules:[{required:!0,message:"The name is required"}],initialValue:j.oneSocialMedia.name})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Er,{label:"Link: "},a("link",{rules:[{required:!0,message:"Link is required"}],initialValue:j.oneSocialMedia.link})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(ra.a,{span:8},l.a.createElement(Er,{label:"Photo"},l.a.createElement(Xt.a.Dragger,S,null===p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+j.oneSocialMedia.logo),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+p),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},a("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===p?j.oneSocialMedia.logo:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),hr=b.a.Item,yr=ta.a.Content;var vr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useContext)(ea),n=Object(q.b)(Da,{variables:{email:t.user.email}}),i=n.loading,c=n.data,o=n.refetch,s=Object(q.a)(pe),m=Object(g.a)(s,1)[0],p=Object(r.useState)(!1),h=Object(g.a)(p,2),y=h[0],O=h[1],j=Object(r.useState)(null),k=Object(g.a)(j,2),x=k[0],_=k[1],S={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:x,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(_(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return i?"Loading ...":l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(yr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"User Settings"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){if(!a){var n=t.fullname,r=t.avatar,l=t.oldPassword,i=t.newPassword;m({variables:{email:c.user.email,fullname:n,avatar:r,oldPassword:l,newPassword:i}}).then(Object(d.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return O(!0),setTimeout((function(){O(!1)}),3e3),e.form.resetFields(),o(),a.next=6,E.a.success("User updated successfully.",3);case 6:case"end":return a.stop()}}),a)})))).catch((function(e){console.log(e)}))}}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:8},l.a.createElement(hr,{label:"Photo"},l.a.createElement(Xt.a.Dragger,S,null===x?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+c.user.avatar),alt:"avatar",style:{height:"133.5px",width:"133.5px"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+x),alt:"avatar",style:{height:"133.5px",width:"133.5px"}})),l.a.createElement("div",{style:{display:"none"}},a("avatar",{rules:[{required:!0,message:"Avatar is required"}],initialValue:null===x?c.user.avatar:"/public/uploads/"+x})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(hr,{label:"Full Name"},a("fullname",{rules:[{required:!0,message:"FullName is required"}],initialValue:c.user.fullname})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!y},y?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(ra.a,{span:16},l.a.createElement(hr,{label:"Old Password"},a("oldPassword")(l.a.createElement(f.a,{size:"large",type:"password"}))),l.a.createElement(hr,{label:"New Password"},a("newPassword")(l.a.createElement(f.a,{size:"large",type:"password"}))))))))),l.a.createElement(nt,null)))})),Or=b.a.Item;var jr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),n=Object(g.a)(t,1)[0];return l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(e,a){e||j.a.post("https://bot.koompi.com/telegramlogin?phone=".concat(a.phone,"&code=").concat(parseInt(a.code))).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.a.success(a.data.message);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement("h4",null,"Verify Code telegram"),l.a.createElement(na.a,{gutter:12},l.a.createElement(ra.a,{span:18},l.a.createElement(Or,null,a("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),l.a.createElement(ra.a,{span:6},l.a.createElement(Or,null,a("code",{rules:[{required:!0,message:"The Code is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Code"})))),l.a.createElement(ra.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))))})),kr=t(397),wr=t.n(kr),xr=(t(799),b.a.Item);var _r=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),n=Object(g.a)(t,1)[0];return l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement("h4",null,"Send a telegram"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(e,a){console.log(e),e||(console.log(a),j.a.post("https://bot.koompi.com/telegrammsg?phone=".concat(a.phone,"&channel=").concat(a.channel,"&msg=").concat(a.msg)).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.a.success(a.data.message);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(na.a,{gutter:12},l.a.createElement(ra.a,{span:12},l.a.createElement(xr,null,a("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),l.a.createElement(ra.a,{span:12},l.a.createElement(xr,null,a("channel",{rules:[{required:!0,message:"The Channel is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Channel"})))),l.a.createElement(ra.a,{span:24},l.a.createElement(xr,null,a("msg",{rules:[{required:!0,message:"The message is required"}]})(l.a.createElement(wr.a,{rows:5})))),l.a.createElement(ra.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit")))))})),Sr=b.a.Item;b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),n=Object(g.a)(t,1)[0];return l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(e,a){e||j.a.post("https://bot.koompi.com/telegramlogout?phone=".concat(a.phone)).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.a.success(a.data.message);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement("h4",null,"Logout"),l.a.createElement(na.a,{gutter:12},l.a.createElement(ra.a,{span:18},l.a.createElement(Sr,null,a("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),l.a.createElement(ra.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))))}));var Nr=b.a.Item,$r=ta.a.Content;var qr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),n=Object(g.a)(t,1)[0],i=Object(r.useState)(""),c=Object(g.a)(i,2),o=c[0],s=c[1];return console.log(o),l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement($r,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container",style:{width:"60%"}},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Telegram Bot"),l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement("h4",null,"Login telegram"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(e){e.preventDefault(),j.a.post("https://bot.koompi.com/sendrequest?phone=".concat(o)).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.a.success(a.data.message);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},l.a.createElement(na.a,{gutter:24},l.a.createElement(ra.a,{span:24},l.a.createElement(Nr,null,a("phone",{rules:[{required:!0,message:"The Phone Number is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number",onChange:function(e){s(e.target.value)}})))),l.a.createElement(ra.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))))),l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement(jr,{phone:o})),l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement(_r,{phone:o}))))),l.a.createElement(nt,null)))})),Tr={embed:ht.a,table:vt.a,list:jt.a,warning:wt.a,code:_t.a,linkTool:Nt.a,image:qt.a,raw:Ct.a,header:Dt.a,quote:At.a,marker:Pt.a,checklist:Vt.a,delimiter:Yt.a,inlineCode:Ht.a,simpleImage:Bt.a},Cr=b.a.Item,Ir=ta.a.Content;var Dr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(q.a)(Ae),i=Object(g.a)(t,1)[0],c=Object(q.b)(Ka).refetch,o=Object(r.useContext)(ea),s=Object(r.useState)(!1),m=Object(g.a)(s,2),p=m[0],y=m[1],O=Object(r.useState)(""),j=Object(g.a)(O,1)[0],k=l.a.useRef(null),x=l.a.useCallback(Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.current.save();case 2:t=a.sent,e.form.validateFieldsAndScroll((function(a,r){a||i({variables:Object(n.a)(Object(n.a)({},r),{},{description:JSON.stringify(t)})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(!0),setTimeout((function(){y(!1)}),3e3),e.form.resetFields(),a.next=5,E.a.success(t.data.create_legal.message,3);case 5:return a.next=7,c();case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return a.stop()}}),a)}))),[]);return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Ir,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Legal"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[16,16]},l.a.createElement(ra.a,{span:24},l.a.createElement(Cr,null,a("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"}))),l.a.createElement(Cr,{label:"Description: "},a("description",{initialValue:j})(l.a.createElement("div",null,l.a.createElement(bt.a,{instanceRef:function(e){return k.current=e},tools:Tr,placeholder:"Let's write an awesome story!"})))),l.a.createElement(Cr,null,a("created_by",{initialValue:o.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),l.a.createElement(ra.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:x},p?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))))))),l.a.createElement(nt,null)))})),zr=ta.a.Content;var Ar=b.a.create()((function(){var e=Object(q.a)(Pe),a=Object(g.a)(e,1)[0],t=Object(q.b)(Ka).refetch,n=[{title:"Title",dataIndex:"title",onFilter:function(e,a){return 0===a.title.indexOf(e)},sorter:function(e,a){return e.title.length-a.title.length}},{title:"Author",dataIndex:"created_by",sorter:function(e,a){return e.created_by.length-a.created_by.length}},{title:"Date",dataIndex:"created_at"},{title:"Actions",dataIndex:"action"}],r=function(){var e=Object(q.b)(Ka),r=e.error,i=e.loading,c=e.data;return r&&console.log(r),i?l.a.createElement(sn.a,{loading:!0}):c?l.a.createElement(sn.a,{columns:n,dataSource:c.legals.map((function(e){return{key:e.id,title:e.title,created_by:e.created_by,created_at:mt.a.unix(e.created_at/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/legal/edit/".concat(e.id)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this legal?",onConfirm:function(n){a({variables:{id:"".concat(e.id)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_legal.message);case 2:return e.next=4,t();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}}))}):void 0};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(zr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Legals"),l.a.createElement(r,null)))),l.a.createElement(nt,null)))})),Lr=b.a.Item,Pr=ta.a.Content;var Fr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useContext)(ea),i=Object(q.b)(Ka).refetch,c=Object(q.b)(Ja,{variables:{id:window.location.pathname.split("/")[4]}}),o=c.error,s=c.loading,m=c.data,p=Object(r.useState)(!1),y=Object(g.a)(p,2),O=y[0],j=y[1],k=l.a.useRef(null),x=l.a.useCallback(Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.current.save();case 2:t=a.sent,e.form.validateFieldsAndScroll((function(a,r){a||S({variables:Object(n.a)(Object(n.a)({id:window.location.pathname.split("/")[4]},r),{},{description:JSON.stringify(t)})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return j(!0),setTimeout((function(){j(!1)}),3e3),a.next=4,E.a.success(t.data.edit_legal.message,3);case 4:return a.next=6,i();case 6:return a.next=8,e.history.push("/admin/all-legals");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return a.stop()}}),a)}))),[]),_=Object(q.a)(Le),S=Object(g.a)(_,1)[0];return o&&console.log(o),s?"Loading ...":l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Pr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Legal"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[16,16]},l.a.createElement(ra.a,{span:24},l.a.createElement(Lr,null,a("title",{rules:[{required:!0,message:"The title is required"}],initialValue:m.legal.title})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"}))),l.a.createElement(Lr,{label:"Description: "},l.a.createElement(bt.a,{instanceRef:function(e){return k.current=e},tools:Tr,data:s?"Loading ...":JSON.parse(m.legal.description)})),l.a.createElement(Lr,null,a("created_by",{initialValue:t.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(f.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),l.a.createElement(ra.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:x},O?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update"))))))),l.a.createElement(nt,null)))})),Vr=t(398),Mr=ta.a.Content;sn.a.Column,sn.a.ColumnGroup;function Yr(e){return"$"+e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var Rr=function(){var e=l.a.useState(null),a=Object(g.a)(e,2),t=(a[0],a[1],Object(q.a)(Ye)),n=Object(g.a)(t,1)[0],i=Object(q.b)(Ga).refetch,c=Object(r.useState)({visible:!1}),o=Object(g.a)(c,2),s=(o[0],o[1],Object(q.b)(Ga)),m=s.error,p=s.loading,b=s.data,f=[{title:"No",key:"index",render:function(e,a,t){return t+1}},{title:"User Info",children:[{title:"Full Name",render:function(e){var a=e.firstname,t=e.lastname;return"".concat(a," ").concat(t)}},{title:"Email",dataIndex:"email"},{title:"Phone",dataIndex:"phone"}]},{title:"Product",children:[{title:"Items",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,e.name)}))}},{title:"Qty",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,e.qty)}))}},{title:"Unit Price",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,Yr(e.price))}))}},{title:"Total",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,Yr(e.price*e.qty))}))}},{title:"Pay by",dataIndex:"payBy",key:"payBy"}]},{title:"Purchase At",dataIndex:"created_at",render:function(e){return mt.a.unix(e/1e3).format("YYYY-MM-DD")}},{title:"Action",render:function(e){return l.a.createElement(r.Fragment,null,l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this payment?",okText:"Yes",cancelText:"No",onConfirm:function(){n({variables:{id:"".concat(e.id)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_customer.message);case 2:return e.next=4,i();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"red",style:{cursor:"pointer"}},"Delete")))}}],h=function(){return m&&console.log(m),p?l.a.createElement(sn.a,{loading:!0}):b?l.a.createElement("div",null,l.a.createElement(Vr.CSVLink,{data:b.customers}," Download CSV"),l.a.createElement(sn.a,{bordered:!0,columns:f,dataSource:b.customers,pagination:{pageSize:20}})):null};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(Mr,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Payments"),l.a.createElement(h,null)))),l.a.createElement(nt,null)))},Hr={embed:ht.a,table:vt.a,list:jt.a,warning:wt.a,code:_t.a,linkTool:Nt.a,image:qt.a,raw:Ct.a,header:Dt.a,quote:At.a,marker:Pt.a,checklist:Vt.a,delimiter:Yt.a,inlineCode:Ht.a,simpleImage:Bt.a},Ur=b.a.Item,Br=ta.a.Content;var Kr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(""),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(r.useState)(""),O=Object(g.a)(y,2),j=O[0],k=O[1],x=Object(r.useContext)(ea),_=Object(q.b)(Wa).refetch,S=Object(q.a)(Fe),N=Object(g.a)(S,1)[0],$={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:j,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(k(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}},T={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:j,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," logo uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," logo upload failed."))}},C=l.a.useRef(null),I=l.a.useCallback(Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.current.save();case 2:t=a.sent,e.form.validateFieldsAndScroll((function(a,r){a||N({variables:Object(n.a)(Object(n.a)({},r),{},{description:JSON.stringify(t)})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),_(),e.form.resetFields(),a.next=6,E.a.success(t.data.create_software.message,3);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return a.stop()}}),a)}))),[]);return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Br,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Software"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Ur,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Ur,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:x.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement(Ur,{label:"Description: "},l.a.createElement(bt.a,{instanceRef:function(e){return C.current=e},tools:Hr,placeholder:"Let's write an awesome story!"}))),l.a.createElement(ra.a,{span:8},l.a.createElement(Ur,{label:"Logo"},l.a.createElement(Xt.a.Dragger,T,p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(p)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(Ur,{label:"Image"},l.a.createElement(Xt.a.Dragger,$,j?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(j)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("image",{rules:[{required:!0,message:"Image is required"}],initialValue:"/public/uploads/"+j})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c,onClick:I},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit")))))))),l.a.createElement(nt,null)))})),Jr=ta.a.Content;var Gr=function(){var e=Object(q.a)(Me),a=Object(g.a)(e,1)[0],t=Object(q.b)(Wa).refetch,n=[{title:"Logo",dataIndex:"logo"},{title:"Image",dataIndex:"image"},{title:"Title",dataIndex:"title",key:"title"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],r=function(){var e=Object(q.b)(Wa),r=e.error,i=e.loading,c=e.data;if(r&&console.log(r),i)return l.a.createElement(sn.a,{loading:!0});if(c){var s=function(){return l.a.createElement(sn.a,{columns:n,dataSource:c.softwares.map((function(e){var n=e.id,r=e.title,i=e.created_at,c=e.user;return{key:n,logo:l.a.createElement("img",{src:"https://admin.koompi.com"+e.logo,alt:"software",height:"50px",width:"50px"}),image:l.a.createElement("img",{src:"https://admin.koompi.com"+e.image,alt:"software",height:"50px",width:"50px",style:{borderRadius:"50%"}}),title:r.length<=25?r:r.substring(0,25)+" ...",created_by:null===c?"Null":c.fullname,created_at:mt.a.unix(i/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/software/edit/".concat(n)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this software?",okText:"Yes",cancelText:"No",onConfirm:function(){a({variables:{id:"".concat(n)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.success(a.data.delete_software.message);case 2:return e.next=4,t();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!0})};return l.a.createElement("div",null,l.a.createElement(s,null))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(Jr,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"All softwares"),l.a.createElement(r,null)))),l.a.createElement(nt,null)))},Wr=b.a.Item,Qr=ta.a.Content;var Xr=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(q.b)(Qa,{variables:{id:window.location.pathname.split("/")[4]}}),i=t.loading,c=t.data,o=Object(r.useState)(!1),s=Object(g.a)(o,2),m=s[0],p=s[1],h=Object(r.useState)(null),y=Object(g.a)(h,2),O=y[0],j=y[1],k=Object(r.useState)(null),x=Object(g.a)(k,2),_=x[0],S=x[1],N=Object(r.useContext)(ea),$=l.a.useRef(null),T=Object(q.b)(Wa).refetch,C=Object(q.a)(Ve),I=Object(g.a)(C,1)[0],D=l.a.useCallback(Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$.current.save();case 2:t=a.sent,e.form.validateFieldsAndScroll((function(a,r){console.log(Jt()(r.title,{lower:!0})),a||I({variables:Object(n.a)(Object(n.a)({id:window.location.pathname.split("/")[4]},r),{},{slug:Jt()(r.title,{lower:!0}),description:JSON.stringify(t)})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p(!0),setTimeout((function(){p(!1)}),3e3),a.next=4,E.a.success(t.data.edit_software.message,3);case 4:return a.next=6,T();case 6:return a.next=8,e.history.push("/admin/all-softwares");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return a.stop()}}),a)}))),[]),z={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:_,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(S(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}},A={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:_,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(j(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," logo uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," logo upload failed."))}};return i?"Loading...":(console.log("Result",c.software.description),l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(Qr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Software"),l.a.createElement(b.a,{className:"login-form"},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(Wr,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}],initialValue:c.software.title})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Wr,{label:"Updated By: ",style:{display:"none"}},a("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:N.user.fullname})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Wr,{label:"update at: ",style:{display:"none"}},a("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(Wr,{label:"Description: "},l.a.createElement(bt.a,{instanceRef:function(e){return $.current=e},tools:Hr,data:i?"Loading ...":JSON.parse(c.software.description)}))),l.a.createElement(ra.a,{span:8},l.a.createElement(Wr,{label:"Logo"},l.a.createElement(Xt.a.Dragger,A,null===O?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+c.software.logo),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+O),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},a("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===O?c.software.logo:"/public/uploads/"+O})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement(Wr,{label:"Image"},l.a.createElement(Xt.a.Dragger,z,null===_?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+c.software.image),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+_),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},a("image",{rules:[{required:!0,message:"Image is required"}],initialValue:null===_?c.software.image:"/public/uploads/"+_})(l.a.createElement(f.a,{size:"large"})))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:D},m?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Update")))))))),l.a.createElement(nt,null))))})),Zr=ta.a.Content;var el=function(){return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(Zr,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Pre-Order")))),l.a.createElement(nt,null)))},al=b.a.Item,tl=ta.a.Content,nl=Qt.a.Option,rl=f.a.TextArea;var ll=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(""),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(r.useContext)(ea),O=Object(q.b)(Xa).refetch,j=Object(q.a)(Re),k=Object(g.a)(j,1)[0],x={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(tl,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add AMA"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){console.log(t),a||k({variables:Object(n.a)(Object(n.a)({},t),{},{created_at:new Date})}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),O(),e.form.resetFields(),a.next=6,E.a.success(t.data.create_ama.message);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(al,{label:"Speaker"},a("name",{rules:[{required:!0,message:"The name is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(al,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(al,{label:"Date"},a("date",{rules:[{required:!0,message:"The date is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(al,{label:"URL"},a("url",{rules:[{required:!0,message:"The url is required"}]})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(b.a.Item,{label:"Category"},a("category",{initialValue:"koompi-ama"})(l.a.createElement(Qt.a,{size:"large"},l.a.createElement(nl,{value:"koompi-ama"},"KOOMPI AMA"),l.a.createElement(nl,{value:"user-ama"},"USER AMA")))),l.a.createElement(al,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(ra.a,{span:8},l.a.createElement(al,{label:"Description"},a("desc",{rules:[{required:!0,message:"The description is required"}]})(l.a.createElement(rl,{rows:4}))),l.a.createElement(al,{label:"Photo"},l.a.createElement(Xt.a.Dragger,x,p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(p)),alt:"avatar"}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},a("image",{rules:[{required:!0,message:"Photo is required"}],initialValue:"/public/uploads/".concat(p)})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))})),il=ta.a.Content;var cl=function(){var e=Object(r.useState)(!1),a=Object(g.a)(e,2),t=a[0],n=(a[1],Object(q.a)(He)),i=Object(g.a)(n,1)[0],c=Object(q.b)(Xa),s=c.error,m=c.loading,u=c.data,d=c.refetch;if(s&&console.log(s),m)return l.a.createElement(sn.a,{loading:!0});var p=[{title:"Photo",dataIndex:"image",key:"image",render:function(e){return l.a.createElement("img",{src:"https://admin.koompi.com".concat(e),height:"30px",alt:""})}},{title:"Speaker",dataIndex:"name",key:"name"},{title:"Topic",dataIndex:"title",ellipsis:!0,key:"title",render:function(e){return e}},{title:"Category",dataIndex:"category",key:"category"},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e){return mt.a.unix(e/1e3).format("YYYY-MM-DD")}},{title:"Actions",render:function(e){return l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/ama/edit/".concat(e.id)},l.a.createElement(ln.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(cn.a,{type:"vertical"}),l.a.createElement(on.a,{placement:"topRight",title:"Are you sure to delete this AMA?",onConfirm:function(){i({variables:{id:"".concat(e.id)}}),E.a.success("The AMA deleted with successful."),d()},okText:"Yes",cancelText:"No"},l.a.createElement(ln.a,{color:"#f50",className:"btn"},"Delete")))}}];return l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(il,null,l.a.createElement(at,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"AMA"),l.a.createElement(sn.a,{columns:p,dataSource:u.amas,pagination:!t})))),l.a.createElement(nt,null)))},ol=b.a.Item,sl=ta.a.Content,ml=Qt.a.Option,ul=f.a.TextArea;var dl=b.a.create()((function(e){var a=e.form.getFieldDecorator,t=Object(r.useState)(!1),i=Object(g.a)(t,2),c=i[0],o=i[1],s=Object(r.useState)(null),m=Object(g.a)(s,2),p=m[0],h=m[1],y=Object(q.b)(Za,{variables:{id:window.location.pathname.split("/")[4]}}),O=y.loading,j=y.data,k=Object(r.useContext)(ea),x=Object(q.b)(Xa).refetch,_=Object(q.a)(Ue),S=Object(g.a)(_,1)[0],N={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:p,onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(h(e.file.name.replace(/\s+/g,"-").toLowerCase()),E.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&E.a.error("".concat(e.file.name," file upload failed."))}};if(O)return"Loading...";var $=j.ama,T=$.title,C=$.name,I=$.date,D=$.url,z=$.category,A=$.desc,L=$.image;return console.log(j.ama),l.a.createElement(ta.a,{style:{minHeight:"100vh"}},l.a.createElement(sa,null),l.a.createElement(ta.a,null,l.a.createElement(at,null),l.a.createElement(sl,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Edit AMA"),l.a.createElement(b.a,{className:"login-form",onSubmit:function(a){a.preventDefault(),e.form.validateFieldsAndScroll((function(a,t){a||(console.log(t),S({variables:Object(n.a)({id:window.location.pathname.split("/")[4]},t)}).then(function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),e.form.resetFields(),x(),a.next=6,E.a.success("The AMA updated with successfully");case 6:return a.next=8,e.history.push("/admin/all-amas");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(na.a,{gutter:[24,8]},l.a.createElement(ra.a,{span:16},l.a.createElement(ol,{label:"Speaker"},a("name",{rules:[{required:!0,message:"The name is required"}],initialValue:C})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(ol,{label:"Title"},a("title",{rules:[{required:!0,message:"The title is required"}],initialValue:T})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(ol,{label:"Date"},a("date",{rules:[{required:!0,message:"The date is required"}],initialValue:I})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(ol,{label:"URL"},a("url",{rules:[{required:!0,message:"The url is required"}],initialValue:D})(l.a.createElement(f.a,{size:"large"}))),l.a.createElement(b.a.Item,{label:"Category"},a("category",{initialValue:z})(l.a.createElement(Qt.a,{size:"large"},l.a.createElement(ml,{value:"koompi-ama"},"KOOMPI AMA"),l.a.createElement(ml,{value:"user-ama"},"USER AMA")))),l.a.createElement(ol,{label:"Created By: ",style:{display:"none"}},a("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:k.user.fullname})(l.a.createElement(f.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!c},c?l.a.createElement("img",{src:w.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(ra.a,{span:8},l.a.createElement(ol,{label:"Description"},a("desc",{rules:[{required:!0,message:"The description is required"}],initialValue:A})(l.a.createElement(ul,{rows:4}))),l.a.createElement(ol,{label:"Photo"},l.a.createElement(Xt.a.Dragger,N,null===p?l.a.createElement("img",{src:"".concat("https://admin.koompi.com"+L),alt:"avatar",style:{width:"250px"}}):l.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+p),alt:"avatar",style:{width:"250px"}})),l.a.createElement("div",{style:{display:"none"}},a("image",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===p?L:"/public/uploads/"+p})(l.a.createElement(f.a,{size:"large"})))))))))),l.a.createElement(nt,null)))}));var gl=function(){return l.a.createElement(aa,null,l.a.createElement(o.a,null,l.a.createElement(s.d,null,l.a.createElement(Ze,{restricted:!0,exact:!0,path:"/login",component:$}),l.a.createElement(Ze,{exact:!0,path:"/",restricted:!0,component:$}),l.a.createElement(Ze,{exact:!0,path:"/logout",component:_n}),l.a.createElement(Ze,{exact:!0,path:"/register",component:Be}),l.a.createElement(Xe,{exact:!0,path:"/admin/dashboard",component:dt}),l.a.createElement(Xe,{exact:!0,path:"/admin/users",component:xn}),l.a.createElement(Xe,{exact:!0,path:"/admin/user/settings",component:vr}),l.a.createElement(Xe,{exact:!0,path:"/admin/new-post",component:rn}),l.a.createElement(Xe,{exact:!0,path:"/admin/all-posts",component:un}),l.a.createElement(Xe,{exact:!0,path:"/admin/post/edit/:id",component:Pn}),l.a.createElement(Xe,{exact:!0,path:"/admin/add-software",component:Kr}),l.a.createElement(Xe,{exact:!0,path:"/admin/all-softwares",component:Gr}),l.a.createElement(Xe,{exact:!0,path:"/admin/software/edit/:id",component:Xr}),l.a.createElement(Xe,{exact:!0,path:"/admin/new-page",component:hn}),l.a.createElement(Xe,{exact:!0,path:"/admin/all-pages",component:kn}),l.a.createElement(Xe,{exact:!0,path:"/admin/page/edit/:id",component:Hn}),l.a.createElement(Xe,{exact:!0,path:"/admin/categories",component:$n}),l.a.createElement(Xe,{exact:!0,path:"/admin/category/edit/:id",component:Cn}),l.a.createElement(Xe,{exact:!0,path:"/admin/add-ama",component:ll}),l.a.createElement(Xe,{exact:!0,path:"/admin/all-amas",component:cl}),l.a.createElement(Xe,{exact:!0,path:"/admin/ama/edit/:id",component:dl}),l.a.createElement(Xe,{exact:!0,path:"/admin/new-member",component:Jn}),l.a.createElement(Xe,{exact:!0,path:"/admin/members",component:Qn}),l.a.createElement(Xe,{exact:!0,path:"/admin/member/edit/:id",component:ar}),l.a.createElement(Xe,{exact:!0,path:"/admin/new-retailer",component:rr}),l.a.createElement(Xe,{exact:!0,path:"/admin/retailers",component:ir}),l.a.createElement(Xe,{exact:!0,path:"/admin/retailer/edit/:id",component:sr}),l.a.createElement(Xe,{exact:!0,path:"/admin/add-social-media",component:dr}),l.a.createElement(Xe,{exact:!0,path:"/admin/social-media",component:pr}),l.a.createElement(Xe,{exact:!0,path:"/admin/social-media/edit/:id",component:fr}),l.a.createElement(Xe,{exact:!0,path:"/admin/user/payments",component:Rr}),l.a.createElement(Xe,{exact:!0,path:"/admin/user/pre-order",component:el}),l.a.createElement(Xe,{exact:!0,path:"/admin/telegram-bot",component:qr}),l.a.createElement(Xe,{exact:!0,path:"/admin/new-legal",component:Dr}),l.a.createElement(Xe,{exact:!0,path:"/admin/all-legals",component:Ar}),l.a.createElement(Xe,{exact:!0,path:"/admin/legal/edit/:id",component:Fr}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pl=t(45),El=t(101),bl=t(401),fl=t(399),hl=t(400),yl=Object(bl.a)({uri:"https://admin.koompi.com/admin"}),vl=Object(fl.a)((function(e,a){var t=a.headers,r=_.a.get("token");return{headers:Object(n.a)(Object(n.a)({},t),{},{authorization:r||""})}})),Ol=new El.a({link:vl.concat(yl),cache:new hl.a});c.a.render(l.a.createElement(pl.a,{client:Ol},l.a.createElement(gl,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[405,1,2]]]);
//# sourceMappingURL=main.b7801392.chunk.js.map