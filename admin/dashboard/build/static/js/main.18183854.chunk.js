(this.webpackJsonpvuthy_dashboard=this.webpackJsonpvuthy_dashboard||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/three-dots-black.9f3b0075.svg"},19:function(e,t,a){e.exports=a.p+"static/media/three-dots.7627bc82.svg"},380:function(e,t,a){e.exports=a(760)},385:function(e,t,a){},387:function(e,t,a){},530:function(e,t){},532:function(e,t){},569:function(e,t){},570:function(e,t){},760:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(0),l=a.n(r),i=a(10),c=a.n(i),o=(a(385),a(386),a(387),a(23)),s=a(103),m=a(6),u=a.n(m),d=a(12),p=a(4),g=a(763),b=a(764),f=a(773),E=a(774),h=a(9),y=a(127),v=a(49),O=a(75),j=a.n(O),w=a(19),k=a.n(w),S=a(59),x=a.n(S),_=a(174),N=a.n(_);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var P=f.a.create()((function(e){var t=Object(r.useState)(!1),a=Object(p.a)(t,2),i=a[0],c=a[1],s=e.form.getFieldDecorator;return l.a.createElement("div",null,l.a.createElement(N.a,{className:"loginBackground",params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),l.a.createElement("div",{className:"loginContainer"},l.a.createElement("h1",{className:"loginTitle"},"Login"),l.a.createElement(f.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){e?console.log(e):(console.log(t.remember),j.a.post("https://admin-demo.koompi.com/login",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t)).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),x.a.set("token",a.data.token,t.remember?{expires:7}:null),e.next=5,b.a.success("Login successfully.",3);case 5:window.location.replace("/admin/dashboard");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t;c(!0),setTimeout((function(){c(!1)}),3e3),"You don't have a permission to access it"===e.response.data.message?(t="info",g.a[t]({message:"Hello there!",description:"You don't permission to access it yet. Please ask the admin to approve your user.",closeIcon:!0,duration:10})):b.a.error(e.response.data.message,10)})))}))},className:"login-form"},l.a.createElement(f.a.Item,null,s("email",{rules:[{required:!0,message:"Please input your Email!"}]})(l.a.createElement(E.a,{size:"large",prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),l.a.createElement(f.a.Item,null,s("password",{rules:[{required:!0,message:"Please input your Password!"}]})(l.a.createElement(E.a,{size:"large",prefix:l.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),l.a.createElement(f.a.Item,null,s("remember",{valuePropName:"checked",initialValue:!0})(l.a.createElement(y.a,null,"Remember me")),l.a.createElement("br",null),l.a.createElement(v.a,{size:"small",type:"primary",htmlType:"submit",className:"login-form-button",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"koompi-steam-loading",height:"10"}):"Login"),l.a.createElement("br",null),"Or ",l.a.createElement(o.b,{to:"/register"},"register now!")))))})),D=a(5),q=a(16),T=a(17),C=a.n(T);function I(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_customer(id: $id) {\n      message\n    }\n  }\n"]);return I=function(){return e},e}function z(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_software(id: $id) {\n      message\n    }\n  }\n"]);return z=function(){return e},e}function L(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $description: String!\n    $logo: String!\n    $image: String!\n  ) {\n    edit_software(\n      id: $id\n      title: $title\n      description: $description\n      logo: $logo\n      image: $image\n    ) {\n      message\n    }\n  }\n"]);return L=function(){return e},e}function A(){var e=Object(q.a)(["\n  mutation(\n    $title: String!\n    $description: String!\n    $logo: String!\n    $image: String!\n    $created_by: String!\n  ) {\n    create_software(\n      title: $title\n      description: $description\n      logo: $logo\n      image: $image\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return A=function(){return e},e}function F(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_legal(id: $id) {\n      message\n    }\n  }\n"]);return F=function(){return e},e}function V(){var e=Object(q.a)(["\n  mutation($id: String!, $title: String!, $description: String!) {\n    edit_legal(id: $id, title: $title, description: $description) {\n      message\n    }\n  }\n"]);return V=function(){return e},e}function M(){var e=Object(q.a)(["\n  mutation($title: String!, $description: String!, $created_by: String!) {\n    create_legal(title: $title, description: $description, created_by: $created_by) {\n      message\n    }\n  }\n"]);return M=function(){return e},e}function Y(){var e=Object(q.a)(["\n  mutation($id: String!, $name: String!, $link: String!, $logo: String!) {\n    update_social_media(id: $id, name: $name, link: $link, logo: $logo) {\n      message\n    }\n  }\n"]);return Y=function(){return e},e}function R(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_social_media(id: $id) {\n      message\n    }\n  }\n"]);return R=function(){return e},e}function H(){var e=Object(q.a)(["\n  mutation($name: String!, $link: String!, $logo: String!, $created_by: String!) {\n    add_social_media(\n      name: $name\n      link: $link\n      logo: $logo\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $name: String!\n    $location: String!\n    $logo: String!\n    $phoneNumber: String\n    $email: String\n  ) {\n    update_retailer(\n      id: $id\n      name: $name\n      location: $location\n      logo: $logo\n      phoneNumber: $phoneNumber\n      email: $email\n    ) {\n      message\n    }\n  }\n"]);return U=function(){return e},e}function B(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_retailer(id: $id) {\n      message\n    }\n  }\n"]);return B=function(){return e},e}function J(){var e=Object(q.a)(["\n  mutation(\n    $name: String!\n    $location: String!\n    $logo: String!\n    $phoneNumber: String\n    $email: String\n    $created_by: String!\n  ) {\n    add_retailer(\n      name: $name\n      location: $location\n      logo: $logo\n      phoneNumber: $phoneNumber\n      email: $email\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return J=function(){return e},e}function K(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $fullname: String!\n    $department: String!\n    $position: String!\n    $phoneNumber: String!\n    $email: String\n    $photo: String!\n    $created_by: String!\n  ) {\n    update_member(\n      id: $id\n      fullname: $fullname\n      department: $department\n      position: $position\n      phoneNumber: $phoneNumber\n      email: $email\n      photo: $photo\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return K=function(){return e},e}function G(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_member(id: $id) {\n      message\n    }\n  }\n"]);return G=function(){return e},e}function W(){var e=Object(q.a)(["\n  mutation(\n    $fullname: String!\n    $department: String!\n    $position: String!\n    $phoneNumber: String!\n    $email: String\n    $photo: String!\n    $created_by: String!\n  ) {\n    add_member(\n      fullname: $fullname\n      department: $department\n      position: $position\n      phoneNumber: $phoneNumber\n      email: $email\n      photo: $photo\n      created_by: $created_by\n    ) {\n      message\n    }\n  }\n"]);return W=function(){return e},e}function Q(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $subTitle: String\n    $description: String\n    $image: String\n    $category: String!\n    $sectionNumber: String!\n    $keywords: [String]!\n    $meta_desc: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_page(\n      id: $id\n      title: $title\n      subTitle: $subTitle\n      description: $description\n      image: $image\n      category: $category\n      sectionNumber: $sectionNumber\n      keywords: $keywords\n      meta_desc: $meta_desc\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      message\n    }\n  }\n"]);return Q=function(){return e},e}function X(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_page(id: $id) {\n      message\n    }\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(q.a)(["\n  mutation(\n    $title: String!\n    $lang: String!\n    $subTitle: String\n    $created_by: String!\n    $description: String\n    $image: String\n    $category: String!\n    $sectionNumber: String\n    $keywords: [String]!\n    $meta_desc: String!\n  ) {\n    create_page(\n      title: $title\n      lang: $lang\n      subTitle: $subTitle\n      created_by: $created_by\n      description: $description\n      sectionNumber: $sectionNumber\n      image: $image\n      category: $category\n      keywords: $keywords\n      meta_desc: $meta_desc\n    ) {\n      message\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $slug: String!\n    $title: String!\n    $category: String!\n    $description: String!\n    $thumnail: String\n    $tags: [String]!\n    $keywords: [String]!\n    $meta_desc: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_post(\n      id: $id\n      title: $title\n      slug: $slug\n      category: $category\n      description: $description\n      thumnail: $thumnail\n      tags: $tags\n      keywords: $keywords\n      meta_desc: $meta_desc\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      message\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_post(id: $id) {\n      message\n    }\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(q.a)(["\n  mutation(\n    $title: String!\n    $slug: String!\n    $category: String!\n    $created_by: String!\n    $description: String!\n    $thumnail: String\n    $tags: [String]!\n    $keywords: [String]!\n    $meta_desc: String!\n  ) {\n    create_post(\n      title: $title\n      slug: $slug\n      category: $category\n      created_by: $created_by\n      description: $description\n      thumnail: $thumnail\n      tags: $tags\n      keywords: $keywords\n      meta_desc: $meta_desc\n    ) {\n      message\n    }\n  }\n"]);return ae=function(){return e},e}function ne(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $slug: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_category(\n      id: $id\n      title: $title\n      slug: $slug\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      id\n      title\n      slug\n    }\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_category(id: $id) {\n      title\n    }\n  }\n"]);return re=function(){return e},e}function le(){var e=Object(q.a)(["\n  mutation($title: String!, $slug: String!, $created_by: String!) {\n    create_category(title: $title, slug: $slug, created_by: $created_by) {\n      id\n      title\n      slug\n      created_by\n      created_at\n    }\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_user(id: $id) {\n      fullname\n    }\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(q.a)(["\n  mutation($id: String!, $isAdmin: Boolean!) {\n    isAdmin(id: $id, isAdmin: $isAdmin) {\n      fullname\n      email\n      isAdmin\n    }\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(q.a)(["\n  mutation($id: String!, $approve: Boolean!) {\n    approve_user(id: $id, approve: $approve) {\n      fullname\n      email\n      approved\n    }\n  }\n"]);return oe=function(){return e},e}function se(){var e=Object(q.a)(["\n  mutation(\n    $fullname: String!\n    $email: String!\n    $avatar: String!\n    $oldPassword: String\n    $newPassword: String\n  ) {\n    update_user(\n      fullname: $fullname\n      email: $email\n      avatar: $avatar\n      oldPassword: $oldPassword\n      newPassword: $newPassword\n    ) {\n      fullname\n      email\n    }\n  }\n"]);return se=function(){return e},e}function me(){var e=Object(q.a)(["\n  mutation($fullname: String!, $email: String!, $password: String!) {\n    create_user(fullname: $fullname, email: $email, password: $password) {\n      fullname\n      email\n      password\n    }\n  }\n"]);return me=function(){return e},e}var ue=C()(me()),de=C()(se()),pe=C()(oe()),ge=C()(ce()),be=C()(ie()),fe=C()(le()),Ee=C()(re()),he=C()(ne()),ye=C()(ae()),ve=C()(te()),Oe=C()(ee()),je=C()(Z()),we=C()(X()),ke=C()(Q()),Se=C()(W()),xe=C()(G()),_e=C()(K()),Ne=C()(J()),$e=C()(B()),Pe=C()(U()),De=C()(H()),qe=C()(R()),Te=C()(Y()),Ce=C()(M()),Ie=C()(V()),ze=C()(F()),Le=C()(A()),Ae=C()(L()),Fe=C()(z()),Ve=C()(I());var Me=f.a.create()((function(e){var t=Object(D.a)(ue),a=Object(p.a)(t,1)[0],n=Object(r.useState)(!1),i=Object(p.a)(n,2),c=i[0],s=i[1],m=e.form.getFieldDecorator;return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{className:"loginBackground",params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),l.a.createElement("div",{className:"loginContainer"},l.a.createElement("h1",{className:"loginTitle"},"Register"),l.a.createElement(f.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return r=n.fullname,l=n.email,i=n.password,e.next=4,a({variables:{fullname:r,email:l,password:i}}).then(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,b.a.success("Register Successfully.",3);case 3:return e.next=5,window.location.replace("/login");case 5:case"end":return e.stop()}}),e)})))).catch((function(e){s(!0),setTimeout((function(){s(!1)}),3e3);var t=JSON.parse(JSON.stringify(e));b.a.error(t.graphQLErrors[0].message)}));case 4:e.next=7;break;case 6:console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},className:"login-form"},l.a.createElement(f.a.Item,null,m("fullname",{rules:[{required:!0,message:"Please input your Full Name!"}]})(l.a.createElement(E.a,{size:"large",prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Full Name"}))),l.a.createElement(f.a.Item,null,m("email",{rules:[{required:!0,message:"Please input your Email!"}]})(l.a.createElement(E.a,{size:"large",prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),l.a.createElement(f.a.Item,null,m("password",{rules:[{required:!0,message:"Please input your Password!"}]})(l.a.createElement(E.a,{size:"large",prefix:l.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),l.a.createElement(f.a.Item,null,l.a.createElement(v.a,{size:"small",type:"primary",htmlType:"submit",className:"login-form-button",disabled:!!c},c?l.a.createElement("img",{src:k.a,alt:"koompi-steam-loading",height:"10"}):"Sign Up"),l.a.createElement("br",null),"Have an account? ",l.a.createElement(o.b,{to:"/login"},"Login")))))})),Ye=a(184),Re=a(126),He=a.n(Re),Ue=x.a.get("token"),Be=He.a.decode(Ue),Je=function(e){var t=e.component,a=Object(Ye.a)(e,["component"]);return l.a.createElement(s.b,Object.assign({},a,{render:function(e){return Be?l.a.createElement(t,e):l.a.createElement(s.a,{to:"/login"})}}))},Ke=function(e){var t=e.component,a=e.restricted,n=Object(Ye.a)(e,["component","restricted"]),r=x.a.get("token"),i=He.a.decode(r);return l.a.createElement(s.b,Object.assign({},n,{render:function(e){return i&&a?l.a.createElement(s.a,{to:"/admin/dashboard"}):l.a.createElement(t,e)}}))},Ge=Object(r.createContext)(),We=function(e){var t=Object(r.useState)({fullname:"",email:"",avatar:""}),a=Object(p.a)(t,2),n=a[0],i=a[1];return Object(r.useEffect)((function(){var e=x.a.get("token"),t=He.a.decode(e);i(t)}),[]),l.a.createElement(Ge.Provider,{value:{user:n}},e.children)},Qe=a(765),Xe=a(767),Ze=a(768),et=a(244),tt=a(70),at=Qe.a.Sider,nt=et.a.SubMenu;var rt=function(){var e=Object(r.useContext)(Ge),t=Object(r.useState)(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],c=window.location.pathname,s=e.user,m=s.fullname,u=s.isAdmin;if(""===m)return null;var d=JSON.parse(localStorage.getItem("isLight"));return l.a.createElement(at,{style:d?{backgroundColor:"rgb(30, 39, 46)"}:{backgroundColor:"#fff"}},l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("img",{src:d?"/images/KOOMPI_Logo.svg":"/images/KOOMPI_Logo_dark.svg",alt:"",className:"KOOMPI_LOGO"})),l.a.createElement("div",{className:"themeChange",onClick:function(){i(!n),localStorage.setItem("isLight",!n)}},d?l.a.createElement("img",{src:"/images/day.svg",alt:"koompi day",height:"25px"}):l.a.createElement("img",{src:"/images/night.svg",alt:"koompi night",height:"25px"}))),l.a.createElement(et.a,{theme:d?"dark":"light",defaultSelectedKeys:[c],defaultOpenKeys:[c],mode:"inline"},l.a.createElement(et.a.Item,{key:"/admin/dashboard"},l.a.createElement(o.b,{to:"/admin/dashboard",className:"nav-text"},l.a.createElement(tt.a,null),l.a.createElement("span",null,"Dashboard"))),l.a.createElement(et.a.ItemGroup,{key:"site-management",title:"Site Management"},l.a.createElement(nt,{key:"/admin/new-post"===c?"/admin/new-post":"/admin/all-posts",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(tt.d,null),l.a.createElement("span",null,"Posts"))},l.a.createElement(et.a.Item,{key:"/admin/new-post"},l.a.createElement(o.b,{to:"/admin/new-post"},"New Post")),l.a.createElement(et.a.Item,{key:"/admin/all-posts"},l.a.createElement(o.b,{to:"/admin/all-posts"},"All Posts"))),l.a.createElement(nt,{key:"/admin/new-page"===c?"/admin/new-page":"/admin/all-pages",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(tt.c,null),l.a.createElement("span",null,"Pages"))},l.a.createElement(et.a.Item,{key:"/admin/new-page"},l.a.createElement(o.b,{to:"/admin/new-page"},"New Page")),l.a.createElement(et.a.Item,{key:"/admin/all-pages"},l.a.createElement(o.b,{to:"/admin/all-pages"},"All Pages"))),l.a.createElement(et.a.Item,{key:"/admin/categories"},l.a.createElement(o.b,{to:"/admin/categories",className:"nav-text"},l.a.createElement(tt.e,null),l.a.createElement("span",null,"Categories"))),l.a.createElement(nt,{key:"/admin/new-member"===c?"/admin/new-member":"/admin/members",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(tt.j,null),l.a.createElement("span",null,"Members"))},l.a.createElement(et.a.Item,{key:"/admin/new-member"},l.a.createElement(o.b,{to:"/admin/new-member"},"New Member")),l.a.createElement(et.a.Item,{key:"/admin/members"},l.a.createElement(o.b,{to:"/admin/members"},"All Members"))),l.a.createElement(nt,{key:"/admin/add-social-media"===c?"/admin/add-social-media":"/admin/social-media",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(tt.g,null),l.a.createElement("span",null,"Socail media"))},l.a.createElement(et.a.Item,{key:"/admin/add-social-media"},l.a.createElement(o.b,{to:"/admin/add-social-media"},"Add Social Media")),l.a.createElement(et.a.Item,{key:"/admin/social-media"},l.a.createElement(o.b,{to:"/admin/social-media"},"Social Media"))),u&&l.a.createElement(nt,{key:"/admin/new-legal"===c?"/admin/new-legal":"/admin/all-legals",title:l.a.createElement("div",{className:"nav-text"},l.a.createElement(tt.i,null),l.a.createElement("span",null,"Legals"))},l.a.createElement(et.a.Item,{key:"/admin/new-legal"},l.a.createElement(o.b,{to:"/admin/new-legal"},"New Legal")),l.a.createElement(et.a.Item,{key:"/admin/all-legals"},l.a.createElement(o.b,{to:"/admin/all-legals"},"All Legals"))),l.a.createElement(et.a.Item,{key:"/admin/users"},l.a.createElement(o.b,{to:"/admin/users",className:"nav-text"},l.a.createElement(tt.h,null),l.a.createElement("span",null,"Users")))),l.a.createElement(et.a.ItemGroup,{key:"payment-management",title:"Payment Management"},u&&l.a.createElement(et.a.Item,{key:"/admin/user/payments"},l.a.createElement(o.b,{to:"/admin/user/payments",className:"nav-text"},l.a.createElement(tt.b,null),l.a.createElement("span",null,"User Payment")))),l.a.createElement(et.a.ItemGroup,{key:"telegram-bot",title:"Bot System"},u&&l.a.createElement(et.a.Item,{key:"/admin/telegram-bot"},l.a.createElement(o.b,{to:"/admin/telegram-bot",className:"nav-text"},l.a.createElement(tt.f,null),l.a.createElement("span",null,"Telegram"))))))},lt=a(766);function it(){var e=Object(q.a)(["\n  query($id: String!) {\n    product(id: $id) {\n      id\n      name\n      price\n      purchasingType\n    }\n  }\n"]);return it=function(){return e},e}function ct(){var e=Object(q.a)(["\n  query($id: String!) {\n    software(id: $id) {\n      id\n      title\n      description\n      logo\n      image\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return ct=function(){return e},e}function ot(){var e=Object(q.a)(["\n  query {\n    softwares {\n      id\n      title\n      description\n      logo\n      image\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return ot=function(){return e},e}function st(){var e=Object(q.a)(["\n  query {\n    customers {\n      id\n      firstname\n      lastname\n      email\n      phone\n      products\n      created_at\n    }\n  }\n"]);return st=function(){return e},e}function mt(){var e=Object(q.a)(["\n  query($id: String!) {\n    legal(id: $id) {\n      id\n      title\n      description\n      created_by\n      created_at\n    }\n  }\n"]);return mt=function(){return e},e}function ut(){var e=Object(q.a)(["\n  query {\n    legals {\n      id\n      title\n      description\n      created_by\n      created_at\n    }\n  }\n"]);return ut=function(){return e},e}function dt(){var e=Object(q.a)(["\n  query($id: String!) {\n    oneSocialMedia(id: $id) {\n      id\n      name\n      logo\n      link\n      created_by\n      created_at\n    }\n  }\n"]);return dt=function(){return e},e}function pt(){var e=Object(q.a)(["\n  query {\n    socialMedia {\n      id\n      name\n      logo\n      link\n      created_by\n      created_at\n    }\n  }\n"]);return pt=function(){return e},e}function gt(){var e=Object(q.a)(["\n  query($id: String!) {\n    retailer(id: $id) {\n      name\n      id\n      email\n      logo\n      location\n      created_by\n      phoneNumber\n      created_at\n    }\n  }\n"]);return gt=function(){return e},e}function bt(){var e=Object(q.a)(["\n  query {\n    retailers {\n      name\n      id\n      email\n      logo\n      location\n      created_by\n      phoneNumber\n      created_at\n    }\n  }\n"]);return bt=function(){return e},e}function ft(){var e=Object(q.a)(["\n  query($id: String!) {\n    member(id: $id) {\n      id\n      fullname\n      phoneNumber\n      email\n      created_by\n      position\n      photo\n      department\n      created_at\n    }\n  }\n"]);return ft=function(){return e},e}function Et(){var e=Object(q.a)(["\n  query {\n    members {\n      id\n      fullname\n      phoneNumber\n      email\n      created_by\n      position\n      photo\n      department\n      created_at\n    }\n  }\n"]);return Et=function(){return e},e}function ht(){var e=Object(q.a)(["\n  query($id: String!) {\n    page(id: $id) {\n      id\n      title\n      subTitle\n      category {\n        title\n        slug\n      }\n      sectionNumber\n      created_by\n      description\n      meta_desc\n      keywords\n      image\n      updated_at\n      updated_by\n      created_at\n    }\n  }\n"]);return ht=function(){return e},e}function yt(){var e=Object(q.a)(["\n  query {\n    pages {\n      id\n      title\n      subTitle\n      category {\n        title\n      }\n      lang {\n        lang\n      }\n      sectionNumber\n      created_by\n      description\n      meta_desc\n      keywords\n      image\n      updated_at\n      updated_by\n      created_at\n    }\n  }\n"]);return yt=function(){return e},e}function vt(){var e=Object(q.a)(["\n  query($id: String!) {\n    post(id: $id) {\n      id\n      title\n      slug\n      created_by\n      description\n      category {\n        title\n      }\n      meta_desc\n      keywords\n      tags\n      updated_at\n      updated_by\n      created_at\n      thumnail\n    }\n  }\n"]);return vt=function(){return e},e}function Ot(){var e=Object(q.a)(["\n  query {\n    posts {\n      id\n      title\n      slug\n      description\n      category {\n        title\n      }\n      user {\n        fullname\n      }\n      meta_desc\n      keywords\n      tags\n      updated_at\n      updated_by\n      created_at\n      thumnail\n    }\n  }\n"]);return Ot=function(){return e},e}function jt(){var e=Object(q.a)(["\n  query($id: String!) {\n    category(id: $id) {\n      id\n      title\n      created_by\n    }\n  }\n"]);return jt=function(){return e},e}function wt(){var e=Object(q.a)(["\n  query {\n    categories {\n      id\n      title\n      slug\n      created_by\n      updated_by\n      created_at\n      updated_at\n    }\n  }\n"]);return wt=function(){return e},e}function kt(){var e=Object(q.a)(["\n  query($email: String!) {\n    user(email: $email) {\n      fullname\n      email\n      avatar\n      isAdmin\n      id\n      approved\n    }\n  }\n"]);return kt=function(){return e},e}function St(){var e=Object(q.a)(["\n  query {\n    users {\n      fullname\n      email\n      avatar\n      isAdmin\n      id\n      approved\n      created_at\n    }\n  }\n"]);return St=function(){return e},e}var xt=C()(St()),_t=C()(kt()),Nt=C()(wt()),$t=C()(jt()),Pt=C()(Ot()),Dt=C()(vt()),qt=C()(yt()),Tt=C()(ht()),Ct=C()(Et()),It=C()(ft()),zt=C()(bt()),Lt=C()(gt()),At=C()(pt()),Ft=C()(dt()),Vt=C()(ut()),Mt=C()(mt()),Yt=C()(st()),Rt=C()(ot()),Ht=C()(ct()),Ut=C()(it()),Bt=Qe.a.Header;var Jt=function(){var e=Object(r.useContext)(Ge).user.email,t=l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/user/settings"},"Settings"),l.a.createElement("p",null,l.a.createElement("a",{href:"/logout"},"Logout")));return l.a.createElement(Bt,{style:{background:"#fff",padding:0}},l.a.createElement((function(){var a=Object(D.b)(_t,{variables:{email:e}}),n=a.error,r=a.loading,i=a.data;if(n&&console.log(n),r)return"Loading ...";if(i){var c=i.user,o=c.fullname,s=c.avatar,m=c.email;return l.a.createElement(lt.a,{placement:"bottomRight",title:l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,o)),l.a.createElement("p",null,m)),content:t},l.a.createElement("img",{src:"https://admin-demo.koompi.com"+s,alt:o,className:"avatar"}))}}),null))},Kt=Qe.a.Footer;var Gt=function(){return l.a.createElement(Kt,{style:{textAlign:"center"}},"Copyright \xa9 2020 Created by ",l.a.createElement("b",null,"KOOMPI"),l.a.createElement("p",null,"A brainchild of ",l.a.createElement("b",null,"SmallWorld Venture")))},Wt=a(114),Qt=a.n(Wt),Xt=function(){var e=Object(D.b)(Pt),t=e.error,a=e.loading,n=e.data;return a?l.a.createElement("center",null,l.a.createElement("img",{src:Qt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?(console.log("data",n.posts.created_at),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.posts.length)," posts")))):void 0)},Zt=function(){var e=Object(D.b)(qt),t=e.error,a=e.loading,n=e.data;return a?l.a.createElement("center",null,l.a.createElement("img",{src:Qt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.pages.length)," pages"))):void 0)},ea=function(){var e=Object(D.b)(zt),t=e.error,a=e.loading,n=e.data;return a?l.a.createElement("center",null,l.a.createElement("img",{src:Qt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.retailers.length)," retailers"))):void 0)},ta=(a(633),a(33)),aa=a.n(ta),na=Qe.a.Content;var ra=function(){var e=Object(r.useState)({options:{chart:{id:"basic-bar"},xaxis:{categories:[1580871334388,1580799414274,1580377941997]}},series:[{name:"series-1",data:[30,40,45]}]}),t=Object(p.a)(e,2);return t[0],t[1],l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(na,null,l.a.createElement(Jt,null),l.a.createElement("div",{style:{padding:"0px 50px "}},l.a.createElement(Xe.a,{gutter:[16,16]},l.a.createElement(Ze.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/User.svg",alt:"user",className:"card_icon"})),l.a.createElement((function(){var e=Object(D.b)(xt),t=e.error,a=e.loading,n=e.data;return a?l.a.createElement("center",null,l.a.createElement("img",{src:Qt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?(console.log("Data",n.users.sort((function(e){return aa()(e.created_at).unix()}))),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("span",{className:"adminFirstSectionFont"},l.a.createElement("b",null,n.users.length)," users")))):void 0)}),null))),l.a.createElement(Ze.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/Post.svg",alt:"user",className:"card_icon"})),l.a.createElement(Xt,null))),l.a.createElement(Ze.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/Page.svg",alt:"user",className:"card_icon"})),l.a.createElement(Zt,null))),l.a.createElement(Ze.a,{span:6},l.a.createElement("div",{className:"card_back"},l.a.createElement("div",{className:"icons_back"},l.a.createElement("img",{src:"/images/icons/Retailers.svg",alt:"user",className:"card_icon"})),l.a.createElement(ea,null)))),l.a.createElement(Xe.a,{gutter:[16,16]},l.a.createElement(Ze.a,{span:24},l.a.createElement("div",{className:"card_back_content"},l.a.createElement("center",null,l.a.createElement("img",{src:"/images/coursenotfound.gif",height:"400px",alt:""})))))),l.a.createElement("div",null)),l.a.createElement(Gt,null)))},la=a(367),ia=a.n(la);a(84);var ca=function(e){return l.a.createElement(ia.a,{formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link"],modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},onChange:e.handleDescChange,defaultValue:e.defaultValue,preserveWhitespace:!0})},oa=a(58),sa=a.n(oa),ma=a(85),ua=a.n(ma),da=a(86),pa=a.n(da),ga=a(87),ba=a.n(ga),fa=a(88),Ea=a.n(fa),ha=a(89),ya=a.n(ha),va=a(90),Oa=a.n(va),ja=a(91),wa=a.n(ja),ka=a(92),Sa=a.n(ka),xa=a(93),_a=a.n(xa),Na=a(94),$a=a.n(Na),Pa=a(95),Da=a.n(Pa),qa=a(96),Ta=a.n(qa),Ca=a(97),Ia=a.n(Ca),za=a(98),La=a.n(za),Aa=a(99),Fa=a.n(Aa),Va=(ua.a,pa.a,ba.a,Ea.a,ya.a,Oa.a,wa.a,Sa.a,_a.a,$a.a,Da.a,Ta.a,Ia.a,La.a,Fa.a,a(60)),Ma=a.n(Va),Ya=a(129),Ra=a.n(Ya),Ha=a(147),Ua=a(772);function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ja(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka=f.a.Item,Ga=Qe.a.Content,Wa=E.a.TextArea,Qa=Ha.a.Option,Xa=[];var Za=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(r.useState)(""),y=Object(p.a)(h,2),O=y[0],j=y[1],w=Object(r.useContext)(Ge),S=Object(D.b)(Nt).refetch,x=Object(D.b)(Pt).refetch,_=Object(D.a)(ye),N=Object(p.a)(_,1)[0],$={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l.a.useRef(null),l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Ga,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"New Post"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(Ka,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Ka,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:w.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement(Ka,{label:"Description: "},l.a.createElement(ca,{handleDescChange:function(e){j(e)},defaultValue:O}))),l.a.createElement(Ze.a,{span:8},l.a.createElement(Ka,{label:"Thumnail"},l.a.createElement(Ua.a.Dragger,$,m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(m)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("thumnail",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement((function(){var e=Object(D.b)(Nt),a=e.error,n=e.loading,r=e.data;if(a&&console.log(a),n)return"Loading ...";if(0===r.categories.length)return b.a.error("Please create a category.",5),l.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}]})(l.a.createElement(Ha.a,{placeholder:"No Category"})));var i=Ra.a.filter(r.categories,(function(e){return Ra.a.includes(["news","events"],e.slug)}));return l.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i[0].title})(l.a.createElement(Ha.a,{placeholder:"Please select the category",size:"large"},i.map((function(e){return l.a.createElement(Qa,{value:e.title,key:e.id},e.title)})))))}),null),l.a.createElement(Ka,{label:"Tags"},t("tags",{rules:[{required:!0,message:"The tags is required"}]})(l.a.createElement(Ha.a,{mode:"tags",style:{width:"100%"},size:"large"},Xa))),l.a.createElement(Ka,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}]})(l.a.createElement(Ha.a,{mode:"tags",style:{width:"100%"},size:"large"},Xa))),l.a.createElement(Ka,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}]})(l.a.createElement(Wa,{rows:4}))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i,onClick:function(){e.form.validateFieldsAndScroll((function(t,a){t||N({variables:Ja({},a,{slug:Ma()(a.title,{lower:!0}),description:""===O?null:O})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),j(""),S(),x(),e.form.resetFields(),t.next=8,b.a.success(a.data.create_post.message,3);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))))),l.a.createElement(Gt,null)))})),en=a(777),tn=a(769),an=a(770),nn=a(771),rn=Qe.a.Content;var ln=function(){var e=Object(D.a)(ve),t=Object(p.a)(e,1)[0],a=Object(D.b)(Pt).refetch,n=[{title:"Image",dataIndex:"thumnail",render:function(e){return l.a.createElement("img",{src:"https://admin-demo.koompi.com"+e,alt:"post",height:"40px",width:"40px",style:{borderRadius:"8px"}})}},{title:"Title",dataIndex:"title",render:function(e){return e.length<=25?e:e.substring(0,25)+" ..."},key:"title"},{title:"Slug",dataIndex:"slug",key:"slug",render:function(e){return e.length<=25?e:e.substring(0,25)+" ..."}},{title:"Category",dataIndex:"category",key:"category",render:function(e){return l.a.createElement(en.a,{color:"green"},null===e?"No category":e.title)}},{title:"Author",dataIndex:"user",key:"created_by",render:function(e){return null===e?"Null":e.fullname}},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e){return aa.a.unix(e/1e3).format("YYYY-MM-DD")}},{title:"Actions",dataIndex:"action",render:function(e,n){var r=n.id;return l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/post/edit/".concat(r)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this Post?",okText:"Yes",cancelText:"No",onConfirm:function(){t({variables:{id:"".concat(r)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_post.message);case 2:return e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}}];return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(rn,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"All Posts"),l.a.createElement((function(){var e=Object(D.b)(Pt),t=e.error,a=e.loading,r=e.data;if(t&&console.log(t),a)return l.a.createElement(nn.a,{loading:!0});if(r){return l.a.createElement("div",null,l.a.createElement((function(){return l.a.createElement(nn.a,{columns:n,dataSource:r.posts,pagination:{defaultCurrent:1,total:r.posts.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},pageSize:20}})}),null))}}),null)))),l.a.createElement(Gt,null)))},cn=(ua.a,pa.a,ba.a,Ea.a,ya.a,Oa.a,wa.a,Sa.a,_a.a,$a.a,Da.a,Ta.a,Ia.a,La.a,Fa.a,a(776));function on(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?on(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):on(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mn=f.a.Item,un=Qe.a.Content,dn=E.a.TextArea,pn=Ha.a.Option,gn=[];var bn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.a)(je),n=Object(p.a)(a,1)[0],i=Object(r.useState)(""),c=Object(p.a)(i,2),o=c[0],s=c[1],m=Object(r.useState)(!1),g=Object(p.a)(m,2),h=g[0],y=g[1],O=Object(r.useState)(""),j=Object(p.a)(O,2),w=j[0],S=j[1],x=Object(D.b)(qt).refetch,_=Object(r.useContext)(Ge),N=function(e){S(e)},$={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:o,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(s(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(un,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"New Page"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(Xe.a,{gutter:[24]},l.a.createElement(Ze.a,{span:8},l.a.createElement(mn,{label:"Language: "},t("lang",{rules:[{required:!0,message:"The Langauge is required"}],initialValue:"en"})(l.a.createElement(Ha.a,{placeholder:"Please select the category",size:"large"},l.a.createElement(pn,{value:"en",key:"en"},"English"),l.a.createElement(pn,{value:"kh",key:"en"},"Khmer"))))),l.a.createElement(Ze.a,{span:8},l.a.createElement(mn,{label:"Title: "},t("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement(Ze.a,{span:8},l.a.createElement(mn,{label:"SubTitle: "},t("subTitle")(l.a.createElement(E.a,{size:"large"}))))),l.a.createElement(mn,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:_.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement(mn,{label:"Description: "},l.a.createElement(ca,{handleDescChange:N,defaultValue:w}))),l.a.createElement(Ze.a,{span:8},l.a.createElement(mn,{label:"Image"},l.a.createElement(Ua.a.Dragger,$,o?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(o)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Image is required"}],initialValue:"/public/uploads/"+o})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement(Xe.a,{gutter:16},l.a.createElement(Ze.a,{span:12},l.a.createElement(mn,{label:"Section Number: "},t("sectionNumber",{rules:[{required:!0,message:"The Section Number is required"}],initialValue:1})(l.a.createElement(cn.a,{min:1,size:"large",style:{width:"100%"}})))),l.a.createElement(Ze.a,{span:12},l.a.createElement((function(){var e=Object(D.b)(Nt),a=e.error,n=e.loading,r=e.data;return a&&console.log(a),n?"Loading ...":0===r.categories.length?(b.a.error("Please create a category.",5),l.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}]})(l.a.createElement(Ha.a,{placeholder:"No Category"})))):l.a.createElement(f.a.Item,{label:"Page"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:r.categories[0].title})(l.a.createElement(Ha.a,{placeholder:"Please select the category",size:"large"},r.categories.map((function(e){return l.a.createElement(pn,{value:e.title,key:e.id},e.title)})))))}),null))),l.a.createElement(mn,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}]})(l.a.createElement(Ha.a,{mode:"tags",style:{width:"100%"},size:"large"},gn))),l.a.createElement(mn,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}]})(l.a.createElement(dn,{rows:4}))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!h,onClick:function(){e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),n({variables:sn({},a,{description:""===w?null:w,sectionNumber:a.sectionNumber.toString()})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),setTimeout((function(){y(!1)}),3e3),N(""),e.form.resetFields(),x(),t.next=7,b.a.success(a.data.create_page.message,3);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},h?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))))),l.a.createElement(Gt,null)))})),fn=a(143),En=a.n(fn),hn=a(778),yn=Qe.a.Content;var vn=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=(t[0],t[1],Object(D.a)(we)),n=Object(p.a)(a,1)[0],i=Object(D.b)(qt).refetch,c=[{key:"".concat(Object(hn.a)()),title:"Image",dataIndex:"image",render:function(e){return l.a.createElement("img",{src:"/public/uploads/"===e?"/images/Error-01.png":"https://admin-demo.koompi.com"+e,alt:"post",width:"60px"})}},{key:"".concat(Object(hn.a)()),title:"Title",dataIndex:"title"},{key:"".concat(Object(hn.a)()),title:"SubTitle",dataIndex:"subTitle",render:function(e){return null===e?l.a.createElement(en.a,{color:"red"},"N/A"):l.a.createElement(en.a,{color:"green"},e)}},{key:"".concat(Object(hn.a)()),title:"Lang",dataIndex:"lang",sorter:function(e,t){return e.lang.lang.localeCompare(t.lang.lang)},render:function(e){return e.lang}},{key:"".concat(Object(hn.a)()),title:"Page",dataIndex:"category",sorter:function(e,t){return e.category.title.length-t.category.title.length},render:function(e){return null===e?"No category":e.title}},{key:"".concat(Object(hn.a)()),title:"Author",dataIndex:"created_by",render:function(e){return e}},{key:"".concat(Object(hn.a)()),title:"Date",dataIndex:"created_at",render:function(e){return aa.a.unix(e/1e3).format("DD, MMM YYYY")}},{key:"".concat(Object(hn.a)()),title:"Updated By",dataIndex:"updated_by",render:function(e){return null===e?"No Update":e}},{key:"".concat(Object(hn.a)()),title:"Actions",dataIndex:"action",render:function(e,t){var a=t.id;return l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/page/edit/".concat(a)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this Page?",okText:"Yes",cancelText:"No",onConfirm:function(){n({variables:{id:"".concat(a)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_page.message);case 2:return e.next=4,i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}}];return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(yn,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"All Pages"),l.a.createElement((function(){var e=Object(D.b)(qt),t=e.error,a=e.loading,n=e.data;return t&&console.log(t),a?l.a.createElement(nn.a,{loading:!0}):n?l.a.createElement("div",null,l.a.createElement(nn.a,{rowKey:function(){return Object(hn.a)()},columns:c,dataSource:n.pages,pagination:{defaultCurrent:1,total:n.pages.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},pageSize:20}})):void 0}),null)))),l.a.createElement(Gt,null)))},On=Qe.a.Content;var jn=function(){var e=Object(D.a)(pe),t=Object(p.a)(e,1)[0],a=Object(D.a)(be),n=Object(p.a)(a,1)[0],i=Object(D.a)(ge),c=Object(p.a)(i,1)[0],o=Object(r.useContext)(Ge).user.isAdmin,s=[{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",key:"admin",dataIndex:"admin"},{title:"Approved",key:"approved",dataIndex:"approved"}],m=[{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",key:"admin",dataIndex:"admin"},{title:"Approved",key:"approved",dataIndex:"approved"},{title:"Action",dataIndex:"action"}];return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(On,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Users"),o?l.a.createElement((function(){var e=Object(D.b)(xt),a=e.error,r=e.loading,i=e.data,o=e.refetch;return r?"Loading ...":(a&&console.log(a),i?(o(),l.a.createElement(nn.a,{dataSource:i.users.map((function(e,a){var r=e.id,i=e.fullname,s=e.email,m=e.isAdmin,u=e.approved;return{key:a,fullname:i,email:s,admin:m?l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to make this user a normal user?",onConfirm:function(){c({variables:{id:"".concat(r),isAdmin:!1}}),b.a.success("".concat(i," updated successfully "))},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"green",key:r,style:{cursor:"pointer"}},"Yes")):l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to approve this user as Admin?",onConfirm:function(){c({variables:{id:"".concat(r),isAdmin:!0}}),b.a.success("".concat(i," has been aprroved as admin successfully "))},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"red",key:r,style:{cursor:"pointer"}},"No")),approved:u?l.a.createElement(an.a,{disabled:!!m,placement:"topRight",title:"Are you sure disable this user?",onConfirm:function(){t({variables:{id:"".concat(r),approve:!1}}),b.a.success("".concat(i," is disable "))},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"green",key:r,style:{cursor:"pointer"}},"Approved")):l.a.createElement(an.a,{disabled:!!m,placement:"topRight",title:"Are you sure to approve this user?",onConfirm:function(){t({variables:{id:"".concat(r),approve:!0}}),b.a.success("".concat(i," has been aprroved successfully ")),o()},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"orange",key:r,style:{cursor:"pointer"}},"Pending")),action:l.a.createElement("div",null,l.a.createElement(an.a,{disabled:!!m,placement:"topRight",title:"Are you sure to delete this user?",onConfirm:function(){n({variables:{id:r}}),b.a.success("".concat(i," Has been deleted "))},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}})),columns:m})):void 0)}),null):l.a.createElement((function(){var e=Object(D.b)(xt),t=e.error,a=e.loading,n=e.data;return a?"Loading ...":(t&&console.log(t),n?l.a.createElement(nn.a,{dataSource:n.users.map((function(e,t){var a=e.id,n=e.fullname,r=e.email,i=e.isAdmin,c=e.approved;return{key:t,fullname:n,email:r,admin:i?l.a.createElement(en.a,{color:"green",key:a},"Yes"):l.a.createElement(en.a,{color:"red",key:a},"No"),approved:c?l.a.createElement(en.a,{color:"green",key:a},"Approved"):l.a.createElement(en.a,{color:"orange",key:a},"Pending")}})),columns:s}):void 0)}),null)))),l.a.createElement(Gt,null)))},wn=function(){return Object(r.useEffect)((function(){x.a.set("token",""),window.location.replace("/login")})),null};function kn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Sn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xn=f.a.Item,_n=Qe.a.Content;var Nn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],s=Object(r.useContext)(Ge),m=Object(D.a)(fe),g=Object(p.a)(m,1)[0],y=Object(D.a)(Ee),O=Object(p.a)(y,1)[0],j=Object(D.b)(Nt).refetch,w=[{title:"Title",dataIndex:"title",onFilter:function(e,t){return 0===t.title.indexOf(e)},sorter:function(e,t){return e.title.length-t.title.length}},{title:"Slug",dataIndex:"slug",onFilter:function(e,t){return 0===t.title.indexOf(e)},sorter:function(e,t){return e.title.length-t.title.length}},{title:"Author",dataIndex:"created_by",sorter:function(e,t){return e.created_by.length-t.created_by.length}},{title:"Date",dataIndex:"created_at"},{title:"Updated By",dataIndex:"updated_by"},{title:"Updated At",dataIndex:"updated_at"},{title:"Actions",dataIndex:"action"}];return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(_n,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Category"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||g({variables:Sn({},a,{slug:Ma()(a.title,{lower:!0})})}).then(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),j(),e.form.resetFields(),t.next=6,b.a.success("The Category created successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){b.a.error(e.graphQLErrors[0].message,5)}))}))}},l.a.createElement(Xe.a,{gutter:[16,16]},l.a.createElement(Ze.a,{span:24},l.a.createElement(xn,null,t("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"})))),l.a.createElement(Ze.a,{span:4,style:{display:"none"}},l.a.createElement(xn,null,t("created_by",{initialValue:s.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),l.a.createElement(Ze.a,{span:24,style:{marginTop:"-10px",marginBottom:"10px"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))),l.a.createElement("br",null),l.a.createElement("h1",{className:"title_new_post"},"Categories"),l.a.createElement((function(){var e=Object(D.b)(Nt),t=e.error,a=e.loading,n=e.data;return t&&console.log(t),a?l.a.createElement(nn.a,{loading:!0}):n?l.a.createElement(nn.a,{columns:w,dataSource:n.categories.map((function(e){return{key:e.id,title:e.title,slug:e.slug,created_by:e.created_by,updated_by:""===e.updated_by?"No Update":e.updated_by,created_at:aa.a.unix(e.created_at/1e3).format("YYYY-MM-DD"),updated_at:null===e.updated_at?"No Update":aa.a.unix(e.updated_at/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/category/edit/".concat(e.id)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this category?",onConfirm:function(){O({variables:{id:"".concat(e.id)}}),b.a.success("The Category has been Deleted"),j()},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}}))}):void 0}),null)))),l.a.createElement(Gt,null)))}));a(740);function $n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$n(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$n(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dn=f.a.Item,qn=Qe.a.Content;var Tn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useContext)(Ge),s=Object(D.a)(he),m=Object(p.a)(s,1)[0],g=Object(D.b)($t,{variables:{id:window.location.pathname.split("/")[4]}}),h=g.loading,y=g.data;return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(qn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},h?"loading ...":"Update ".concat(y.category.title)),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||m({variables:Pn({id:window.location.pathname.split("/")[4]},a,{slug:Ma()(a.title,{lower:!0})})}).then(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),t.next=4,b.a.success("The Category update successfully.",3);case 4:return t.next=6,e.history.push("/admin/categories");case 6:case"end":return t.stop()}}),t)})))).catch((function(e){b.a.error(e)}))}))}},l.a.createElement(Xe.a,{gutter:[16,16]},l.a.createElement(Ze.a,{span:16},l.a.createElement(Dn,null,t("title",{initialValue:h?"loading ...":y.category.title})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Dn,null,t("updated_at",{rules:[{required:!0,message:"The title is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(E.a,{style:{display:"none"},size:"large"})))),l.a.createElement(Ze.a,{span:4},l.a.createElement(Dn,null,t("updated_by",{initialValue:o.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(E.a,{size:"large",disabled:!0})))),l.a.createElement(Ze.a,{span:4},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))))))),l.a.createElement(Gt,null)))}));function Cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function In(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zn=f.a.Item,Ln=Qe.a.Content,An=E.a.TextArea,Fn=Ha.a.Option,Vn=[];var Mn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.b)(Dt,{variables:{id:window.location.pathname.split("/")[4]}}),n=a.loading,i=a.data,c=Object(r.useState)(!1),o=Object(p.a)(c,2),s=o[0],m=o[1],g=Object(r.useState)(null),h=Object(p.a)(g,2),y=h[0],O=h[1],j=Object(r.useState)(""),w=Object(p.a)(j,2),S=w[0],x=w[1],_=Object(r.useContext)(Ge),N=(l.a.useRef(null),Object(D.b)(Pt).refetch),$=Object(D.a)(Oe),P=Object(p.a)($,1)[0],q={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:y,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(O(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return n?"Loading...":(console.log("Result",i.post.description),l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Ln,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Post"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(zn,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:i.post.title})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(zn,{label:"Updated By: ",style:{display:"none"}},t("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:_.user.fullname})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(zn,{label:"update at: ",style:{display:"none"}},t("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(zn,{label:"Description: "},l.a.createElement(ca,{handleDescChange:function(e){console.log(e),x(e)},defaultValue:""===S?i.post.description:S}))),l.a.createElement(Ze.a,{span:8},l.a.createElement(zn,{label:"Thumnail"},l.a.createElement(Ua.a.Dragger,q,null===y?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+i.post.thumnail),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+y),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},t("thumnail",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===y?i.post.thumnail:"/public/uploads/"+y})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement((function(){var e=Object(D.b)(Nt),a=e.error,n=e.loading,r=e.data;if(a&&console.log(a),n)return"Loading ...";var c=Ra.a.filter(r.categories,(function(e){return Ra.a.includes(["news","events"],e.slug)}));return l.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i.post.category.title})(l.a.createElement(Ha.a,{placeholder:"Please select the category",size:"large"},c.map((function(e){return l.a.createElement(Fn,{value:e.title,key:e.id},e.title)})))))}),null),l.a.createElement(zn,{label:"Tags"},t("tags",{rules:[{required:!0,message:"The tags is required"}],initialValue:n?"":i.post.tags})(l.a.createElement(Ha.a,{mode:"tags",style:{width:"100%"},size:"large"},Vn))),l.a.createElement(zn,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}],initialValue:n?"":i.post.keywords})(l.a.createElement(Ha.a,{mode:"tags",style:{width:"100%"},size:"large"},Vn))),l.a.createElement(zn,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}],initialValue:n?"":i.post.meta_desc})(l.a.createElement(An,{rows:4}))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){e.form.validateFieldsAndScroll((function(t,a){console.log(Ma()(a.title,{lower:!0})),t||P({variables:In({id:window.location.pathname.split("/")[4]},a,{slug:Ma()(a.title,{lower:!0}),description:""===S?i.post.description:S})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),setTimeout((function(){m(!1)}),3e3),N(),t.next=5,b.a.success(a.data.update_post.message,3);case 5:return t.next=7,e.history.push("/admin/all-posts");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},s?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update")))))))),l.a.createElement(Gt,null))))}));function Yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Hn=f.a.Item,Un=Qe.a.Content,Bn=E.a.TextArea,Jn=Ha.a.Option,Kn=[];var Gn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.b)(Tt,{variables:{id:window.location.pathname.split("/")[4]}}),n=a.loading,i=a.data,c=Object(r.useState)(!1),o=Object(p.a)(c,2),s=o[0],m=o[1],g=Object(r.useState)(null),h=Object(p.a)(g,2),y=h[0],O=h[1],j=Object(r.useState)(""),w=Object(p.a)(j,2),S=w[0],x=w[1],_=Object(r.useContext)(Ge),N=Object(D.b)(qt).refetch,$=Object(D.a)(ke),P=Object(p.a)($,1)[0],q=(l.a.useRef(null),{name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:y,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(O(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}});return n?"Loading...":l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Un,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Page"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(Hn,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:i.page.title})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Hn,{label:"SubTitle"},t("subTitle",{initialValue:i.page.subTitle})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Hn,{label:"Updated By: ",style:{display:"none"}},t("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:_.user.fullname})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Hn,{label:"update at: ",style:{display:"none"}},t("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Hn,{label:"Description: "},l.a.createElement(ca,{handleDescChange:function(e){console.log(e),x(e)},defaultValue:""===S?i.page.description:S})),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return e.form.validateFieldsAndScroll((function(t,a){t||P({variables:Rn({id:window.location.pathname.split("/")[4]},a,{description:""===S?i.page.description:S,sectionNumber:a.sectionNumber.toString()})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),setTimeout((function(){m(!1)}),3e3),t.next=4,b.a.success(a.data.update_page.message,3);case 4:return t.next=6,N();case 6:return t.next=8,e.history.push("/admin/all-pages");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},s?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(Hn,{label:"Image"},l.a.createElement(Ua.a.Dragger,q,null===y?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+i.page.image),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+y),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Imae is required"}],initialValue:null===y?i.page.image:"/public/uploads/"+y})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement(Xe.a,{gutter:16},l.a.createElement(Ze.a,{span:12},l.a.createElement(Hn,{label:"Section Number: "},t("sectionNumber",{rules:[{required:!0,message:"The Section Number is required"}],initialValue:i.page.sectionNumber})(l.a.createElement(cn.a,{min:1,size:"large",style:{width:"100%"}})))),l.a.createElement(Ze.a,{span:12},l.a.createElement((function(){var e=Object(D.b)(Nt),a=e.error,n=e.loading,r=e.data;return a&&console.log(a),n?"Loading ...":0===r.categories.length?(b.a.error("Please create a category.",5),l.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}]})(l.a.createElement(Ha.a,{placeholder:"No Category"})))):l.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i.page.category.title})(l.a.createElement(Ha.a,{placeholder:"Please select the category",size:"large"},r.categories.map((function(e){return l.a.createElement(Jn,{value:e.title,key:e.id},e.title)})))))}),null))),l.a.createElement(Hn,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}],initialValue:n?"":i.page.keywords})(l.a.createElement(Ha.a,{mode:"tags",style:{width:"100%"},size:"large"},Kn))),l.a.createElement(Hn,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}],initialValue:n?"":i.page.meta_desc})(l.a.createElement(Bn,{rows:4}))))))))),l.a.createElement(Gt,null)))}));function Wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wn(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xn=f.a.Item,Zn=Qe.a.Content,er=Ha.a.Option;var tr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(r.useContext)(Ge),y=Object(D.b)(Ct).refetch,O=Object(D.a)(Se),j=Object(p.a)(O,1)[0],w={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Zn,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Member"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||j({variables:Qn({},a)}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),y(),e.form.resetFields(),t.next=6,b.a.success(a.data.add_member.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(Xn,{label:"Full Name"},t("fullname",{rules:[{required:!0,message:"The fullname is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(f.a.Item,{label:"Department"},t("department",{rules:[{required:!0,message:"Please select member department!"}],initialValue:"software-team"})(l.a.createElement(Ha.a,{size:"large"},l.a.createElement(er,{value:"business-development"},"Business Development"),l.a.createElement(er,{value:"hardware-team"},"KOOMPI Hardware Team"),l.a.createElement(er,{value:"academy"},"KOOMPI ACADEMY"),l.a.createElement(er,{value:"sales-and-supplier-relation"},"Sales and Supplier Relation"),l.a.createElement(er,{value:"communication-and-marketing"},"Communication and Marketing"),l.a.createElement(er,{value:"software-team"},"Software Teams")))),l.a.createElement(Xn,{label:"Postion: "},t("position",{rules:[{required:!0,message:"Position is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Xn,{label:"Phone Number: "},t("phoneNumber",{rules:[{required:!0,message:"Phone Number is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Xn,{label:"Email: "},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Email is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Xn,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:h.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(Xn,{label:"Photo"},l.a.createElement(Ua.a.Dragger,w,m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(m)),alt:"avatar",style:{width:"250px",height:"250px"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("photo",{rules:[{required:!0,message:"Photo is required"}],initialValue:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))))))))),l.a.createElement(Gt,null)))})),ar=a(775),nr=Qe.a.Content;var rr=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],i=Object(D.a)(xe),c=Object(p.a)(i,1)[0],s=Object(D.b)(Ct).refetch,m=[{title:"Photo",dataIndex:"photo"},{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Department",dataIndex:"department",key:"department"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],g=function(){n(!1)};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(nr,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Members"),l.a.createElement((function(){var e=Object(D.b)(Ct),t=e.error,n=e.loading,r=e.data;if(t&&console.log(t),n)return l.a.createElement(nn.a,{loading:!0});if(r){var i=function(){return l.a.createElement(nn.a,{columns:m,dataSource:r.members.map((function(e){var t=e.id,a=e.fullname,n=e.phoneNumber,r=e.email,i=e.created_by,m=e.photo,p=e.department,g=e.created_at;return{key:t,photo:l.a.createElement("img",{src:"https://admin-demo.koompi.com".concat(m),alt:"post",height:"50px",width:"50px",style:{borderRadius:"50%"}}),fullname:a,department:p,email:r,phoneNumber:n,created_by:i,created_at:aa.a.unix(g/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/member/edit/".concat(t)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this member?",okText:"Yes",cancelText:"No",onConfirm:function(){c({variables:{id:"".concat(t)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_member.message);case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return l.a.createElement("div",null,l.a.createElement(ar.a,{title:"Details Informtion",visible:a,onOk:g,onCancel:g,footer:null,width:"98%"},l.a.createElement(i,null)),l.a.createElement(i,null))}}),null)))),l.a.createElement(Gt,null)))};function lr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ir(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var cr=f.a.Item,or=Qe.a.Content,sr=Ha.a.Option;var mr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(null),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(D.b)(It,{variables:{id:window.location.pathname.split("/")[4]}}),y=h.loading,O=h.data,j=Object(r.useContext)(Ge),w=Object(D.b)(Ct).refetch,S=Object(D.a)(_e),x=Object(p.a)(S,1)[0],_={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return y?"Loading...":l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(or,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Member"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),x({variables:ir({id:window.location.pathname.split("/")[4]},a)}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),e.form.resetFields(),w(),t.next=6,b.a.success(a.data.update_member.message);case 6:return t.next=8,e.history.push("/admin/members");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(cr,{label:"Full Name"},t("fullname",{rules:[{required:!0,message:"The fullname is required"}],initialValue:O.member.fullname})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(f.a.Item,{label:"Department"},t("department",{rules:[{required:!0,message:"Please select member department!"}],initialValue:O.member.department})(l.a.createElement(Ha.a,null,l.a.createElement(sr,{value:"business-development"},"Business Development"),l.a.createElement(sr,{value:"hardware-team"},"KOOMPI Hardware Team"),l.a.createElement(sr,{value:"academy"},"KOOMPI ACADEMY"),l.a.createElement(sr,{value:"sales-and-supplier-relation"},"Sales and Supplier Relation"),l.a.createElement(sr,{value:"communication-and-marketing"},"Communication and Marketing"),l.a.createElement(sr,{value:"software-team"},"Software Teams")))),l.a.createElement(cr,{label:"Postion: "},t("position",{rules:[{required:!0,message:"Position is required"}],initialValue:O.member.position})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(cr,{label:"Phone Number: "},t("phoneNumber",{rules:[{required:!0,message:"Phone Number is required"}],initialValue:O.member.phoneNumber})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(cr,{label:"Email: "},t("email",{rules:[{required:!0,message:"Email is required"}],initialValue:O.member.email})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(cr,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:j.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(cr,{label:"Photo"},l.a.createElement(Ua.a.Dragger,_,null===m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+O.member.photo),alt:"avatar",style:{width:"250px",height:"250px"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+m),alt:"avatar",style:{width:"250px",height:"250px"}})),l.a.createElement("div",{style:{display:"none"}},t("photo",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===m?O.member.photo:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))))))))),l.a.createElement(Gt,null)))}));function ur(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ur(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ur(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pr=f.a.Item,gr=Qe.a.Content;var br=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(r.useContext)(Ge),y=Object(D.b)(zt).refetch,O=Object(D.a)(Ne),j=Object(p.a)(O,1)[0],w={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(gr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"New Retailer"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),j({variables:dr({},a)}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),y(),e.form.resetFields(),t.next=6,b.a.success(a.data.add_retailer.message,3);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(pr,{label:"Name"},t("name",{rules:[{required:!0,message:"The name is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(pr,{label:"Email"},t("email",{})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(pr,{label:"Phone Number"},t("phoneNumber",{})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(pr,{label:"Link Location: "},t("location",{rules:[{required:!0,message:"Link Location is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(pr,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:h.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(pr,{label:"Logo"},l.a.createElement(Ua.a.Dragger,w,m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(m)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"logo is required"}],initialValue:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))))))))),l.a.createElement(Gt,null)))})),fr=Qe.a.Content;var Er=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],i=Object(D.a)($e),c=Object(p.a)(i,1)[0],s=Object(D.b)(zt).refetch,m=[{title:"Logo",dataIndex:"logo"},{title:"Name",dataIndex:"name",key:"name"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Email",dataIndex:"email",key:"email"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],g=function(){n(!1)};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(fr,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Retailers"),l.a.createElement((function(){var e=Object(D.b)(zt),t=e.error,n=e.loading,r=e.data;if(t&&console.log(t),n)return l.a.createElement(nn.a,{loading:!0});if(r){var i=function(){return l.a.createElement(nn.a,{columns:m,dataSource:r.retailers.map((function(e){var t=e.id,a=e.name,n=e.phoneNumber,r=e.email,i=e.created_by,m=e.logo,p=e.created_at;return{key:En()(a),logo:l.a.createElement("img",{src:"https://admin-demo.koompi.com".concat(m),alt:a,height:"30px",width:"auto"}),name:a,email:null===r?"Null":r,phoneNumber:null===n?"Null":n,created_by:i,created_at:aa.a.unix(p/1e3).format("YYYY-MM-DD HH:mm:ss"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/retailer/edit/".concat(t)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this retailer?",okText:"Yes",cancelText:"No",onConfirm:function(){c({variables:{id:"".concat(t)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_retailer.message);case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return l.a.createElement("div",null,l.a.createElement(ar.a,{title:"Details Informtion",visible:a,onOk:g,onCancel:g,footer:null,width:"98%"},l.a.createElement(i,null)),l.a.createElement(i,null))}}),null)))),l.a.createElement(Gt,null)))};function hr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vr=f.a.Item,Or=Qe.a.Content;var jr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(null),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(D.b)(Lt,{variables:{id:window.location.pathname.split("/")[4]}}),y=h.loading,O=h.data,j=Object(D.b)(zt).refetch,w=Object(D.a)(Pe),S=Object(p.a)(w,1)[0],x={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return y?"Loading...":l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Or,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Retailer"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),S({variables:yr({id:window.location.pathname.split("/")[4]},a)}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),e.form.resetFields(),t.next=5,b.a.success(a.data.update_retailer.message,3);case 5:return j(),t.next=8,e.history.push("/admin/retailers");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(vr,{label:"Full Name"},t("name",{rules:[{required:!0,message:"The name is required"}],initialValue:O.retailer.name})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(vr,{label:"Email"},t("email",{initialValue:O.retailer.email})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(vr,{label:"Phone Number"},t("phoneNumber",{initialValue:O.retailer.phoneNumber})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(vr,{label:"Link Location: "},t("location",{rules:[{required:!0,message:"Link Location is required"}],initialValue:O.retailer.location})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(vr,{label:"Photo"},l.a.createElement(Ua.a.Dragger,x,null===m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+O.retailer.logo),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+m),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===m?O.retailer.logo:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))))))))),l.a.createElement(Gt,null)))}));function wr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sr=f.a.Item,xr=Qe.a.Content;var _r=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(r.useContext)(Ge),y=Object(D.b)(zt).refetch,O=Object(D.a)(De),j=Object(p.a)(O,1)[0],w={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(xr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Social Media"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||j({variables:kr({},a)}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),t.next=4,b.a.success(a.data.add_social_media.message,3);case 4:return t.next=6,y();case 6:return t.next=8,e.form.resetFields();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(Sr,{label:"Name"},t("name",{rules:[{required:!0,message:"The name is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Sr,{label:"Link: "},t("link",{rules:[{required:!0,message:"Link is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(Sr,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:h.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(Sr,{label:"Logo"},l.a.createElement(Ua.a.Dragger,w,m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(m)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"logo is required"}],initialValue:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))))))))),l.a.createElement(Gt,null)))})),Nr=Qe.a.Content;var $r=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],i=Object(D.a)(qe),c=Object(p.a)(i,1)[0],s=Object(D.b)(At).refetch,m=[{title:"Logo",dataIndex:"logo"},{title:"Name",dataIndex:"name",key:"name"},{title:"Link",dataIndex:"link",key:"link"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],g=function(){n(!1)};return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Nr,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Social Media"),l.a.createElement((function(){var e=Object(D.b)(At),t=e.error,n=e.loading,r=e.data,i=e.refetch;if(t&&console.log(t),n)return l.a.createElement(nn.a,{loading:!0});if(r){i();var p=function(){return l.a.createElement(nn.a,{columns:m,dataSource:r.socialMedia.map((function(e){var t=e.id,a=e.name,n=e.created_by,r=e.link,i=e.logo,m=e.created_at;return{key:En()(a),logo:l.a.createElement("img",{src:"https://admin-demo.koompi.com".concat(i),alt:a,height:"40px",width:"40px"}),name:a,link:r,created_by:n,created_at:aa.a.unix(m/1e3).format("YYYY-MM-DD HH:mm:ss"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/social-media/edit/".concat(t)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete ".concat(a,"?"),okText:"Yes",cancelText:"No",onConfirm:function(){c({variables:{id:"".concat(t)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_social_media.message);case 2:return e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return l.a.createElement("div",null,l.a.createElement(ar.a,{title:"Details Informtion",visible:a,onOk:g,onCancel:g,footer:null,width:"98%"},l.a.createElement(p,null)),l.a.createElement(p,null))}}),null)))),l.a.createElement(Gt,null)))};function Pr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qr=f.a.Item,Tr=Qe.a.Content;var Cr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(null),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(D.b)(Ft,{variables:{id:window.location.pathname.split("/")[4]}}),y=h.loading,O=h.data,j=Object(D.b)(At).refetch,w=Object(D.a)(Te),S=Object(p.a)(w,1)[0],x={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:m,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return y?"Loading...":l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Tr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Member"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),S({variables:Dr({id:window.location.pathname.split("/")[4]},a)}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),t.next=4,b.a.success(a.data.update_social_media.message,3);case 4:return t.next=6,e.form.resetFields();case 6:return t.next=8,j();case 8:return t.next=10,e.history.push("/admin/social-media");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(qr,{label:"Full Name"},t("name",{rules:[{required:!0,message:"The name is required"}],initialValue:O.oneSocialMedia.name})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(qr,{label:"Link: "},t("link",{rules:[{required:!0,message:"Link is required"}],initialValue:O.oneSocialMedia.link})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(Ze.a,{span:8},l.a.createElement(qr,{label:"Photo"},l.a.createElement(Ua.a.Dragger,x,null===m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+O.oneSocialMedia.logo),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+m),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===m?O.oneSocialMedia.logo:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))))))))),l.a.createElement(Gt,null)))})),Ir=f.a.Item,zr=Qe.a.Content;var Lr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useContext)(Ge),n=Object(D.b)(_t,{variables:{email:a.user.email}}),i=n.loading,c=n.data,o=n.refetch,s=Object(D.a)(de),m=Object(p.a)(s,1)[0],g=Object(r.useState)(!1),h=Object(p.a)(g,2),y=h[0],O=h[1],j=Object(r.useState)(null),w=Object(p.a)(j,2),S=w[0],x=w[1],_={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:S,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(x(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return i?"Loading ...":l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(zr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"User Settings"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){if(!t){var n=a.fullname,r=a.avatar,l=a.oldPassword,i=a.newPassword;m({variables:{email:c.user.email,fullname:n,avatar:r,oldPassword:l,newPassword:i}}).then(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),setTimeout((function(){O(!1)}),3e3),e.form.resetFields(),o(),t.next=6,b.a.success("User updated successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}}))}},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:8},l.a.createElement(Ir,{label:"Photo"},l.a.createElement(Ua.a.Dragger,_,null===S?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+c.user.avatar),alt:"avatar",style:{height:"133.5px",width:"133.5px"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+S),alt:"avatar",style:{height:"133.5px",width:"133.5px"}})),l.a.createElement("div",{style:{display:"none"}},t("avatar",{rules:[{required:!0,message:"Avatar is required"}],initialValue:null===S?c.user.avatar:"/public/uploads/"+S})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement(Ir,{label:"Full Name"},t("fullname",{rules:[{required:!0,message:"FullName is required"}],initialValue:c.user.fullname})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement("div",null,l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!y},y?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),l.a.createElement(Ze.a,{span:16},l.a.createElement(Ir,{label:"Old Password"},t("oldPassword")(l.a.createElement(E.a,{size:"large",type:"password"}))),l.a.createElement(Ir,{label:"New Password"},t("newPassword")(l.a.createElement(E.a,{size:"large",type:"password"}))))))))),l.a.createElement(Gt,null)))})),Ar=f.a.Item;var Fr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,1)[0];return l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){e||j.a.post("https://bot.koompi.com/telegramlogin?phone=".concat(t.phone,"&code=").concat(parseInt(t.code))).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement("h4",null,"Verify Code telegram"),l.a.createElement(Xe.a,{gutter:12},l.a.createElement(Ze.a,{span:18},l.a.createElement(Ar,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),l.a.createElement(Ze.a,{span:6},l.a.createElement(Ar,null,t("code",{rules:[{required:!0,message:"The Code is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Code"})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))})),Vr=a(374),Mr=a.n(Vr),Yr=(a(741),f.a.Item);var Rr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,1)[0];return l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement("h4",null,"Send a telegram"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){console.log(e),e||(console.log(t),j.a.post("https://bot.koompi.com/telegrammsg?phone=".concat(t.phone,"&channel=").concat(t.channel,"&msg=").concat(t.msg)).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})))}))}},l.a.createElement(Xe.a,{gutter:12},l.a.createElement(Ze.a,{span:12},l.a.createElement(Yr,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),l.a.createElement(Ze.a,{span:12},l.a.createElement(Yr,null,t("channel",{rules:[{required:!0,message:"The Channel is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Channel"})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(Yr,null,t("msg",{rules:[{required:!0,message:"The message is required"}]})(l.a.createElement(Mr.a,{rows:5})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))})),Hr=f.a.Item;f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,1)[0];return l.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){e||j.a.post("https://bot.koompi.com/telegramlogout?phone=".concat(t.phone)).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}))}},l.a.createElement("h4",null,"Logout"),l.a.createElement(Xe.a,{gutter:12},l.a.createElement(Ze.a,{span:18},l.a.createElement(Hr,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))}));var Ur=f.a.Item,Br=Qe.a.Content;var Jr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,1)[0],i=Object(r.useState)(""),c=Object(p.a)(i,2),o=c[0],s=c[1];return console.log(o),l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Br,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container",style:{width:"60%"}},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Telegram Bot"),l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement("h4",null,"Login telegram"),l.a.createElement(f.a,{className:"login-form",onSubmit:function(e){e.preventDefault(),j.a.post("https://bot.koompi.com/sendrequest?phone=".concat(o)).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},l.a.createElement(Xe.a,{gutter:24},l.a.createElement(Ze.a,{span:24},l.a.createElement(Ur,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number",onChange:function(e){s(e.target.value)}})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!n},n?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))),l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement(Fr,{phone:o})),l.a.createElement("div",{style:{marginBottom:"24px"}},l.a.createElement(Rr,{phone:o}))))),l.a.createElement(Gt,null)))})),Kr={embed:ua.a,table:pa.a,list:ba.a,warning:Ea.a,code:ya.a,linkTool:Oa.a,image:wa.a,raw:Sa.a,header:_a.a,quote:$a.a,marker:Da.a,checklist:Ta.a,delimiter:Ia.a,inlineCode:La.a,simpleImage:Fa.a};function Gr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gr(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qr=f.a.Item,Xr=Qe.a.Content;var Zr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.a)(Ce),n=Object(p.a)(a,1)[0],i=Object(D.b)(Vt).refetch,c=Object(r.useContext)(Ge),o=Object(r.useState)(!1),s=Object(p.a)(o,2),m=s[0],g=s[1],y=Object(r.useState)(""),O=Object(p.a)(y,1)[0],j=l.a.useRef(null),w=l.a.useCallback(Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,r){t||n({variables:Wr({},r,{description:JSON.stringify(a)})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),setTimeout((function(){g(!1)}),3e3),e.form.resetFields(),t.next=5,b.a.success(a.data.create_legal.message,3);case 5:return t.next=7,i();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]);return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Xr,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Legal"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[16,16]},l.a.createElement(Ze.a,{span:24},l.a.createElement(Qr,null,t("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"}))),l.a.createElement(Qr,{label:"Description: "},t("description",{initialValue:O})(l.a.createElement("div",null,l.a.createElement(sa.a,{instanceRef:function(e){return j.current=e},tools:Kr,placeholder:"Let's write an awesome story!"})))),l.a.createElement(Qr,null,t("created_by",{initialValue:c.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:w},m?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))))),l.a.createElement(Gt,null)))})),el=Qe.a.Content;var tl=f.a.create()((function(){var e=Object(D.a)(ze),t=Object(p.a)(e,1)[0],a=Object(D.b)(Vt).refetch,n=[{title:"Title",dataIndex:"title",onFilter:function(e,t){return 0===t.title.indexOf(e)},sorter:function(e,t){return e.title.length-t.title.length}},{title:"Author",dataIndex:"created_by",sorter:function(e,t){return e.created_by.length-t.created_by.length}},{title:"Date",dataIndex:"created_at"},{title:"Actions",dataIndex:"action"}];return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(el,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Legals"),l.a.createElement((function(){var e=Object(D.b)(Vt),r=e.error,i=e.loading,c=e.data;return r&&console.log(r),i?l.a.createElement(nn.a,{loading:!0}):c?l.a.createElement(nn.a,{columns:n,dataSource:c.legals.map((function(e){return{key:e.id,title:e.title,created_by:e.created_by,created_at:aa.a.unix(e.created_at/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/legal/edit/".concat(e.id)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this legal?",onConfirm:function(n){t({variables:{id:"".concat(e.id)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_legal.message);case 2:return e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))},okText:"Yes",cancelText:"No"},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}}))}):void 0}),null)))),l.a.createElement(Gt,null)))}));function al(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?al(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):al(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rl=f.a.Item,ll=Qe.a.Content;var il=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useContext)(Ge),n=Object(D.b)(Vt).refetch,i=Object(D.b)(Mt,{variables:{id:window.location.pathname.split("/")[4]}}),c=i.error,o=i.loading,s=i.data,m=Object(r.useState)(!1),g=Object(p.a)(m,2),y=g[0],O=g[1],j=l.a.useRef(null),w=l.a.useCallback(Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,r){t||x({variables:nl({id:window.location.pathname.split("/")[4]},r,{description:JSON.stringify(a)})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),setTimeout((function(){O(!1)}),3e3),t.next=4,b.a.success(a.data.edit_legal.message,3);case 4:return t.next=6,n();case 6:return t.next=8,e.history.push("/admin/all-legals");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),S=Object(D.a)(Ie),x=Object(p.a)(S,1)[0];return c&&console.log(c),o?"Loading ...":l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(ll,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Legal"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[16,16]},l.a.createElement(Ze.a,{span:24},l.a.createElement(rl,null,t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:s.legal.title})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"}))),l.a.createElement(rl,{label:"Description: "},l.a.createElement(sa.a,{instanceRef:function(e){return j.current=e},tools:Kr,data:o?"Loading ...":JSON.parse(s.legal.description)})),l.a.createElement(rl,null,t("created_by",{initialValue:a.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(l.a.createElement(E.a,{prefix:l.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),l.a.createElement(Ze.a,{span:24},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:w},y?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))))))),l.a.createElement(Gt,null)))})),cl=Qe.a.Content;nn.a.Column,nn.a.ColumnGroup;function ol(e){return"$"+e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var sl=function(){var e=l.a.useState(null),t=Object(p.a)(e,2),a=(t[0],t[1]),n=Object(D.a)(Ve),i=Object(p.a)(n,1)[0],c=Object(D.b)(Yt).refetch,o=Object(r.useState)({visible:!1}),s=Object(p.a)(o,2),m=(s[0],s[1],[{title:"User Info",children:[{title:"Full Name",render:function(e){var t=e.firstname,a=e.lastname;return"".concat(t," ").concat(a)}},{title:"Email",dataIndex:"email"},{title:"Phone",dataIndex:"phone"}]},{title:"Product",children:[{title:"Items",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,e.name)}))}},{title:"Qty",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,e.qty)}))}},{title:"Price",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,ol(e.price))}))}},{title:"Total",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,ol(e.price*e.qty))}))}},{title:"Deposit",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,ol(e.deposit))}))}},{title:"Total Deposit",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,ol(e.deposit*e.qty))}))}},{title:"Remain",render:function(e){return JSON.parse(e.products).map((function(e){return l.a.createElement("div",null,l.a.createElement(en.a,{color:"red"},ol(e.price*e.qty-e.deposit*e.qty)))}))}}]},{title:"Purchase At",dataIndex:"created_at",render:function(e){return aa.a.unix(e/1e3).format("YYYY-MM-DD")}},{title:"Action",render:function(e){return l.a.createElement(r.Fragment,null,l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this payment?",okText:"Yes",cancelText:"No",onConfirm:function(){i({variables:{id:"".concat(e.id)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_customer.message);case 2:return e.next=4,c();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"red",style:{cursor:"pointer"}},"Delete")))}}]);return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(cl,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Payments"),l.a.createElement((function(){var e=Object(D.b)(Yt),t=e.error,a=e.loading,n=e.data;return t&&console.log(t),a?l.a.createElement(nn.a,{loading:!0}):n?l.a.createElement("div",null,l.a.createElement(nn.a,{bordered:!0,columns:m,dataSource:n.customers,pagination:{pageSize:20}})):null}),null),l.a.createElement((function(){var e=Object(D.b)(Ut,{variables:{id:"5eb3ab2d16100b46720b3a45"}}),t=e.error,n=e.loading,r=e.data;return t&&console.log(t),n?"loading ...":r?(a(r),null):null}),null)))),l.a.createElement(Gt,null)))},ml={embed:ua.a,table:pa.a,list:ba.a,warning:Ea.a,code:ya.a,linkTool:Oa.a,image:wa.a,raw:Sa.a,header:_a.a,quote:$a.a,marker:Da.a,checklist:Ta.a,delimiter:Ia.a,inlineCode:La.a,simpleImage:Fa.a};function ul(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ul(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ul(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pl=f.a.Item,gl=Qe.a.Content;var bl=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(r.useState)(!1),n=Object(p.a)(a,2),i=n[0],c=n[1],o=Object(r.useState)(""),s=Object(p.a)(o,2),m=s[0],g=s[1],h=Object(r.useState)(""),y=Object(p.a)(h,2),O=y[0],j=y[1],w=Object(r.useContext)(Ge),S=Object(D.b)(Rt).refetch,x=Object(D.a)(Le),_=Object(p.a)(x,1)[0],N={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:O,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(j(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}},$={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:O,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," logo uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," logo upload failed."))}},P=l.a.useRef(null),q=l.a.useCallback(Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||_({variables:dl({},n,{description:JSON.stringify(a)})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),S(),e.form.resetFields(),t.next=6,b.a.success(a.data.create_software.message,3);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]);return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(gl,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Add Software"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(pl,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}]})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(pl,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:w.user.fullname})(l.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),l.a.createElement(pl,{label:"Description: "},l.a.createElement(sa.a,{instanceRef:function(e){return P.current=e},tools:ml,placeholder:"Let's write an awesome story!"}))),l.a.createElement(Ze.a,{span:8},l.a.createElement(pl,{label:"Logo"},l.a.createElement(Ua.a.Dragger,$,m?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(m)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:"/public/uploads/"+m})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement(pl,{label:"Image"},l.a.createElement(Ua.a.Dragger,N,O?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+"".concat(O)),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),l.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Image is required"}],initialValue:"/public/uploads/"+O})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i,onClick:q},i?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))))),l.a.createElement(Gt,null)))})),fl=Qe.a.Content;var El=function(){var e=Object(D.a)(Fe),t=Object(p.a)(e,1)[0],a=Object(D.b)(Rt).refetch,n=[{title:"Logo",dataIndex:"logo"},{title:"Image",dataIndex:"image"},{title:"Title",dataIndex:"title",key:"title"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}];return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(fl,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"All softwares"),l.a.createElement((function(){var e=Object(D.b)(Rt),r=e.error,i=e.loading,c=e.data;if(r&&console.log(r),i)return l.a.createElement(nn.a,{loading:!0});if(c){return l.a.createElement("div",null,l.a.createElement((function(){return l.a.createElement(nn.a,{columns:n,dataSource:c.softwares.map((function(e){var n=e.id,r=e.title,i=e.created_at,c=e.user;return{key:n,logo:l.a.createElement("img",{src:"https://admin-demo.koompi.com"+e.logo,alt:"software",height:"50px",width:"50px"}),image:l.a.createElement("img",{src:"https://admin-demo.koompi.com"+e.image,alt:"software",height:"50px",width:"50px",style:{borderRadius:"50%"}}),title:r.length<=25?r:r.substring(0,25)+" ...",created_by:null===c?"Null":c.fullname,created_at:aa.a.unix(i/1e3).format("YYYY-MM-DD"),action:l.a.createElement("div",null,l.a.createElement(o.b,{to:"/admin/software/edit/".concat(n)},l.a.createElement(en.a,{className:"btn",color:"#2db7f5"},"Edit")),l.a.createElement(tn.a,{type:"vertical"}),l.a.createElement(an.a,{placement:"topRight",title:"Are you sure to delete this software?",okText:"Yes",cancelText:"No",onConfirm:function(){t({variables:{id:"".concat(n)}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.success(t.data.delete_software.message);case 2:return e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),null}))}},l.a.createElement(en.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!0})}),null))}}),null)))),l.a.createElement(Gt,null)))};function hl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hl(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vl=f.a.Item,Ol=Qe.a.Content;var jl=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.b)(Ht,{variables:{id:window.location.pathname.split("/")[4]}}),n=a.loading,i=a.data,c=Object(r.useState)(!1),o=Object(p.a)(c,2),s=o[0],m=o[1],g=Object(r.useState)(null),h=Object(p.a)(g,2),y=h[0],O=h[1],j=Object(r.useState)(null),w=Object(p.a)(j,2),S=w[0],x=w[1],_=Object(r.useContext)(Ge),N=l.a.useRef(null),$=Object(D.b)(Rt).refetch,P=Object(D.a)(Ae),q=Object(p.a)(P,1)[0],T=l.a.useCallback(Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){console.log(Ma()(n.title,{lower:!0})),t||q({variables:yl({id:window.location.pathname.split("/")[4]},n,{slug:Ma()(n.title,{lower:!0}),description:JSON.stringify(a)})}).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),setTimeout((function(){m(!1)}),3e3),t.next=4,b.a.success(a.data.edit_software.message,3);case 4:return t.next=6,$();case 6:return t.next=8,e.history.push("/admin/all-softwares");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),C={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:S,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(x(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}},I={name:"file",multiple:!1,action:"https://admin-demo.koompi.com/upload/image",defaultFileList:S,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(O(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," logo uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," logo upload failed."))}};return n?"Loading...":(console.log("Result",i.software.description),l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(Jt,null),l.a.createElement(Ol,{style:{margin:"20px 16px"}},l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Update Software"),l.a.createElement(f.a,{className:"login-form"},l.a.createElement(Xe.a,{gutter:[24,8]},l.a.createElement(Ze.a,{span:16},l.a.createElement(vl,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:i.software.title})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(vl,{label:"Updated By: ",style:{display:"none"}},t("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:_.user.fullname})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(vl,{label:"update at: ",style:{display:"none"}},t("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(l.a.createElement(E.a,{size:"large"}))),l.a.createElement(vl,{label:"Description: "},l.a.createElement(sa.a,{instanceRef:function(e){return N.current=e},tools:ml,data:n?"Loading ...":JSON.parse(i.software.description)}))),l.a.createElement(Ze.a,{span:8},l.a.createElement(vl,{label:"Logo"},l.a.createElement(Ua.a.Dragger,I,null===y?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+i.software.logo),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+y),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===y?i.software.logo:"/public/uploads/"+y})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement(vl,{label:"Image"},l.a.createElement(Ua.a.Dragger,C,null===S?l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com"+i.software.image),alt:"avatar",style:{width:"100%"}}):l.a.createElement("img",{src:"".concat("https://admin-demo.koompi.com/public/uploads/"+S),alt:"avatar",style:{width:"100%"}})),l.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Image is required"}],initialValue:null===S?i.software.image:"/public/uploads/"+S})(l.a.createElement(E.a,{size:"large"})))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:T},s?l.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update")))))))),l.a.createElement(Gt,null))))})),wl=Qe.a.Content;var kl=function(){return l.a.createElement(Qe.a,{style:{minHeight:"100vh"}},l.a.createElement(rt,null),l.a.createElement(Qe.a,null,l.a.createElement(wl,null,l.a.createElement(Jt,null),l.a.createElement("div",{className:"koompi container"},l.a.createElement("div",{className:"background_container"},l.a.createElement("h1",{className:"title_new_post"},"Pre-Order")))),l.a.createElement(Gt,null)))};var Sl=function(){return l.a.createElement(We,null,l.a.createElement(o.a,null,l.a.createElement(s.d,null,l.a.createElement(Ke,{restricted:!0,exact:!0,path:"/login",component:P}),l.a.createElement(Ke,{exact:!0,path:"/",restricted:!0,component:P}),l.a.createElement(Ke,{exact:!0,path:"/logout",component:wn}),l.a.createElement(Ke,{exact:!0,path:"/register",component:Me}),l.a.createElement(Je,{exact:!0,path:"/admin/dashboard",component:ra}),l.a.createElement(Je,{exact:!0,path:"/admin/users",component:jn}),l.a.createElement(Je,{exact:!0,path:"/admin/user/settings",component:Lr}),l.a.createElement(Je,{exact:!0,path:"/admin/new-post",component:Za}),l.a.createElement(Je,{exact:!0,path:"/admin/all-posts",component:ln}),l.a.createElement(Je,{exact:!0,path:"/admin/post/edit/:id",component:Mn}),l.a.createElement(Je,{exact:!0,path:"/admin/add-software",component:bl}),l.a.createElement(Je,{exact:!0,path:"/admin/all-softwares",component:El}),l.a.createElement(Je,{exact:!0,path:"/admin/software/edit/:id",component:jl}),l.a.createElement(Je,{exact:!0,path:"/admin/new-page",component:bn}),l.a.createElement(Je,{exact:!0,path:"/admin/all-pages",component:vn}),l.a.createElement(Je,{exact:!0,path:"/admin/page/edit/:id",component:Gn}),l.a.createElement(Je,{exact:!0,path:"/admin/categories",component:Nn}),l.a.createElement(Je,{exact:!0,path:"/admin/category/edit/:id",component:Tn}),l.a.createElement(Je,{exact:!0,path:"/admin/new-member",component:tr}),l.a.createElement(Je,{exact:!0,path:"/admin/members",component:rr}),l.a.createElement(Je,{exact:!0,path:"/admin/member/edit/:id",component:mr}),l.a.createElement(Je,{exact:!0,path:"/admin/new-retailer",component:br}),l.a.createElement(Je,{exact:!0,path:"/admin/retailers",component:Er}),l.a.createElement(Je,{exact:!0,path:"/admin/retailer/edit/:id",component:jr}),l.a.createElement(Je,{exact:!0,path:"/admin/add-social-media",component:_r}),l.a.createElement(Je,{exact:!0,path:"/admin/social-media",component:$r}),l.a.createElement(Je,{exact:!0,path:"/admin/social-media/edit/:id",component:Cr}),l.a.createElement(Je,{exact:!0,path:"/admin/user/payments",component:sl}),l.a.createElement(Je,{exact:!0,path:"/admin/user/pre-order",component:kl}),l.a.createElement(Je,{exact:!0,path:"/admin/telegram-bot",component:Jr}),l.a.createElement(Je,{exact:!0,path:"/admin/new-legal",component:Zr}),l.a.createElement(Je,{exact:!0,path:"/admin/all-legals",component:tl}),l.a.createElement(Je,{exact:!0,path:"/admin/legal/edit/:id",component:il}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xl=a(45),_l=a(104),Nl=a(377),$l=a(375),Pl=a(376);function Dl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ql(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dl(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tl=Object(Nl.a)({uri:"https://admin-demo.koompi.com"}),Cl=Object($l.a)((function(e,t){var a=t.headers,n=x.a.get("token");return{headers:ql({},a,{authorization:n||""})}})),Il=new _l.a({link:Cl.concat(Tl),cache:new Pl.a});c.a.render(l.a.createElement(xl.a,{client:Il},l.a.createElement(Sl,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[380,1,2]]]);
//# sourceMappingURL=main.18183854.chunk.js.map