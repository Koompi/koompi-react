(this.webpackJsonpvuthy_dashboard=this.webpackJsonpvuthy_dashboard||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/three-dots-black.9f3b0075.svg"},20:function(e,t,a){e.exports=a.p+"static/media/three-dots.7627bc82.svg"},371:function(e,t,a){e.exports=a(743)},376:function(e,t,a){},378:function(e,t,a){},521:function(e,t){},523:function(e,t){},560:function(e,t){},561:function(e,t){},743:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),i=a.n(l),c=(a(376),a(377),a(378),a(19)),o=a(104),s=a(8),m=a.n(s),u=a(15),d=a(28),p=a(4),g=a(745),b=a(746),f=a(755),E=a(756),y=a(9),h=a(127),v=a(51),O=a(84),w=a.n(O),j=a(20),k=a.n(j),S=a(73),_=a.n(S),x=a(172),N=a.n(x);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var P=f.a.create()((function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),l=a[0],i=a[1],o=e.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(N.a,{className:"loginBackground",params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),r.a.createElement("div",{className:"loginContainer"},r.a.createElement("h1",{className:"loginTitle"},"Login"),r.a.createElement(f.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){e?console.log(e):(console.log(t.remember),w.a.post("https://admin.koompi.com/login",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t)).then(function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),setTimeout((function(){i(!1)}),3e3),_.a.set("token",a.data.token,t.remember?{expires:7}:null),e.next=5,b.a.success("Login successfully.",3);case 5:window.location.replace("/admin/dashboard");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t;i(!0),setTimeout((function(){i(!1)}),3e3),"You don't have a permission to access it"===e.response.data.message?(t="info",g.a[t]({message:"Hello there!",description:"You don't permission to access it yet. Please ask the admin to approve your user.",closeIcon:!0,duration:10})):b.a.error(e.response.data.message,10)})))}))},className:"login-form"},r.a.createElement(f.a.Item,null,o("email",{rules:[{required:!0,message:"Please input your Email!"}]})(r.a.createElement(E.a,{size:"large",prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(f.a.Item,null,o("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(E.a,{size:"large",prefix:r.a.createElement(y.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(f.a.Item,null,o("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(h.a,null,"Remember me")),r.a.createElement("br",null),r.a.createElement(v.a,{size:"small",type:"primary",htmlType:"submit",className:"login-form-button",disabled:!!l},l?r.a.createElement("img",{src:k.a,alt:"koompi-steam-loading",height:"10"}):"Login"),r.a.createElement("br",null),"Or ",r.a.createElement(c.b,{to:"/register"},"register now!")))))})),D=a(5),q=a(17),T=a(16),I=a.n(T);function C(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_software(id: $id) {\n      title\n    }\n  }\n"]);return C=function(){return e},e}function z(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $description: String!\n    $logo: String!\n    $image: String!\n  ) {\n    edit_software(\n      id: $id\n      title: $title\n      description: $description\n      logo: $logo\n      image: $image\n    ) {\n      title\n      description\n      logo\n      image\n    }\n  }\n"]);return z=function(){return e},e}function L(){var e=Object(q.a)(["\n  mutation(\n    $title: String!\n    $description: String!\n    $logo: String!\n    $image: String!\n    $created_by: String!\n  ) {\n    create_software(\n      title: $title\n      description: $description\n      logo: $logo\n      image: $image\n      created_by: $created_by\n    ) {\n      title\n      description\n      logo\n      image\n    }\n  }\n"]);return L=function(){return e},e}function A(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_legal(id: $id) {\n      title\n    }\n  }\n"]);return A=function(){return e},e}function F(){var e=Object(q.a)(["\n  mutation($id: String!, $title: String!, $description: String!) {\n    edit_legal(id: $id, title: $title, description: $description) {\n      title\n      description\n    }\n  }\n"]);return F=function(){return e},e}function V(){var e=Object(q.a)(["\n  mutation($title: String!, $description: String!, $created_by: String!) {\n    create_legal(title: $title, description: $description, created_by: $created_by) {\n      title\n      description\n    }\n  }\n"]);return V=function(){return e},e}function M(){var e=Object(q.a)(["\n  mutation($id: String!, $name: String!, $link: String!, $logo: String!) {\n    update_social_media(id: $id, name: $name, link: $link, logo: $logo) {\n      name\n      link\n      logo\n      created_by\n    }\n  }\n"]);return M=function(){return e},e}function Y(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_social_media(id: $id) {\n      name\n    }\n  }\n"]);return Y=function(){return e},e}function R(){var e=Object(q.a)(["\n  mutation($name: String!, $link: String!, $logo: String!, $created_by: String!) {\n    add_social_media(\n      name: $name\n      link: $link\n      logo: $logo\n      created_by: $created_by\n    ) {\n      name\n      link\n      logo\n      created_by\n    }\n  }\n"]);return R=function(){return e},e}function H(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $name: String!\n    $location: String!\n    $logo: String!\n    $phoneNumber: String\n    $email: String\n  ) {\n    update_retailer(\n      id: $id\n      name: $name\n      location: $location\n      logo: $logo\n      phoneNumber: $phoneNumber\n      email: $email\n    ) {\n      name\n      location\n      logo\n      phoneNumber\n      email\n      created_by\n    }\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_retailer(id: $id) {\n      name\n    }\n  }\n"]);return U=function(){return e},e}function B(){var e=Object(q.a)(["\n  mutation(\n    $name: String!\n    $location: String!\n    $logo: String!\n    $phoneNumber: String\n    $email: String\n    $created_by: String!\n  ) {\n    add_retailer(\n      name: $name\n      location: $location\n      logo: $logo\n      phoneNumber: $phoneNumber\n      email: $email\n      created_by: $created_by\n    ) {\n      name\n      location\n      logo\n      phoneNumber\n      email\n      created_by\n    }\n  }\n"]);return B=function(){return e},e}function J(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $fullname: String!\n    $department: String!\n    $position: String!\n    $phoneNumber: String!\n    $email: String\n    $photo: String!\n    $created_by: String!\n  ) {\n    update_member(\n      id: $id\n      fullname: $fullname\n      department: $department\n      position: $position\n      phoneNumber: $phoneNumber\n      email: $email\n      photo: $photo\n      created_by: $created_by\n    ) {\n      fullname\n      department\n      position\n    }\n  }\n"]);return J=function(){return e},e}function K(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_member(id: $id) {\n      fullname\n    }\n  }\n"]);return K=function(){return e},e}function W(){var e=Object(q.a)(["\n  mutation(\n    $fullname: String!\n    $department: String!\n    $position: String!\n    $phoneNumber: String!\n    $email: String\n    $photo: String!\n    $created_by: String!\n  ) {\n    add_member(\n      fullname: $fullname\n      department: $department\n      position: $position\n      phoneNumber: $phoneNumber\n      email: $email\n      photo: $photo\n      created_by: $created_by\n    ) {\n      fullname\n      department\n      position\n      phoneNumber\n      email\n      photo\n      created_by\n    }\n  }\n"]);return W=function(){return e},e}function Q(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $subTitle: String\n    $description: String!\n    $image: String\n    $category: String!\n    $sectionNumber: String!\n    $keywords: [String]!\n    $meta_desc: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_page(\n      id: $id\n      title: $title\n      subTitle: $subTitle\n      description: $description\n      image: $image\n      category: $category\n      sectionNumber: $sectionNumber\n      keywords: $keywords\n      meta_desc: $meta_desc\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      id\n      title\n      created_at\n    }\n  }\n"]);return Q=function(){return e},e}function G(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_page(id: $id) {\n      title\n    }\n  }\n"]);return G=function(){return e},e}function X(){var e=Object(q.a)(["\n  mutation(\n    $title: String!\n    $subTitle: String\n    $created_by: String!\n    $description: String!\n    $image: String\n    $category: String!\n    $sectionNumber: String!\n    $keywords: [String]!\n    $meta_desc: String!\n  ) {\n    create_page(\n      title: $title\n      subTitle: $subTitle\n      created_by: $created_by\n      description: $description\n      sectionNumber: $sectionNumber\n      image: $image\n      category: $category\n      keywords: $keywords\n      meta_desc: $meta_desc\n    ) {\n      id\n      title\n      created_by\n      created_at\n    }\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $slug: String!\n    $title: String!\n    $category: String!\n    $description: String!\n    $thumnail: String\n    $tags: [String]!\n    $keywords: [String]!\n    $meta_desc: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_post(\n      id: $id\n      title: $title\n      slug: $slug\n      category: $category\n      description: $description\n      thumnail: $thumnail\n      tags: $tags\n      keywords: $keywords\n      meta_desc: $meta_desc\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      id\n      title\n      slug\n      created_by\n      created_at\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_post(id: $id) {\n      title\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(q.a)(["\n  mutation(\n    $title: String!\n    $slug: String!\n    $category: String!\n    $created_by: String!\n    $description: String!\n    $thumnail: String\n    $tags: [String]!\n    $keywords: [String]!\n    $meta_desc: String!\n  ) {\n    create_post(\n      title: $title\n      slug: $slug\n      category: $category\n      created_by: $created_by\n      description: $description\n      thumnail: $thumnail\n      tags: $tags\n      keywords: $keywords\n      meta_desc: $meta_desc\n    ) {\n      id\n      title\n      slug\n      created_by\n      created_at\n    }\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(q.a)(["\n  mutation(\n    $id: String!\n    $title: String!\n    $slug: String!\n    $updated_by: String!\n    $updated_at: String!\n  ) {\n    update_category(\n      id: $id\n      title: $title\n      slug: $slug\n      updated_by: $updated_by\n      updated_at: $updated_at\n    ) {\n      id\n      title\n      slug\n    }\n  }\n"]);return ae=function(){return e},e}function ne(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_category(id: $id) {\n      title\n    }\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(q.a)(["\n  mutation($title: String!, $slug: String!, $created_by: String!) {\n    create_category(title: $title, slug: $slug, created_by: $created_by) {\n      id\n      title\n      slug\n      created_by\n      created_at\n    }\n  }\n"]);return re=function(){return e},e}function le(){var e=Object(q.a)(["\n  mutation($id: String!) {\n    delete_user(id: $id) {\n      fullname\n    }\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(q.a)(["\n  mutation($id: String!, $isAdmin: Boolean!) {\n    isAdmin(id: $id, isAdmin: $isAdmin) {\n      fullname\n      email\n      isAdmin\n    }\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(q.a)(["\n  mutation($id: String!, $approve: Boolean!) {\n    approve_user(id: $id, approve: $approve) {\n      fullname\n      email\n      approved\n    }\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(q.a)(["\n  mutation(\n    $fullname: String!\n    $email: String!\n    $avatar: String!\n    $oldPassword: String\n    $newPassword: String\n  ) {\n    update_user(\n      fullname: $fullname\n      email: $email\n      avatar: $avatar\n      oldPassword: $oldPassword\n      newPassword: $newPassword\n    ) {\n      fullname\n      email\n    }\n  }\n"]);return oe=function(){return e},e}function se(){var e=Object(q.a)(["\n  mutation($fullname: String!, $email: String!, $password: String!) {\n    create_user(fullname: $fullname, email: $email, password: $password) {\n      fullname\n      email\n      password\n    }\n  }\n"]);return se=function(){return e},e}var me=I()(se()),ue=I()(oe()),de=I()(ce()),pe=I()(ie()),ge=I()(le()),be=I()(re()),fe=I()(ne()),Ee=I()(ae()),ye=I()(te()),he=I()(ee()),ve=I()(Z()),Oe=I()(X()),we=I()(G()),je=I()(Q()),ke=I()(W()),Se=I()(K()),_e=I()(J()),xe=I()(B()),Ne=I()(U()),$e=I()(H()),Pe=I()(R()),De=I()(Y()),qe=I()(M()),Te=I()(V()),Ie=I()(F()),Ce=I()(A()),ze=I()(L()),Le=I()(z()),Ae=I()(C());var Fe=f.a.create()((function(e){var t=Object(D.a)(me),a=Object(p.a)(t,1)[0],l=Object(n.useState)(!1),i=Object(p.a)(l,2),o=i[0],s=i[1],d=e.form.getFieldDecorator;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"loginBackground",params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),r.a.createElement("div",{className:"loginContainer"},r.a.createElement("h1",{className:"loginTitle"},"Register"),r.a.createElement(f.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var e=Object(u.a)(m.a.mark((function e(t,n){var r,l,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return r=n.fullname,l=n.email,i=n.password,e.next=4,a({variables:{fullname:r,email:l,password:i}}).then(Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,b.a.success("Register Successfully.",3);case 3:return e.next=5,window.location.replace("/login");case 5:case"end":return e.stop()}}),e)})))).catch((function(e){s(!0),setTimeout((function(){s(!1)}),3e3);var t=JSON.parse(JSON.stringify(e));b.a.error(t.graphQLErrors[0].message)}));case 4:e.next=7;break;case 6:console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},className:"login-form"},r.a.createElement(f.a.Item,null,d("fullname",{rules:[{required:!0,message:"Please input your Full Name!"}]})(r.a.createElement(E.a,{size:"large",prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Full Name"}))),r.a.createElement(f.a.Item,null,d("email",{rules:[{required:!0,message:"Please input your Email!"}]})(r.a.createElement(E.a,{size:"large",prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(f.a.Item,null,d("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(E.a,{size:"large",prefix:r.a.createElement(y.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(f.a.Item,null,r.a.createElement(v.a,{size:"small",type:"primary",htmlType:"submit",className:"login-form-button",disabled:!!o},o?r.a.createElement("img",{src:k.a,alt:"koompi-steam-loading",height:"10"}):"Sign Up"),r.a.createElement("br",null),"Have an account? ",r.a.createElement(c.b,{to:"/login"},"Login")))))})),Ve=a(182),Me=a(126),Ye=a.n(Me),Re=_.a.get("token"),He=Ye.a.decode(Re),Ue=function(e){var t=e.component,a=Object(Ve.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return He?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))},Be=function(e){var t=e.component,a=e.restricted,n=Object(Ve.a)(e,["component","restricted"]),l=_.a.get("token"),i=Ye.a.decode(l);return r.a.createElement(o.b,Object.assign({},n,{render:function(e){return i&&a?r.a.createElement(o.a,{to:"/admin/dashboard"}):r.a.createElement(t,e)}}))},Je=a(747),Ke=a(749),We=a(750),Qe=a(241),Ge=Object(n.createContext)(),Xe=function(e){var t=Object(n.useState)({fullname:"",email:"",avatar:""}),a=Object(p.a)(t,2),l=a[0],i=a[1];return Object(n.useEffect)((function(){var e=_.a.get("token"),t=Ye.a.decode(e);i(t)}),[]),r.a.createElement(Ge.Provider,{value:{user:l}},e.children)},Ze=a(58),et=Je.a.Sider,tt=Qe.a.SubMenu;var at=function(){var e=Object(n.useContext)(Ge),t=Object(n.useState)(!0),a=Object(p.a)(t,2),l=a[0],i=a[1],o=window.location.pathname,s=e.user,m=s.fullname,u=s.isAdmin;if(""===m)return null;var d=JSON.parse(localStorage.getItem("isLight"));return r.a.createElement(et,{style:d?{backgroundColor:"rgb(30, 39, 46)"}:{backgroundColor:"#fff"}},r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("img",{src:d?"/images/KOOMPI_Logo.svg":"/images/KOOMPI_Logo_dark.svg",alt:"",className:"KOOMPI_LOGO"})),r.a.createElement("div",{className:"themeChange",onClick:function(){i(!l),localStorage.setItem("isLight",!l)}},d?r.a.createElement("img",{src:"/images/day.svg",alt:"koompi day",height:"25px"}):r.a.createElement("img",{src:"/images/night.svg",alt:"koompi night",height:"25px"}))),r.a.createElement(Qe.a,{theme:d?"dark":"light",defaultSelectedKeys:[o],defaultOpenKeys:[o],mode:"inline"},r.a.createElement(Qe.a.Item,{key:"/admin/dashboard"},r.a.createElement(c.b,{to:"/admin/dashboard",className:"nav-text"},r.a.createElement(Ze.a,null),r.a.createElement("span",null,"Dashboard"))),r.a.createElement(tt,{key:"/admin/new-post"===o?"/admin/new-post":"/admin/all-posts",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.d,null),r.a.createElement("span",null,"Posts"))},r.a.createElement(Qe.a.Item,{key:"/admin/new-post"},r.a.createElement(c.b,{to:"/admin/new-post"},"New Post")),r.a.createElement(Qe.a.Item,{key:"/admin/all-posts"},r.a.createElement(c.b,{to:"/admin/all-posts"},"All Posts"))),r.a.createElement(tt,{key:"/admin/new-page"===o?"/admin/new-page":"/admin/all-pages",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.c,null),r.a.createElement("span",null,"Pages"))},r.a.createElement(Qe.a.Item,{key:"/admin/new-page"},r.a.createElement(c.b,{to:"/admin/new-page"},"New Page")),r.a.createElement(Qe.a.Item,{key:"/admin/all-pages"},r.a.createElement(c.b,{to:"/admin/all-pages"},"All Pages"))),r.a.createElement(tt,{key:"/admin/add-software"===o?"/admin/add-software":"/admin/all-softwares",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.e,null),r.a.createElement("span",null,"Softwares"))},r.a.createElement(Qe.a.Item,{key:"/admin/add-software"},r.a.createElement(c.b,{to:"/admin/add-software"},"Add Software")),r.a.createElement(Qe.a.Item,{key:"/admin/all-softwares"},r.a.createElement(c.b,{to:"/admin/all-softwares"},"All Software"))),r.a.createElement(Qe.a.Item,{key:"/admin/categories"},r.a.createElement(c.b,{to:"/admin/categories",className:"nav-text"},r.a.createElement(Ze.f,null),r.a.createElement("span",null,"Categories"))),r.a.createElement(tt,{key:"/admin/new-member"===o?"/admin/new-member":"/admin/members",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.l,null),r.a.createElement("span",null,"Members"))},r.a.createElement(Qe.a.Item,{key:"/admin/new-member"},r.a.createElement(c.b,{to:"/admin/new-member"},"New Member")),r.a.createElement(Qe.a.Item,{key:"/admin/members"},r.a.createElement(c.b,{to:"/admin/members"},"All Members"))),r.a.createElement(tt,{key:"/admin/new-retailer"===o?"/admin/new-retailer":"/admin/retailers",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.g,null),r.a.createElement("span",null,"Retailers"))},r.a.createElement(Qe.a.Item,{key:"/admin/new-retailer"},r.a.createElement(c.b,{to:"/admin/new-retailer"},"New Retailer")),r.a.createElement(Qe.a.Item,{key:"/admin/retailers"},r.a.createElement(c.b,{to:"/admin/retailers"},"All Retailers"))),r.a.createElement(tt,{key:"/admin/add-social-media"===o?"/admin/add-social-media":"/admin/social-media",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.i,null),r.a.createElement("span",null,"Socail media"))},r.a.createElement(Qe.a.Item,{key:"/admin/add-social-media"},r.a.createElement(c.b,{to:"/admin/add-social-media"},"Add Social Media")),r.a.createElement(Qe.a.Item,{key:"/admin/social-media"},r.a.createElement(c.b,{to:"/admin/social-media"},"Social Media"))),u&&r.a.createElement(Qe.a.Item,{key:"/admin/user/payments"},r.a.createElement(c.b,{to:"/admin/user/payments",className:"nav-text"},r.a.createElement(Ze.b,null),r.a.createElement("span",null,"User Payment"))),u&&r.a.createElement(Qe.a.Item,{key:"/admin/telegram-bot"},r.a.createElement(c.b,{to:"/admin/telegram-bot",className:"nav-text"},r.a.createElement(Ze.h,null),r.a.createElement("span",null,"Telegram"))),u&&r.a.createElement(tt,{key:"/admin/new-legal"===o?"/admin/new-legal":"/admin/all-legals",title:r.a.createElement("div",{className:"nav-text"},r.a.createElement(Ze.k,null),r.a.createElement("span",null,"Legals"))},r.a.createElement(Qe.a.Item,{key:"/admin/new-legal"},r.a.createElement(c.b,{to:"/admin/new-legal"},"New Legal")),r.a.createElement(Qe.a.Item,{key:"/admin/all-legals"},r.a.createElement(c.b,{to:"/admin/all-legals"},"All Legals"))),r.a.createElement(Qe.a.Item,{key:"/admin/users"},r.a.createElement(c.b,{to:"/admin/users",className:"nav-text"},r.a.createElement(Ze.j,null),r.a.createElement("span",null,"Users")))))},nt=a(748);function rt(){var e=Object(q.a)(["\n  query($id: String!) {\n    software(id: $id) {\n      id\n      title\n      description\n      logo\n      image\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return rt=function(){return e},e}function lt(){var e=Object(q.a)(["\n  query {\n    softwares {\n      id\n      title\n      description\n      logo\n      image\n      created_at\n      user {\n        fullname\n      }\n    }\n  }\n"]);return lt=function(){return e},e}function it(){var e=Object(q.a)(["\n  query {\n    payments {\n      fname\n      lname\n      email\n      phoneNumber\n      message\n      product\n      cancle\n      price\n      created_at\n    }\n  }\n"]);return it=function(){return e},e}function ct(){var e=Object(q.a)(["\n  query($id: String!) {\n    legal(id: $id) {\n      id\n      title\n      description\n      created_by\n      created_at\n    }\n  }\n"]);return ct=function(){return e},e}function ot(){var e=Object(q.a)(["\n  query {\n    legals {\n      id\n      title\n      description\n      created_by\n      created_at\n    }\n  }\n"]);return ot=function(){return e},e}function st(){var e=Object(q.a)(["\n  query($id: String!) {\n    oneSocialMedia(id: $id) {\n      id\n      name\n      logo\n      link\n      created_by\n      created_at\n    }\n  }\n"]);return st=function(){return e},e}function mt(){var e=Object(q.a)(["\n  query {\n    socialMedia {\n      id\n      name\n      logo\n      link\n      created_by\n      created_at\n    }\n  }\n"]);return mt=function(){return e},e}function ut(){var e=Object(q.a)(["\n  query($id: String!) {\n    retailer(id: $id) {\n      name\n      id\n      email\n      logo\n      location\n      created_by\n      phoneNumber\n      created_at\n    }\n  }\n"]);return ut=function(){return e},e}function dt(){var e=Object(q.a)(["\n  query {\n    retailers {\n      name\n      id\n      email\n      logo\n      location\n      created_by\n      phoneNumber\n      created_at\n    }\n  }\n"]);return dt=function(){return e},e}function pt(){var e=Object(q.a)(["\n  query($id: String!) {\n    member(id: $id) {\n      id\n      fullname\n      phoneNumber\n      email\n      created_by\n      position\n      photo\n      department\n      created_at\n    }\n  }\n"]);return pt=function(){return e},e}function gt(){var e=Object(q.a)(["\n  query {\n    members {\n      id\n      fullname\n      phoneNumber\n      email\n      created_by\n      position\n      photo\n      department\n      created_at\n    }\n  }\n"]);return gt=function(){return e},e}function bt(){var e=Object(q.a)(["\n  query($id: String!) {\n    page(id: $id) {\n      id\n      title\n      subTitle\n      category {\n        title\n        slug\n      }\n      sectionNumber\n      created_by\n      description\n      meta_desc\n      keywords\n      image\n      updated_at\n      updated_by\n      created_at\n    }\n  }\n"]);return bt=function(){return e},e}function ft(){var e=Object(q.a)(["\n  query {\n    pages {\n      id\n      title\n      subTitle\n      category {\n        title\n      }\n      sectionNumber\n      created_by\n      description\n      meta_desc\n      keywords\n      image\n      updated_at\n      updated_by\n      created_at\n    }\n  }\n"]);return ft=function(){return e},e}function Et(){var e=Object(q.a)(["\n  query($id: String!) {\n    post(id: $id) {\n      id\n      title\n      slug\n      created_by\n      description\n      category {\n        title\n      }\n      meta_desc\n      keywords\n      tags\n      updated_at\n      updated_by\n      created_at\n      thumnail\n    }\n  }\n"]);return Et=function(){return e},e}function yt(){var e=Object(q.a)(["\n  query {\n    posts {\n      id\n      title\n      slug\n      description\n      category {\n        title\n      }\n      user {\n        fullname\n      }\n      meta_desc\n      keywords\n      tags\n      updated_at\n      updated_by\n      created_at\n      thumnail\n    }\n  }\n"]);return yt=function(){return e},e}function ht(){var e=Object(q.a)(["\n  query($id: String!) {\n    category(id: $id) {\n      id\n      title\n      created_by\n    }\n  }\n"]);return ht=function(){return e},e}function vt(){var e=Object(q.a)(["\n  query {\n    categories {\n      id\n      title\n      slug\n      created_by\n      updated_by\n      created_at\n      updated_at\n    }\n  }\n"]);return vt=function(){return e},e}function Ot(){var e=Object(q.a)(["\n  query($email: String!) {\n    user(email: $email) {\n      fullname\n      email\n      avatar\n      isAdmin\n      id\n      approved\n    }\n  }\n"]);return Ot=function(){return e},e}function wt(){var e=Object(q.a)(["\n  query {\n    users {\n      fullname\n      email\n      avatar\n      isAdmin\n      id\n      approved\n    }\n  }\n"]);return wt=function(){return e},e}var jt=I()(wt()),kt=I()(Ot()),St=I()(vt()),_t=I()(ht()),xt=I()(yt()),Nt=I()(Et()),$t=I()(ft()),Pt=I()(bt()),Dt=I()(gt()),qt=I()(pt()),Tt=I()(dt()),It=I()(ut()),Ct=I()(mt()),zt=I()(st()),Lt=I()(ot()),At=I()(ct()),Ft=I()(it()),Vt=I()(lt()),Mt=I()(rt()),Yt=Je.a.Header;var Rt=function(){var e=Object(n.useContext)(Ge).user.email,t=r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/user/settings"},"Settings"),r.a.createElement("p",null,r.a.createElement("a",{href:"/logout"},"Logout")));return r.a.createElement(Yt,{style:{background:"#fff",padding:0}},r.a.createElement((function(){var a=Object(D.b)(kt,{variables:{email:e}}),n=a.error,l=a.loading,i=a.data;if(n&&console.log(n),l)return"Loading ...";if(i){var c=i.user,o=c.fullname,s=c.avatar,m=c.email;return r.a.createElement(nt.a,{placement:"bottomRight",title:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,o)),r.a.createElement("p",null,m)),content:t},r.a.createElement("img",{src:"https://admin.koompi.com"+s,alt:o,className:"avatar"}))}}),null))},Ht=Je.a.Footer;var Ut=function(){return r.a.createElement(Ht,{style:{textAlign:"center"}},"Copyright \xa9 2020 Created by ",r.a.createElement("b",null,"KOOMPI"),r.a.createElement("p",null,"A brainchild of ",r.a.createElement("b",null,"SmallWorld Venture")))},Bt=a(147),Jt=a.n(Bt),Kt=function(){var e=Object(D.b)(jt),t=e.error,a=e.loading,n=e.data;return a?r.a.createElement("center",null,r.a.createElement("img",{src:Jt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("span",{className:"adminFirstSectionFont"},r.a.createElement("b",null,n.users.length)," users"))):void 0)},Wt=function(){var e=Object(D.b)(xt),t=e.error,a=e.loading,n=e.data;return a?r.a.createElement("center",null,r.a.createElement("img",{src:Jt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("span",{className:"adminFirstSectionFont"},r.a.createElement("b",null,n.posts.length)," posts"))):void 0)},Qt=function(){var e=Object(D.b)($t),t=e.error,a=e.loading,n=e.data;return a?r.a.createElement("center",null,r.a.createElement("img",{src:Jt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("span",{className:"adminFirstSectionFont"},r.a.createElement("b",null,n.pages.length)," pages"))):void 0)},Gt=function(){var e=Object(D.b)(Tt),t=e.error,a=e.loading,n=e.data;return a?r.a.createElement("center",null,r.a.createElement("img",{src:Jt.a,alt:"btn-loading",height:"12"})):(t&&console.log(t),n?r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("span",{className:"adminFirstSectionFont"},r.a.createElement("b",null,n.retailers.length)," retailers"))):void 0)},Xt=a(188),Zt=a.n(Xt),ea=Je.a.Content;var ta=function(){var e=Object(n.useState)({series:[{name:"Posts",data:[1,2,1,1,3,1,2]}],options:{chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:["2018-09-19T00:00:00","2018-09-19T01:30:00","2018-09-19T02:30:00","2018-09-19T03:30:00","2018-09-19T04:30:00","2018-09-19T05:30:00","2018-09-19T06:30:00"]},tooltip:{x:{format:"dd/MM/yy"}}}}),t=Object(p.a)(e,1)[0];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(ea,null,r.a.createElement(Rt,null),r.a.createElement("div",{style:{padding:"0px 50px "}},r.a.createElement(Ke.a,{gutter:[16,16]},r.a.createElement(We.a,{span:6},r.a.createElement("div",{className:"card_back"},r.a.createElement("div",{className:"icons_back"},r.a.createElement("img",{src:"/images/icons/User.svg",alt:"user",className:"card_icon"})),r.a.createElement(Kt,null))),r.a.createElement(We.a,{span:6},r.a.createElement("div",{className:"card_back"},r.a.createElement("div",{className:"icons_back"},r.a.createElement("img",{src:"/images/icons/Post.svg",alt:"user",className:"card_icon"})),r.a.createElement(Wt,null))),r.a.createElement(We.a,{span:6},r.a.createElement("div",{className:"card_back"},r.a.createElement("div",{className:"icons_back"},r.a.createElement("img",{src:"/images/icons/Page.svg",alt:"user",className:"card_icon"})),r.a.createElement(Qt,null))),r.a.createElement(We.a,{span:6},r.a.createElement("div",{className:"card_back"},r.a.createElement("div",{className:"icons_back"},r.a.createElement("img",{src:"/images/icons/Retailers.svg",alt:"user",className:"card_icon"})),r.a.createElement(Gt,null)))),r.a.createElement(Ke.a,{gutter:[16,16]},r.a.createElement(We.a,{span:8},r.a.createElement("div",{className:"card_back"},r.a.createElement(Zt.a,{series:t.series,options:t.options,type:"area"}))),r.a.createElement(We.a,{span:8},r.a.createElement("div",{className:"card_back"},r.a.createElement(Zt.a,{series:t.series,options:t.options,type:"line"}))),r.a.createElement(We.a,{span:8},r.a.createElement("div",{className:"card_back"},r.a.createElement(Zt.a,{series:t.series,options:t.options,type:"area"}))))),r.a.createElement("div",null)),r.a.createElement(Ut,null)))},aa=a(46),na=a.n(aa),ra=a(85),la=a.n(ra),ia=a(86),ca=a.n(ia),oa=a(87),sa=a.n(oa),ma=a(88),ua=a.n(ma),da=a(89),pa=a.n(da),ga=a(90),ba=a.n(ga),fa=a(91),Ea=a.n(fa),ya=a(92),ha=a.n(ya),va=a(93),Oa=a.n(va),wa=a(94),ja=a.n(wa),ka=a(95),Sa=a.n(ka),_a=a(96),xa=a.n(_a),Na=a(97),$a=a.n(Na),Pa=a(98),Da=a.n(Pa),qa=a(99),Ta=a.n(qa),Ia={embed:la.a,table:ca.a,list:sa.a,warning:ua.a,code:pa.a,linkTool:ba.a,image:Ea.a,raw:ha.a,header:Oa.a,quote:ja.a,marker:Sa.a,checklist:xa.a,delimiter:$a.a,inlineCode:Da.a,simpleImage:Ta.a},Ca=a(61),za=a.n(Ca),La=a(129),Aa=a.n(La),Fa=a(145),Va=a(754);function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ra=f.a.Item,Ha=Je.a.Content,Ua=E.a.TextArea,Ba=Fa.a.Option,Ja=[];var Ka=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(n.useContext)(Ge),h=Object(D.b)(St).refetch,O=Object(D.b)(xt).refetch,w=Object(D.a)(ye),j=Object(p.a)(w,1)[0],S={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}},_=r.a.useRef(null),x=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||j({variables:Ya({},n,{slug:za()(n.title,{lower:!0}),description:JSON.stringify(a)})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),h(),O(),e.form.resetFields(),t.next=7,b.a.success("Post created successfully.",3);case 7:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]);return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Ha,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"New Post"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(Ra,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Ra,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement(Ra,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return _.current=e},tools:Ia,placeholder:"Let's write an awesome story!"}))),r.a.createElement(We.a,{span:8},r.a.createElement(Ra,{label:"Thumnail"},r.a.createElement(Va.a.Dragger,S,d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(d)),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("thumnail",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement((function(){var e=Object(D.b)(St),a=e.error,n=e.loading,l=e.data;if(a&&console.log(a),n)return"Loading ...";if(0===l.categories.length)return b.a.error("Please create a category.",5),r.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}]})(r.a.createElement(Fa.a,{placeholder:"No Category"})));var i=Aa.a.filter(l.categories,(function(e){return Aa.a.includes(["news","events"],e.slug)}));return r.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i[0].title})(r.a.createElement(Fa.a,{placeholder:"Please select the category",size:"large"},i.map((function(e){return r.a.createElement(Ba,{value:e.title,key:e.id},e.title)})))))}),null),r.a.createElement(Ra,{label:"Tags"},t("tags",{rules:[{required:!0,message:"The tags is required"}]})(r.a.createElement(Fa.a,{mode:"tags",style:{width:"100%"},size:"large"},Ja))),r.a.createElement(Ra,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}]})(r.a.createElement(Fa.a,{mode:"tags",style:{width:"100%"},size:"large"},Ja))),r.a.createElement(Ra,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}]})(r.a.createElement(Ua,{rows:4}))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i,onClick:x},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))))),r.a.createElement(Ut,null)))})),Wa=a(753),Qa=a(759),Ga=a(751),Xa=a(752),Za=a(38),en=a.n(Za),tn=Je.a.Content;var an=function(){var e=Object(D.a)(he),t=Object(p.a)(e,1)[0],a=Object(D.b)(xt).refetch,n=[{title:"Image",dataIndex:"image"},{title:"Title",dataIndex:"title",key:"title"},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"Category",dataIndex:"category",key:"category"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(tn,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"All Posts"),r.a.createElement((function(){var e=Object(D.b)(xt),l=e.error,i=e.loading,o=e.data;if(l&&console.log(l),i)return r.a.createElement(Wa.a,{loading:!0});if(o){return r.a.createElement("div",null,r.a.createElement((function(){return r.a.createElement(Wa.a,{columns:n,dataSource:o.posts.map((function(e){var n=e.id,l=e.title,i=e.category,o=e.created_at,s=e.user,m=e.slug;return{key:n,image:r.a.createElement("img",{src:"https://admin.koompi.com"+e.thumnail,alt:"post",height:"40px",width:"60px"}),title:l.length<=25?l:l.substring(0,25)+" ...",slug:m.length<=25?m:m.substring(0,25)+" ...",category:r.a.createElement(Qa.a,{color:"green"},null===i?"No category":i.title),created_by:null===s?"Null":s.fullname,created_at:en.a.unix(o/1e3).format("YYYY-MM-DD"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/post/edit/".concat(n)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this Post?",okText:"Yes",cancelText:"No",onConfirm:function(){t({variables:{id:"".concat(n)}}),b.a.success("The Post has been Deleted"),a()}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!0})}),null))}}),null)))),r.a.createElement(Ut,null)))},nn={embed:la.a,table:ca.a,list:sa.a,warning:ua.a,code:pa.a,linkTool:ba.a,image:Ea.a,raw:ha.a,header:Oa.a,quote:ja.a,marker:Sa.a,checklist:xa.a,delimiter:$a.a,inlineCode:Da.a,simpleImage:Ta.a},rn=a(758);function ln(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ln(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ln(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var on=f.a.Item,sn=Je.a.Content,mn=E.a.TextArea,un=Fa.a.Option,dn=[];var pn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.a)(Oe),l=Object(p.a)(a,1)[0],i=Object(n.useState)(""),c=Object(p.a)(i,2),o=c[0],s=c[1],d=Object(n.useState)(!1),g=Object(p.a)(d,2),y=g[0],h=g[1],O=Object(D.b)($t).refetch,w=Object(n.useContext)(Ge),j=r.a.useRef(null),S=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||l({variables:cn({},n,{description:JSON.stringify(a),sectionNumber:n.sectionNumber.toString()})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),setTimeout((function(){h(!1)}),3e3),e.form.resetFields(),O(),t.next=6,b.a.success("Page created successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),_={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:o,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(s(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(sn,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"New Page"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(on,{label:"Title: "},t("title",{rules:[{required:!0,message:"The title is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(on,{label:"SubTitle: "},t("subTitle")(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(on,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:w.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement(on,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return j.current=e},tools:nn,placeholder:"Let's write an awesome story!"}))),r.a.createElement(We.a,{span:8},r.a.createElement(on,{label:"Image"},r.a.createElement(Va.a.Dragger,_,o?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(o)),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Image is required"}],initialValue:"/public/uploads/"+o})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement(Ke.a,{gutter:16},r.a.createElement(We.a,{span:12},r.a.createElement(on,{label:"Section Number: "},t("sectionNumber",{rules:[{required:!0,message:"The Section Number is required"}],initialValue:1})(r.a.createElement(rn.a,{min:1,size:"large",style:{width:"100%"}})))),r.a.createElement(We.a,{span:12},r.a.createElement((function(){var e=Object(D.b)(St),a=e.error,n=e.loading,l=e.data;return a&&console.log(a),n?"Loading ...":0===l.categories.length?(b.a.error("Please create a category.",5),r.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}]})(r.a.createElement(Fa.a,{placeholder:"No Category"})))):r.a.createElement(f.a.Item,{label:"Page"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:l.categories[0].title})(r.a.createElement(Fa.a,{placeholder:"Please select the category",size:"large"},l.categories.map((function(e){return r.a.createElement(un,{value:e.title,key:e.id},e.title)})))))}),null))),r.a.createElement(on,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}]})(r.a.createElement(Fa.a,{mode:"tags",style:{width:"100%"},size:"large"},dn))),r.a.createElement(on,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}]})(r.a.createElement(mn,{rows:4}))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!y,onClick:S},y?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))))),r.a.createElement(Ut,null)))})),gn=a(757),bn=a(103),fn=a.n(bn),En=Je.a.Content;var yn=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(D.a)(we),o=Object(p.a)(i,1)[0],s=Object(D.b)($t).refetch,m=[{title:"Image",dataIndex:"image"},{title:"Title",dataIndex:"title",key:"title"},{title:"SubTitle",dataIndex:"subTitle",key:"subTitle"},{title:"Page",dataIndex:"category",key:"category",sorter:function(e,t){return e.category.length-t.category.length}},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Updated By",dataIndex:"updated_by"},{title:"Actions",dataIndex:"action"}],u=function(){l(!1)};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(En,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"All Pages"),r.a.createElement((function(){var e=Object(D.b)($t),t=e.error,n=e.loading,l=e.data;if(t&&console.log(t),n)return r.a.createElement(Wa.a,{loading:!0});if(l){var i=function(){return r.a.createElement(Wa.a,{columns:m,dataSource:l.pages.map((function(e){var t=e.id,n=e.title,l=e.subTitle,i=e.category,m=e.image,u=e.created_at,d=e.created_by,p=e.updated_by;return{key:fn()(n.substring(0,30)),image:r.a.createElement("img",{src:"https://admin.koompi.com"+m,alt:"post",height:"40px",width:"60px"}),title:n.substring().length>25?fn()(n.substring(0,25)+"... "):fn()(n),subTitle:null===l?r.a.createElement(Qa.a,{color:"red"},"N/A"):r.a.createElement(Qa.a,{color:"green"},l.toUpperCase()),category:null===i?"No category":i.title,created_by:d,updated_by:null===p?"No Update":p,created_at:en.a.unix(u/1e3).format("YYYY-MM-DD"),action:a?null:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/page/edit/".concat(t)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this Page?",okText:"Yes",cancelText:"No",onConfirm:function(){o({variables:{id:"".concat(t)}}),b.a.success("The Page has been Deleted"),s()}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return r.a.createElement("div",null,r.a.createElement(gn.a,{title:"Details Informtion",visible:a,onOk:u,onCancel:u,footer:null,width:"98%"},r.a.createElement(i,null)),r.a.createElement(i,null))}}),null)))),r.a.createElement(Ut,null)))},hn=Je.a.Content;var vn=function(){var e=Object(D.a)(de),t=Object(p.a)(e,1)[0],a=Object(D.a)(ge),l=Object(p.a)(a,1)[0],i=Object(D.a)(pe),c=Object(p.a)(i,1)[0],o=Object(n.useContext)(Ge).user.isAdmin,s=[{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",key:"admin",dataIndex:"admin"},{title:"Approved",key:"approved",dataIndex:"approved"}],m=[{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",key:"admin",dataIndex:"admin"},{title:"Approved",key:"approved",dataIndex:"approved"},{title:"Action",dataIndex:"action"}];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(hn,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Users"),o?r.a.createElement((function(){var e=Object(D.b)(jt),a=e.error,n=e.loading,i=e.data,o=e.refetch;return n?"Loading ...":(a&&console.log(a),i?(o(),r.a.createElement(Wa.a,{dataSource:i.users.map((function(e,a){var n=e.id,i=e.fullname,s=e.email,m=e.isAdmin,u=e.approved;return{key:a,fullname:i,email:s,admin:m?r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to make this user a normal user?",onConfirm:function(){c({variables:{id:"".concat(n),isAdmin:!1}}),b.a.success("".concat(i," updated successfully "))},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"green",key:n,style:{cursor:"pointer"}},"Yes")):r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to approve this user as Admin?",onConfirm:function(){c({variables:{id:"".concat(n),isAdmin:!0}}),b.a.success("".concat(i," has been aprroved as admin successfully "))},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"red",key:n,style:{cursor:"pointer"}},"No")),approved:u?r.a.createElement(Xa.a,{disabled:!!m,placement:"topRight",title:"Are you sure disable this user?",onConfirm:function(){t({variables:{id:"".concat(n),approve:!1}}),b.a.success("".concat(i," is disable "))},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"green",key:n,style:{cursor:"pointer"}},"Approved")):r.a.createElement(Xa.a,{disabled:!!m,placement:"topRight",title:"Are you sure to approve this user?",onConfirm:function(){t({variables:{id:"".concat(n),approve:!0}}),b.a.success("".concat(i," has been aprroved successfully ")),o()},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"orange",key:n,style:{cursor:"pointer"}},"Pending")),action:r.a.createElement("div",null,r.a.createElement(Xa.a,{disabled:!!m,placement:"topRight",title:"Are you sure to delete this user?",onConfirm:function(){l({variables:{id:n}}),b.a.success("".concat(i," Has been deleted "))},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),columns:m})):void 0)}),null):r.a.createElement((function(){var e=Object(D.b)(jt),t=e.error,a=e.loading,n=e.data;return a?"Loading ...":(t&&console.log(t),n?r.a.createElement(Wa.a,{dataSource:n.users.map((function(e,t){var a=e.id,n=e.fullname,l=e.email,i=e.isAdmin,c=e.approved;return{key:t,fullname:n,email:l,admin:i?r.a.createElement(Qa.a,{color:"green",key:a},"Yes"):r.a.createElement(Qa.a,{color:"red",key:a},"No"),approved:c?r.a.createElement(Qa.a,{color:"green",key:a},"Approved"):r.a.createElement(Qa.a,{color:"orange",key:a},"Pending")}})),columns:s}):void 0)}),null)))),r.a.createElement(Ut,null)))},On=function(){return Object(n.useEffect)((function(){_.a.set("token",""),window.location.replace("/login")})),null};function wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wn(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var kn=f.a.Item,Sn=Je.a.Content;var _n=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],o=l[1],s=Object(n.useContext)(Ge),d=Object(D.a)(be),g=Object(p.a)(d,1)[0],h=Object(D.a)(fe),O=Object(p.a)(h,1)[0],w=Object(D.b)(St).refetch,j=[{title:"Title",dataIndex:"title",onFilter:function(e,t){return 0===t.title.indexOf(e)},sorter:function(e,t){return e.title.length-t.title.length}},{title:"Slug",dataIndex:"slug",onFilter:function(e,t){return 0===t.title.indexOf(e)},sorter:function(e,t){return e.title.length-t.title.length}},{title:"Author",dataIndex:"created_by",sorter:function(e,t){return e.created_by.length-t.created_by.length}},{title:"Date",dataIndex:"created_at"},{title:"Updated By",dataIndex:"updated_by"},{title:"Updated At",dataIndex:"updated_at"},{title:"Actions",dataIndex:"action"}];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Sn,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Add Category"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||g({variables:jn({},a,{slug:za()(a.title,{lower:!0})})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),setTimeout((function(){o(!1)}),3e3),w(),e.form.resetFields(),t.next=6,b.a.success("The Category created successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){b.a.error(e.graphQLErrors[0].message,5)}))}))}},r.a.createElement(Ke.a,{gutter:[16,16]},r.a.createElement(We.a,{span:24},r.a.createElement(kn,null,t("title",{rules:[{required:!0,message:"The title is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"})))),r.a.createElement(We.a,{span:4,style:{display:"none"}},r.a.createElement(kn,null,t("created_by",{initialValue:s.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),r.a.createElement(We.a,{span:24,style:{marginTop:"-10px",marginBottom:"10px"}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))),r.a.createElement("br",null),r.a.createElement("h1",{className:"title_new_post"},"Categories"),r.a.createElement((function(){var e=Object(D.b)(St),t=e.error,a=e.loading,n=e.data;return t&&console.log(t),a?r.a.createElement(Wa.a,{loading:!0}):n?r.a.createElement(Wa.a,{columns:j,dataSource:n.categories.map((function(e){return{key:e.id,title:e.title,slug:e.slug,created_by:e.created_by,updated_by:""===e.updated_by?"No Update":e.updated_by,created_at:en.a.unix(e.created_at/1e3).format("YYYY-MM-DD"),updated_at:null===e.updated_at?"No Update":en.a.unix(e.updated_at/1e3).format("YYYY-MM-DD"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/category/edit/".concat(e.id)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this category?",onConfirm:function(){O({variables:{id:"".concat(e.id)}}),b.a.success("The Category has been Deleted"),w()},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}}))}):void 0}),null)))),r.a.createElement(Ut,null)))}));a(723);function xn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xn(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $n=f.a.Item,Pn=Je.a.Content;var Dn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useContext)(Ge),s=Object(D.a)(Ee),d=Object(p.a)(s,1)[0],g=Object(D.b)(_t,{variables:{id:window.location.pathname.split("/")[4]}}),y=g.loading,h=g.data;return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Pn,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},y?"loading ...":"Update ".concat(h.category.title)),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||d({variables:Nn({id:window.location.pathname.split("/")[4]},a,{slug:za()(a.title,{lower:!0})})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),t.next=4,b.a.success("The Category update successfully.",3);case 4:return t.next=6,e.history.push("/admin/categories");case 6:case"end":return t.stop()}}),t)})))).catch((function(e){b.a.error(e)}))}))}},r.a.createElement(Ke.a,{gutter:[16,16]},r.a.createElement(We.a,{span:16},r.a.createElement($n,null,t("title",{initialValue:y?"loading ...":h.category.title})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement($n,null,t("updated_at",{rules:[{required:!0,message:"The title is required"}],initialValue:(new Date).toISOString()})(r.a.createElement(E.a,{style:{display:"none"},size:"large"})))),r.a.createElement(We.a,{span:4},r.a.createElement($n,null,t("updated_by",{initialValue:o.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(r.a.createElement(E.a,{size:"large",disabled:!0})))),r.a.createElement(We.a,{span:4},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))))))),r.a.createElement(Ut,null)))}));function qn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qn(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var In=f.a.Item,Cn=Je.a.Content,zn=E.a.TextArea,Ln=Fa.a.Option,An=[];var Fn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.b)(Nt,{variables:{id:window.location.pathname.split("/")[4]}}),l=a.loading,i=a.data,c=Object(n.useState)(!1),o=Object(p.a)(c,2),s=o[0],d=o[1],g=Object(n.useState)(null),y=Object(p.a)(g,2),h=y[0],O=y[1],w=Object(n.useContext)(Ge),j=r.a.useRef(null),S=Object(D.b)(xt).refetch,_=Object(D.a)(ve),x=Object(p.a)(_,1)[0],N=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){console.log(za()(n.title,{lower:!0})),t||x({variables:Tn({id:window.location.pathname.split("/")[4]},n,{slug:za()(n.title,{lower:!0}),description:JSON.stringify(a)})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),setTimeout((function(){d(!1)}),3e3),S(),t.next=5,b.a.success("Post updated successfully.",3);case 5:return t.next=7,e.history.push("/admin/all-posts");case 7:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),$={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:h,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(O(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l?"Loading...":(console.log("Result",i.post.description),r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Cn,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Update Post"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(In,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:i.post.title})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(In,{label:"Updated By: ",style:{display:"none"}},t("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:w.user.fullname})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(In,{label:"update at: ",style:{display:"none"}},t("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(In,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return j.current=e},tools:Ia,data:l?"Loading ...":JSON.parse(i.post.description)}))),r.a.createElement(We.a,{span:8},r.a.createElement(In,{label:"Thumnail"},r.a.createElement(Va.a.Dragger,$,null===h?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+i.post.thumnail),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+h),alt:"avatar",style:{width:"100%"}})),r.a.createElement("div",{style:{display:"none"}},t("thumnail",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===h?i.post.thumnail:"/public/uploads/"+h})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement((function(){var e=Object(D.b)(St),a=e.error,n=e.loading,l=e.data;if(a&&console.log(a),n)return"Loading ...";var c=Aa.a.filter(l.categories,(function(e){return Aa.a.includes(["news","events"],e.slug)}));return r.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i.post.category.title})(r.a.createElement(Fa.a,{placeholder:"Please select the category",size:"large"},c.map((function(e){return r.a.createElement(Ln,{value:e.title,key:e.id},e.title)})))))}),null),r.a.createElement(In,{label:"Tags"},t("tags",{rules:[{required:!0,message:"The tags is required"}],initialValue:l?"":i.post.tags})(r.a.createElement(Fa.a,{mode:"tags",style:{width:"100%"},size:"large"},An))),r.a.createElement(In,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}],initialValue:l?"":i.post.keywords})(r.a.createElement(Fa.a,{mode:"tags",style:{width:"100%"},size:"large"},An))),r.a.createElement(In,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}],initialValue:l?"":i.post.meta_desc})(r.a.createElement(zn,{rows:4}))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:N},s?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update")))))))),r.a.createElement(Ut,null))))}));function Vn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vn(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yn=f.a.Item,Rn=Je.a.Content,Hn=E.a.TextArea,Un=Fa.a.Option,Bn=[];var Jn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.b)(Pt,{variables:{id:window.location.pathname.split("/")[4]}}),l=a.loading,i=a.data,c=Object(n.useState)(!1),o=Object(p.a)(c,2),s=o[0],d=o[1],g=Object(n.useState)(null),y=Object(p.a)(g,2),h=y[0],O=y[1],w=Object(n.useContext)(Ge),j=Object(D.b)($t).refetch,S=Object(D.a)(je),_=Object(p.a)(S,1)[0],x=r.a.useRef(null),N=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||_({variables:Mn({id:window.location.pathname.split("/")[4],description:JSON.stringify(a)},n,{sectionNumber:n.sectionNumber.toString()})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),setTimeout((function(){d(!1)}),3e3),j(),t.next=5,b.a.success("Page updated successfully.",3);case 5:return t.next=7,e.history.push("/admin/all-pages");case 7:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),$={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:h,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(O(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return l?"Loading...":r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Rn,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Update Page"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(Yn,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:i.page.title})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Yn,{label:"SubTitle"},t("subTitle",{initialValue:i.page.subTitle})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Yn,{label:"Updated By: ",style:{display:"none"}},t("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:w.user.fullname})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Yn,{label:"update at: ",style:{display:"none"}},t("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Yn,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return x.current=e},tools:nn,data:l?"Loading ...":JSON.parse(i.page.description)})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:N},s?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),r.a.createElement(We.a,{span:8},r.a.createElement(Yn,{label:"Image"},r.a.createElement(Va.a.Dragger,$,null===h?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+i.page.image),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+h),alt:"avatar",style:{width:"100%"}})),r.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Imae is required"}],initialValue:null===h?i.page.image:"/public/uploads/"+h})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement(Ke.a,{gutter:16},r.a.createElement(We.a,{span:12},r.a.createElement(Yn,{label:"Section Number: "},t("sectionNumber",{rules:[{required:!0,message:"The Section Number is required"}],initialValue:i.page.sectionNumber})(r.a.createElement(rn.a,{min:1,size:"large",style:{width:"100%"}})))),r.a.createElement(We.a,{span:12},r.a.createElement((function(){var e=Object(D.b)(St),a=e.error,n=e.loading,l=e.data;return a&&console.log(a),n?"Loading ...":0===l.categories.length?(b.a.error("Please create a category.",5),r.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}]})(r.a.createElement(Fa.a,{placeholder:"No Category"})))):r.a.createElement(f.a.Item,{label:"Categories"},t("category",{rules:[{required:!0,message:"Please select your category!"}],initialValue:i.page.category.title})(r.a.createElement(Fa.a,{placeholder:"Please select the category",size:"large"},l.categories.map((function(e){return r.a.createElement(Un,{value:e.title,key:e.id},e.title)})))))}),null))),r.a.createElement(Yn,{label:"SEO or Keywords"},t("keywords",{rules:[{required:!0,message:"The keywords is required"}],initialValue:l?"":i.page.keywords})(r.a.createElement(Fa.a,{mode:"tags",style:{width:"100%"},size:"large"},Bn))),r.a.createElement(Yn,{label:"Meta Description: "},t("meta_desc",{rules:[{required:!0,message:"The Meta Description is required"}],initialValue:l?"":i.page.meta_desc})(r.a.createElement(Hn,{rows:4}))))))))),r.a.createElement(Ut,null)))}));a(112);function Kn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kn(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qn=f.a.Item,Gn=Je.a.Content,Xn=Fa.a.Option;var Zn=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(n.useContext)(Ge),h=Object(D.b)(Dt).refetch,O=Object(D.a)(ke),w=Object(p.a)(O,1)[0],j={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Gn,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Add Member"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),w({variables:Wn({},a)}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),h(),e.form.resetFields(),t.next=6,b.a.success("Member added successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(Qn,{label:"Full Name"},t("fullname",{rules:[{required:!0,message:"The fullname is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(f.a.Item,{label:"Department"},t("department",{rules:[{required:!0,message:"Please select member department!"}],initialValue:"software-team"})(r.a.createElement(Fa.a,{size:"large"},r.a.createElement(Xn,{value:"business-development"},"Business Development"),r.a.createElement(Xn,{value:"hardware-team"},"KOOMPI Hardware Team"),r.a.createElement(Xn,{value:"academy"},"KOOMPI ACADEMY"),r.a.createElement(Xn,{value:"sales-and-supplier-relation"},"Sales and Supplier Relation"),r.a.createElement(Xn,{value:"communication-and-marketing"},"Communication and Marketing"),r.a.createElement(Xn,{value:"software-team"},"Software Teams")))),r.a.createElement(Qn,{label:"Postion: "},t("position",{rules:[{required:!0,message:"Position is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Qn,{label:"Phone Number: "},t("phoneNumber",{rules:[{required:!0,message:"Phone Number is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Qn,{label:"Email: "},t("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Email is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Qn,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))),r.a.createElement(We.a,{span:8},r.a.createElement(Qn,{label:"Photo"},r.a.createElement(Va.a.Dragger,j,d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(d)),alt:"avatar",style:{width:"250px",height:"250px"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("photo",{rules:[{required:!0,message:"Photo is required"}],initialValue:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))))))))),r.a.createElement(Ut,null)))})),er=Je.a.Content;var tr=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(D.a)(Se),o=Object(p.a)(i,1)[0],s=Object(D.b)(Dt).refetch,m=[{title:"Photo",dataIndex:"photo"},{title:"Full Name",dataIndex:"fullname",key:"fullname"},{title:"Department",dataIndex:"department",key:"department"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],u=function(){l(!1)};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(er,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Members"),r.a.createElement((function(){var e=Object(D.b)(Dt),t=e.error,n=e.loading,l=e.data;if(t&&console.log(t),n)return r.a.createElement(Wa.a,{loading:!0});if(l){var i=function(){return r.a.createElement(Wa.a,{columns:m,dataSource:l.members.map((function(e){var t=e.id,a=e.fullname,n=e.phoneNumber,l=e.email,i=e.created_by,m=e.photo,u=e.department,d=e.created_at;return{key:t,photo:r.a.createElement("img",{src:"https://admin.koompi.com".concat(m),alt:"post",height:"50px",width:"50px",style:{borderRadius:"50%"}}),fullname:a,department:u,email:l,phoneNumber:n,created_by:i,created_at:en.a.unix(d/1e3).format("YYYY-MM-DD"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/member/edit/".concat(t)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this member?",okText:"Yes",cancelText:"No",onConfirm:function(){o({variables:{id:"".concat(t)}}),b.a.success("The member has been Deleted"),s()}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return r.a.createElement("div",null,r.a.createElement(gn.a,{title:"Details Informtion",visible:a,onOk:u,onCancel:u,footer:null,width:"98%"},r.a.createElement(i,null)),r.a.createElement(i,null))}}),null)))),r.a.createElement(Ut,null)))};function ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ar(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ar(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rr=f.a.Item,lr=Je.a.Content,ir=Fa.a.Option;var cr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(D.b)(qt,{variables:{id:window.location.pathname.split("/")[4]}}),h=y.loading,O=y.data,w=Object(n.useContext)(Ge),j=Object(D.b)(Dt).refetch,S=Object(D.a)(_e),_=Object(p.a)(S,1)[0],x={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return h?"Loading...":r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(lr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Add Member"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),_({variables:nr({id:window.location.pathname.split("/")[4]},a)}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),e.form.resetFields(),j(),t.next=6,b.a.success("Member updated successfully.",3);case 6:return t.next=8,e.history.push("/admin/members");case 8:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(rr,{label:"Full Name"},t("fullname",{rules:[{required:!0,message:"The fullname is required"}],initialValue:O.member.fullname})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(f.a.Item,{label:"Department"},t("department",{rules:[{required:!0,message:"Please select member department!"}],initialValue:O.member.department})(r.a.createElement(Fa.a,null,r.a.createElement(ir,{value:"business-development"},"Business Development"),r.a.createElement(ir,{value:"hardware-team"},"KOOMPI Hardware Team"),r.a.createElement(ir,{value:"academy"},"KOOMPI ACADEMY"),r.a.createElement(ir,{value:"sales-and-supplier-relation"},"Sales and Supplier Relation"),r.a.createElement(ir,{value:"communication-and-marketing"},"Communication and Marketing"),r.a.createElement(ir,{value:"software-team"},"Software Teams")))),r.a.createElement(rr,{label:"Postion: "},t("position",{rules:[{required:!0,message:"Position is required"}],initialValue:O.member.position})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(rr,{label:"Phone Number: "},t("phoneNumber",{rules:[{required:!0,message:"Phone Number is required"}],initialValue:O.member.phoneNumber})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(rr,{label:"Email: "},t("email",{rules:[{required:!0,message:"Email is required"}],initialValue:O.member.email})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(rr,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:w.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),r.a.createElement(We.a,{span:8},r.a.createElement(rr,{label:"Photo"},r.a.createElement(Va.a.Dragger,x,null===d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+O.member.photo),alt:"avatar",style:{width:"250px",height:"250px"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+d),alt:"avatar",style:{width:"250px",height:"250px"}})),r.a.createElement("div",{style:{display:"none"}},t("photo",{rules:[{required:!0,message:"Thumnail is required"}],initialValue:null===d?O.member.photo:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))))))))),r.a.createElement(Ut,null)))}));function or(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?or(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):or(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mr=f.a.Item,ur=Je.a.Content;var dr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(n.useContext)(Ge),h=Object(D.b)(Tt).refetch,O=Object(D.a)(xe),w=Object(p.a)(O,1)[0],j={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(ur,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"New Retailer"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),w({variables:sr({},a)}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),h(),e.form.resetFields(),t.next=6,b.a.success("Member added successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(mr,{label:"Name"},t("name",{rules:[{required:!0,message:"The name is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(mr,{label:"Email"},t("email",{})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(mr,{label:"Phone Number"},t("phoneNumber",{})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(mr,{label:"Link Location: "},t("location",{rules:[{required:!0,message:"Link Location is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(mr,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))),r.a.createElement(We.a,{span:8},r.a.createElement(mr,{label:"Logo"},r.a.createElement(Va.a.Dragger,j,d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(d)),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"logo is required"}],initialValue:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))))))))),r.a.createElement(Ut,null)))})),pr=Je.a.Content;var gr=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(D.a)(Ne),o=Object(p.a)(i,1)[0],s=Object(D.b)(Tt).refetch,m=[{title:"Logo",dataIndex:"logo"},{title:"Name",dataIndex:"name",key:"name"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Email",dataIndex:"email",key:"email"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],u=function(){l(!1)};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(pr,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Retailers"),r.a.createElement((function(){var e=Object(D.b)(Tt),t=e.error,n=e.loading,l=e.data;if(t&&console.log(t),n)return r.a.createElement(Wa.a,{loading:!0});if(l){var i=function(){return r.a.createElement(Wa.a,{columns:m,dataSource:l.retailers.map((function(e){var t=e.id,a=e.name,n=e.phoneNumber,l=e.email,i=e.created_by,m=e.logo,u=e.created_at;return{key:fn()(a),logo:r.a.createElement("img",{src:"https://admin.koompi.com".concat(m),alt:a,height:"30px",width:"auto"}),name:a,email:null===l?"Null":l,phoneNumber:null===n?"Null":n,created_by:i,created_at:en.a.unix(u/1e3).format("YYYY-MM-DD HH:mm:ss"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/retailer/edit/".concat(t)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this retailer?",okText:"Yes",cancelText:"No",onConfirm:function(){o({variables:{id:"".concat(t)}}),b.a.success("The Retailer has been Deleted"),s()}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return r.a.createElement("div",null,r.a.createElement(gn.a,{title:"Details Informtion",visible:a,onOk:u,onCancel:u,footer:null,width:"98%"},r.a.createElement(i,null)),r.a.createElement(i,null))}}),null)))),r.a.createElement(Ut,null)))};function br(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?br(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):br(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Er=f.a.Item,yr=Je.a.Content;var hr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(D.b)(It,{variables:{id:window.location.pathname.split("/")[4]}}),h=y.loading,O=y.data,w=Object(D.b)(Tt).refetch,j=Object(D.a)($e),S=Object(p.a)(j,1)[0],_={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return h?"Loading...":r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(yr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Update Retailer"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),S({variables:fr({id:window.location.pathname.split("/")[4]},a)}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),e.form.resetFields(),w(),t.next=6,b.a.success("Retailer updated successfully.",3);case 6:return t.next=8,e.history.push("/admin/retailers");case 8:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(Er,{label:"Full Name"},t("name",{rules:[{required:!0,message:"The name is required"}],initialValue:O.retailer.name})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Er,{label:"Email"},t("email",{initialValue:O.retailer.email})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Er,{label:"Phone Number"},t("phoneNumber",{initialValue:O.retailer.phoneNumber})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(Er,{label:"Link Location: "},t("location",{rules:[{required:!0,message:"Link Location is required"}],initialValue:O.retailer.location})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),r.a.createElement(We.a,{span:8},r.a.createElement(Er,{label:"Photo"},r.a.createElement(Va.a.Dragger,_,null===d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+O.retailer.logo),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+d),alt:"avatar",style:{width:"100%"}})),r.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===d?O.retailer.logo:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))))))))),r.a.createElement(Ut,null)))}));function vr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Or(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vr(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wr=f.a.Item,jr=Je.a.Content;var kr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(n.useContext)(Ge),h=Object(D.b)(Tt).refetch,O=Object(D.a)(Pe),w=Object(p.a)(O,1)[0],j={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(jr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Add Social Media"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),w({variables:Or({},a)}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),h(),e.form.resetFields(),t.next=6,b.a.success("Socail Media added successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(wr,{label:"Name"},t("name",{rules:[{required:!0,message:"The name is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(wr,{label:"Link: "},t("link",{rules:[{required:!0,message:"Link is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(wr,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:y.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))),r.a.createElement(We.a,{span:8},r.a.createElement(wr,{label:"Logo"},r.a.createElement(Va.a.Dragger,j,d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(d)),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"logo is required"}],initialValue:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))))))))),r.a.createElement(Ut,null)))})),Sr=Je.a.Content;var _r=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(D.a)(De),o=Object(p.a)(i,1)[0],s=Object(D.b)(Ct).refetch,m=[{title:"Logo",dataIndex:"logo"},{title:"Name",dataIndex:"name",key:"name"},{title:"Link",dataIndex:"link",key:"link"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}],u=function(){l(!1)};return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Sr,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Social Media"),r.a.createElement((function(){var e=Object(D.b)(Ct),t=e.error,n=e.loading,l=e.data,i=e.refetch;if(t&&console.log(t),n)return r.a.createElement(Wa.a,{loading:!0});if(l){i();var d=function(){return r.a.createElement(Wa.a,{columns:m,dataSource:l.socialMedia.map((function(e){var t=e.id,a=e.name,n=e.created_by,l=e.link,i=e.logo,m=e.created_at;return{key:fn()(a),logo:r.a.createElement("img",{src:"https://admin.koompi.com".concat(i),alt:a,height:"40px",width:"40px"}),name:a,link:l,created_by:n,created_at:en.a.unix(m/1e3).format("YYYY-MM-DD HH:mm:ss"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/social-media/edit/".concat(t)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete ".concat(a,"?"),okText:"Yes",cancelText:"No",onConfirm:function(){o({variables:{id:"".concat(t)}}),b.a.success(a+" has been Deleted"),s()}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!a})};return r.a.createElement("div",null,r.a.createElement(gn.a,{title:"Details Informtion",visible:a,onOk:u,onCancel:u,footer:null,width:"98%"},r.a.createElement(d,null)),r.a.createElement(d,null))}}),null)))),r.a.createElement(Ut,null)))};function xr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xr(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $r=f.a.Item,Pr=Je.a.Content;var Dr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(null),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(D.b)(zt,{variables:{id:window.location.pathname.split("/")[4]}}),h=y.loading,O=y.data,w=Object(D.b)(Ct).refetch,j=Object(D.a)(qe),S=Object(p.a)(j,1)[0],_={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:d,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return h?"Loading...":r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Pr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Add Member"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){t||(console.log(a),S({variables:Nr({id:window.location.pathname.split("/")[4]},a)}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),e.form.resetFields(),w(),t.next=6,b.a.success("Social Media updated successfully.",3);case 6:return t.next=8,e.history.push("/admin/social-media");case 8:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement($r,{label:"Full Name"},t("name",{rules:[{required:!0,message:"The name is required"}],initialValue:O.oneSocialMedia.name})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement($r,{label:"Link: "},t("link",{rules:[{required:!0,message:"Link is required"}],initialValue:O.oneSocialMedia.link})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),r.a.createElement(We.a,{span:8},r.a.createElement($r,{label:"Photo"},r.a.createElement(Va.a.Dragger,_,null===d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+O.oneSocialMedia.logo),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+d),alt:"avatar",style:{width:"100%"}})),r.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===d?O.oneSocialMedia.logo:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))))))))),r.a.createElement(Ut,null)))})),qr=f.a.Item,Tr=Je.a.Content;var Ir=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useContext)(Ge),l=Object(D.b)(kt,{variables:{email:a.user.email}}),i=l.loading,c=l.data,o=l.refetch,s=Object(D.a)(ue),d=Object(p.a)(s,1)[0],g=Object(n.useState)(!1),y=Object(p.a)(g,2),h=y[0],O=y[1],w=Object(n.useState)(null),j=Object(p.a)(w,2),S=j[0],_=j[1],x={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:S,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(_(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}};return i?"Loading ...":r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Tr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"User Settings"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(t,a){if(!t){var n=a.fullname,r=a.avatar,l=a.oldPassword,i=a.newPassword;d({variables:{email:c.user.email,fullname:n,avatar:r,oldPassword:l,newPassword:i}}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),setTimeout((function(){O(!1)}),3e3),e.form.resetFields(),o(),t.next=6,b.a.success("User updated successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}}))}},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:8},r.a.createElement(qr,{label:"Photo"},r.a.createElement(Va.a.Dragger,x,null===S?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+c.user.avatar),alt:"avatar",style:{height:"133.5px",width:"133.5px"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+S),alt:"avatar",style:{height:"133.5px",width:"133.5px"}})),r.a.createElement("div",{style:{display:"none"}},t("avatar",{rules:[{required:!0,message:"Avatar is required"}],initialValue:null===S?c.user.avatar:"/public/uploads/"+S})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement(qr,{label:"Full Name"},t("fullname",{rules:[{required:!0,message:"FullName is required"}],initialValue:c.user.fullname})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!h},h?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))),r.a.createElement(We.a,{span:16},r.a.createElement(qr,{label:"Old Password"},t("oldPassword")(r.a.createElement(E.a,{size:"large",type:"password"}))),r.a.createElement(qr,{label:"New Password"},t("newPassword")(r.a.createElement(E.a,{size:"large",type:"password"}))))))))),r.a.createElement(Ut,null)))})),Cr=f.a.Item;var zr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,1)[0];return r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){e||w.a.post("http://127.0.0.1:8000/telegramlogin?phone=".concat(t.phone,"&code=").concat(parseInt(t.code))).then(Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success("Hello World");case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}))}))}},r.a.createElement(Ke.a,{gutter:24},r.a.createElement(We.a,{span:18},r.a.createElement(Cr,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),r.a.createElement(We.a,{span:6},r.a.createElement(Cr,null,t("code",{rules:[{required:!0,message:"The Code is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Code"})))),r.a.createElement(We.a,{span:24},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!l},l?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))})),Lr=a(367),Ar=a.n(Lr),Fr=(a(724),f.a.Item);var Vr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,1)[0];return r.a.createElement("div",{style:{marginBottom:"24px"}},r.a.createElement("h4",null,"Verify Code telegram"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){console.log(e),e||(console.log(t),w.a.post("http://127.0.0.1:8000/telegrammsg?phone=".concat(t.phone,"&channel=").concat(t.channel,"&msg=").concat(t.msg)).then(Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success("Hello World");case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)})))}))}},r.a.createElement(Ke.a,{gutter:12},r.a.createElement(We.a,{span:12},r.a.createElement(Fr,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}],initialValue:e.phone})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number"})))),r.a.createElement(We.a,{span:12},r.a.createElement(Fr,null,t("channel",{rules:[{required:!0,message:"The Channel is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Channel"})))),r.a.createElement(We.a,{span:24},r.a.createElement(Fr,null,t("msg",{rules:[{required:!0,message:"The message is required"}]})(r.a.createElement(Ar.a,null)))),r.a.createElement(We.a,{span:24},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!l},l?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))})),Mr=f.a.Item,Yr=Je.a.Content;var Rr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,1)[0],i=Object(n.useState)(""),c=Object(p.a)(i,2),o=c[0],s=c[1];return console.log(o),r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Yr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container",style:{width:"60%"}},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Telegram Bot"),r.a.createElement("div",{style:{marginBottom:"24px"}},r.a.createElement("h4",null,"Login telegram"),r.a.createElement(f.a,{className:"login-form",onSubmit:function(e){e.preventDefault(),w.a.post("http://127.0.0.1:8000/sendrequest?phone=".concat(o)).then(Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.success("Hello World");case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}))}},r.a.createElement(Ke.a,{gutter:24},r.a.createElement(We.a,{span:24},r.a.createElement(Mr,null,t("phone",{rules:[{required:!0,message:"The Phone Number is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Phone Number",onChange:function(e){s(e.target.value)}})))),r.a.createElement(We.a,{span:24},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!l},l?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))),r.a.createElement("div",{style:{marginBottom:"24px"}},r.a.createElement(zr,{phone:o})),r.a.createElement("div",{style:{marginBottom:"24px"}},r.a.createElement(Vr,{phone:o}))))),r.a.createElement(Ut,null)))})),Hr={embed:la.a,table:ca.a,list:sa.a,warning:ua.a,code:pa.a,linkTool:ba.a,image:Ea.a,raw:ha.a,header:Oa.a,quote:ja.a,marker:Sa.a,checklist:xa.a,delimiter:$a.a,inlineCode:Da.a,simpleImage:Ta.a};function Ur(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Br(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ur(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ur(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jr=f.a.Item,Kr=Je.a.Content;var Wr=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.a)(Te),l=Object(p.a)(a,1)[0],i=Object(n.useContext)(Ge),c=Object(n.useState)(!1),o=Object(p.a)(c,2),s=o[0],d=o[1],g=Object(n.useState)(""),h=Object(p.a)(g,1)[0],O=r.a.useRef(null),w=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||l({variables:Br({},n,{description:JSON.stringify(a)})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),setTimeout((function(){d(!1)}),3e3),e.form.resetFields(),t.next=5,b.a.success("Legal created successfully.",3);case 5:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]);return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Kr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Legal"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[16,16]},r.a.createElement(We.a,{span:24},r.a.createElement(Jr,null,t("title",{rules:[{required:!0,message:"The title is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"}))),r.a.createElement(Jr,{label:"Description: "},t("description",{initialValue:h})(r.a.createElement("div",null,r.a.createElement(na.a,{instanceRef:function(e){return O.current=e},tools:Hr,placeholder:"Let's write an awesome story!"})))),r.a.createElement(Jr,null,t("created_by",{initialValue:i.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),r.a.createElement(We.a,{span:24},r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:w},s?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit"))))))),r.a.createElement(Ut,null)))})),Qr=Je.a.Content;var Gr=f.a.create()((function(){var e=Object(D.a)(Ce),t=Object(p.a)(e,1)[0],a=Object(D.b)(Lt).refetch,n=[{title:"Title",dataIndex:"title",onFilter:function(e,t){return 0===t.title.indexOf(e)},sorter:function(e,t){return e.title.length-t.title.length}},{title:"Author",dataIndex:"created_by",sorter:function(e,t){return e.created_by.length-t.created_by.length}},{title:"Date",dataIndex:"created_at"},{title:"Actions",dataIndex:"action"}];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(Qr,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Legals"),r.a.createElement((function(){var e=Object(D.b)(Lt),l=e.error,i=e.loading,o=e.data;return l&&console.log(l),i?r.a.createElement(Wa.a,{loading:!0}):o?r.a.createElement(Wa.a,{columns:n,dataSource:o.legals.map((function(e){return{key:e.id,title:e.title,created_by:e.created_by,created_at:en.a.unix(e.created_at/1e3).format("YYYY-MM-DD"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/legal/edit/".concat(e.id)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this legal?",onConfirm:function(){t({variables:{id:"".concat(e.id)}}),b.a.success("The Legal has been Deleted"),a()},okText:"Yes",cancelText:"No"},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}}))}):void 0}),null)))),r.a.createElement(Ut,null)))}));function Xr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xr(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var el=f.a.Item,tl=Je.a.Content;var al=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useContext)(Ge),l=Object(D.b)(At,{variables:{id:window.location.pathname.split("/")[4]}}),i=l.error,c=l.loading,o=l.data,s=Object(n.useState)(!1),d=Object(p.a)(s,2),g=d[0],h=d[1],O=r.a.useRef(null),w=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||S({variables:Zr({id:window.location.pathname.split("/")[4]},n,{description:JSON.stringify(a)})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),setTimeout((function(){h(!1)}),3e3),e.form.resetFields(),t.next=5,b.a.success("Legal updated successfully.",3);case 5:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),j=Object(D.a)(Ie),S=Object(p.a)(j,1)[0];return i&&console.log(i),c?"Loading ...":r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(tl,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Legal"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[16,16]},r.a.createElement(We.a,{span:24},r.a.createElement(el,null,t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:o.legal.title})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"font-size",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Title"}))),r.a.createElement(el,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return O.current=e},tools:Hr,data:c?"Loading ...":JSON.parse(o.legal.description)})),r.a.createElement(el,null,t("created_by",{initialValue:a.user.fullname,rules:[{required:!0,message:"User name  is required"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",disabled:!0})))),r.a.createElement(We.a,{span:24},r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:w},g?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update"))))))),r.a.createElement(Ut,null)))})),nl=Je.a.Content;var rl=function(){var e=Object(D.a)(he),t=Object(p.a)(e,1)[0],a=[{title:"First Name",dataIndex:"fname"},{title:"Last Name",dataIndex:"lname"},{title:"Email",dataIndex:"email"},{title:"Phone Number",dataIndex:"phoneNumber"},{title:"Product",dataIndex:"product"},{title:"Price",dataIndex:"price"},{title:"Cancle",dataIndex:"cancle"},{title:"Actions",dataIndex:"action"}];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(nl,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Payments"),r.a.createElement((function(){var e=Object(D.b)(Ft),n=e.error,l=e.loading,i=e.data;if(n&&console.log(n),l)return r.a.createElement(Wa.a,{loading:!0});if(i){console.log(i);return r.a.createElement("div",null,r.a.createElement((function(){return r.a.createElement(Wa.a,{columns:a,dataSource:i.payments.map((function(e){var a=e.id,n=e.fname,l=e.lname,i=e.email,c=e.created_at,o=e.phoneNumber,s=e.price,m=e.product,u=e.cancle;return{key:a,fname:n,lname:l,email:i,phoneNumber:o,product:m.map((function(e){return r.a.createElement(Qa.a,{color:"blue"},e)})),price:"$".concat(s,".00"),cancle:u?r.a.createElement(Qa.a,{color:"red"},"Yes"):r.a.createElement(Qa.a,{color:"green"},"No"),created_at:en.a.unix(c/1e3).format("YYYY-MM-DD"),action:r.a.createElement("div",null,r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this Post?",okText:"Yes",cancelText:"No",onConfirm:function(){t({variables:{id:"".concat(a)}}),b.a.success("The Post has been Deleted")}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!0})}),null))}}),null)))),r.a.createElement(Ut,null)))},ll={embed:la.a,table:ca.a,list:sa.a,warning:ua.a,code:pa.a,linkTool:ba.a,image:Ea.a,raw:ha.a,header:Oa.a,quote:ja.a,marker:Sa.a,checklist:xa.a,delimiter:$a.a,inlineCode:Da.a,simpleImage:Ta.a};function il(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?il(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):il(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ol=f.a.Item,sl=Je.a.Content;var ml=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(""),s=Object(p.a)(o,2),d=s[0],g=s[1],y=Object(n.useState)(""),h=Object(p.a)(y,2),O=h[0],w=h[1],j=Object(n.useContext)(Ge),S=Object(D.b)(Vt).refetch,_=Object(D.a)(ze),x=Object(p.a)(_,1)[0],N={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:O,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(w(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}},$={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:O,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(g(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," logo uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," logo upload failed."))}},P=r.a.useRef(null),q=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){t||x({variables:cl({},n,{description:JSON.stringify(a)})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),setTimeout((function(){c(!1)}),3e3),S(),e.form.resetFields(),t.next=6,b.a.success("Software added successfully.",3);case 6:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]);return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(sl,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Add Software"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(ol,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}]})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(ol,{label:"Created By: ",style:{display:"none"}},t("created_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:j.user.fullname})(r.a.createElement(E.a,{placeholder:"SAN Vuthy",size:"large"}))),r.a.createElement(ol,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return P.current=e},tools:ll,placeholder:"Let's write an awesome story!"}))),r.a.createElement(We.a,{span:8},r.a.createElement(ol,{label:"Logo"},r.a.createElement(Va.a.Dragger,$,d?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(d)),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:"/public/uploads/"+d})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement(ol,{label:"Image"},r.a.createElement(Va.a.Dragger,N,O?r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+"".concat(O)),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"/images/no-image.jpg",alt:"koompi",width:"100%"})),r.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Image is required"}],initialValue:"/public/uploads/"+O})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",size:"large",className:"btnSubmit",disabled:!!i,onClick:q},i?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Submit")))))))),r.a.createElement(Ut,null)))})),ul=Je.a.Content;var dl=function(){var e=Object(D.a)(Ae),t=Object(p.a)(e,1)[0],a=Object(D.b)(Vt).refetch,n=[{title:"Logo",dataIndex:"logo"},{title:"Image",dataIndex:"image"},{title:"Title",dataIndex:"title",key:"title"},{title:"Author",dataIndex:"created_by",key:"created_by"},{title:"Date",dataIndex:"created_at",key:"created_at"},{title:"Actions",dataIndex:"action"}];return r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(ul,null,r.a.createElement(Rt,null),r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"All softwares"),r.a.createElement((function(){var e=Object(D.b)(Vt),l=e.error,i=e.loading,o=e.data;if(l&&console.log(l),i)return r.a.createElement(Wa.a,{loading:!0});if(o){return r.a.createElement("div",null,r.a.createElement((function(){return r.a.createElement(Wa.a,{columns:n,dataSource:o.softwares.map((function(e){var n=e.id,l=e.title,i=e.created_at,o=e.user;return{key:n,logo:r.a.createElement("img",{src:"https://admin.koompi.com"+e.logo,alt:"software",height:"50px",width:"50px"}),image:r.a.createElement("img",{src:"https://admin.koompi.com"+e.image,alt:"software",height:"50px",width:"50px",style:{borderRadius:"50%"}}),title:l.length<=25?l:l.substring(0,25)+" ...",created_by:null===o?"Null":o.fullname,created_at:en.a.unix(i/1e3).format("YYYY-MM-DD"),action:r.a.createElement("div",null,r.a.createElement(c.b,{to:"/admin/software/edit/".concat(n)},r.a.createElement(Qa.a,{className:"btn",color:"#2db7f5"},"Edit")),r.a.createElement(Ga.a,{type:"vertical"}),r.a.createElement(Xa.a,{placement:"topRight",title:"Are you sure to delete this software?",okText:"Yes",cancelText:"No",onConfirm:function(){t({variables:{id:"".concat(n)}}),b.a.success("The software has been Deleted"),a()}},r.a.createElement(Qa.a,{color:"#f50",className:"btn"},"Delete")))}})),pagination:!0})}),null))}}),null)))),r.a.createElement(Ut,null)))};function pl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pl(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pl(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var bl=f.a.Item,fl=Je.a.Content;var El=f.a.create()((function(e){var t=e.form.getFieldDecorator,a=Object(D.b)(Mt,{variables:{id:window.location.pathname.split("/")[4]}}),l=a.loading,i=a.data,c=Object(n.useState)(!1),o=Object(p.a)(c,2),s=o[0],d=o[1],g=Object(n.useState)(null),y=Object(p.a)(g,2),h=y[0],O=y[1],w=Object(n.useState)(null),j=Object(p.a)(w,2),S=j[0],_=j[1],x=Object(n.useContext)(Ge),N=r.a.useRef(null),$=Object(D.b)(Vt).refetch,P=Object(D.a)(Le),q=Object(p.a)(P,1)[0],T=r.a.useCallback(Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.current.save();case 2:a=t.sent,e.form.validateFieldsAndScroll((function(t,n){console.log(za()(n.title,{lower:!0})),t||q({variables:gl({id:window.location.pathname.split("/")[4]},n,{slug:za()(n.title,{lower:!0}),description:JSON.stringify(a)})}).then(Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),setTimeout((function(){d(!1)}),3e3),$(),t.next=5,b.a.success("Software updated successfully.",3);case 5:return t.next=7,e.history.push("/admin/all-software");case 7:case"end":return t.stop()}}),t)})))).catch((function(e){console.log(e)}))}));case 4:case"end":return t.stop()}}),t)}))),[]),I={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:S,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(_(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," file upload failed."))}},C={name:"file",multiple:!1,action:"https://admin.koompi.com/upload/image",defaultFileList:S,onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(O(e.file.name.replace(/\s+/g,"-").toLowerCase()),b.a.success("".concat(e.file.name," logo uploaded successfully."))):"error"===t&&b.a.error("".concat(e.file.name," logo upload failed."))}};return l?"Loading...":(console.log("Result",i.software.description),r.a.createElement(Je.a,{style:{minHeight:"100vh"}},r.a.createElement(at,null),r.a.createElement(Je.a,null,r.a.createElement(Rt,null),r.a.createElement(fl,{style:{margin:"20px 16px"}},r.a.createElement("div",{className:"koompi container"},r.a.createElement("div",{className:"background_container"},r.a.createElement("h1",{className:"title_new_post"},"Update Software"),r.a.createElement(f.a,{className:"login-form"},r.a.createElement(Ke.a,{gutter:[24,8]},r.a.createElement(We.a,{span:16},r.a.createElement(bl,{label:"Title"},t("title",{rules:[{required:!0,message:"The title is required"}],initialValue:i.software.title})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(bl,{label:"Updated By: ",style:{display:"none"}},t("updated_by",{rules:[{required:!0,message:"The user name is required"}],initialValue:x.user.fullname})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(bl,{label:"update at: ",style:{display:"none"}},t("updated_at",{rules:[{required:!0,message:"The user name is required"}],initialValue:(new Date).toISOString()})(r.a.createElement(E.a,{size:"large"}))),r.a.createElement(bl,{label:"Description: "},r.a.createElement(na.a,{instanceRef:function(e){return N.current=e},tools:ll,data:l?"Loading ...":JSON.parse(i.software.description)}))),r.a.createElement(We.a,{span:8},r.a.createElement(bl,{label:"Logo"},r.a.createElement(Va.a.Dragger,C,null===h?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+i.software.logo),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+h),alt:"avatar",style:{width:"100%"}})),r.a.createElement("div",{style:{display:"none"}},t("logo",{rules:[{required:!0,message:"Logo is required"}],initialValue:null===h?i.software.logo:"/public/uploads/"+h})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement(bl,{label:"Image"},r.a.createElement(Va.a.Dragger,I,null===S?r.a.createElement("img",{src:"".concat("https://admin.koompi.com"+i.software.image),alt:"avatar",style:{width:"100%"}}):r.a.createElement("img",{src:"".concat("https://admin.koompi.com/public/uploads/"+S),alt:"avatar",style:{width:"100%"}})),r.a.createElement("div",{style:{display:"none"}},t("image",{rules:[{required:!0,message:"Image is required"}],initialValue:null===S?i.software.image:"/public/uploads/"+S})(r.a.createElement(E.a,{size:"large"})))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:T},s?r.a.createElement("img",{src:k.a,alt:"btn-loading",height:"10"}):"Update")))))))),r.a.createElement(Ut,null))))}));var yl=function(){return r.a.createElement(Xe,null,r.a.createElement(c.a,null,r.a.createElement(o.d,null,r.a.createElement(Be,{restricted:!0,exact:!0,path:"/login",component:P}),r.a.createElement(Be,{exact:!0,path:"/",restricted:!0,component:P}),r.a.createElement(Be,{exact:!0,path:"/logout",component:On}),r.a.createElement(Be,{exact:!0,path:"/register",component:Fe}),r.a.createElement(Ue,{exact:!0,path:"/admin/dashboard",component:ta}),r.a.createElement(Ue,{exact:!0,path:"/admin/users",component:vn}),r.a.createElement(Ue,{exact:!0,path:"/admin/user/settings",component:Ir}),r.a.createElement(Ue,{exact:!0,path:"/admin/new-post",component:Ka}),r.a.createElement(Ue,{exact:!0,path:"/admin/all-posts",component:an}),r.a.createElement(Ue,{exact:!0,path:"/admin/post/edit/:id",component:Fn}),r.a.createElement(Ue,{exact:!0,path:"/admin/add-software",component:ml}),r.a.createElement(Ue,{exact:!0,path:"/admin/all-softwares",component:dl}),r.a.createElement(Ue,{exact:!0,path:"/admin/software/edit/:id",component:El}),r.a.createElement(Ue,{exact:!0,path:"/admin/new-page",component:pn}),r.a.createElement(Ue,{exact:!0,path:"/admin/all-pages",component:yn}),r.a.createElement(Ue,{exact:!0,path:"/admin/page/edit/:id",component:Jn}),r.a.createElement(Ue,{exact:!0,path:"/admin/categories",component:_n}),r.a.createElement(Ue,{exact:!0,path:"/admin/category/edit/:id",component:Dn}),r.a.createElement(Ue,{exact:!0,path:"/admin/new-member",component:Zn}),r.a.createElement(Ue,{exact:!0,path:"/admin/members",component:tr}),r.a.createElement(Ue,{exact:!0,path:"/admin/member/edit/:id",component:cr}),r.a.createElement(Ue,{exact:!0,path:"/admin/new-retailer",component:dr}),r.a.createElement(Ue,{exact:!0,path:"/admin/retailers",component:gr}),r.a.createElement(Ue,{exact:!0,path:"/admin/retailer/edit/:id",component:hr}),r.a.createElement(Ue,{exact:!0,path:"/admin/add-social-media",component:kr}),r.a.createElement(Ue,{exact:!0,path:"/admin/social-media",component:_r}),r.a.createElement(Ue,{exact:!0,path:"/admin/social-media/edit/:id",component:Dr}),r.a.createElement(Ue,{exact:!0,path:"/admin/user/payments",component:rl}),r.a.createElement(Ue,{exact:!0,path:"/admin/telegram-bot",component:Rr}),r.a.createElement(Ue,{exact:!0,path:"/admin/new-legal",component:Wr}),r.a.createElement(Ue,{exact:!0,path:"/admin/all-legals",component:Gr}),r.a.createElement(Ue,{exact:!0,path:"/admin/legal/edit/:id",component:al}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var hl=a(368),vl=a(114),Ol=a(47),wl=new vl.a,jl=new hl.a({cache:wl,uri:"https://admin.koompi.com/admin"});i.a.render(r.a.createElement(Ol.a,{client:jl},r.a.createElement(yl,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[371,1,2]]]);
//# sourceMappingURL=main.e3a354bd.chunk.js.map